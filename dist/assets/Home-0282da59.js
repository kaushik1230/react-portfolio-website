import{_ as Z,r as F,R as j2,u as Hc,w as iC,T as sC,j as $,a as _t,b as oM,g as aM,c as oC,d as aC,e as lC,f as cC,s as ey,C as uC,I as K2,m as lM,h as cM,i as uM,p as fM,k as hM,l as ty,n as fC,o as dM,L as pM,q as hC,t as ny,v as ry,x as mM}from"./index-ff66e30b.js";const gM={black:"#000",white:"#fff"},Xf=gM,AM={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ql=AM,vM={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Yl=vM,yM={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Xl=yM,xM={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$l=xM,CM={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Zl=CM,EM={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zu=EM,SM={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},_M=SM;function tl(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function dC(n){if(!tl(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=dC(n[t])}),e}function kr(n,e,t={clone:!0}){const r=t.clone?Z({},n):n;return tl(n)&&tl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(tl(e[i])&&i in n&&tl(n[i])?r[i]=kr(n[i],e[i],t):t.clone?r[i]=tl(e[i])?dC(e[i]):e[i]:r[i]=e[i])}),r}function $o(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}var Zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M5=Symbol.for("react.element"),T5=Symbol.for("react.portal"),g3=Symbol.for("react.fragment"),A3=Symbol.for("react.strict_mode"),v3=Symbol.for("react.profiler"),y3=Symbol.for("react.provider"),x3=Symbol.for("react.context"),bM=Symbol.for("react.server_context"),C3=Symbol.for("react.forward_ref"),E3=Symbol.for("react.suspense"),S3=Symbol.for("react.suspense_list"),_3=Symbol.for("react.memo"),b3=Symbol.for("react.lazy"),IM=Symbol.for("react.offscreen"),pC;pC=Symbol.for("react.module.reference");function Bi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case M5:switch(n=n.type,n){case g3:case v3:case A3:case E3:case S3:return n;default:switch(n=n&&n.$$typeof,n){case bM:case x3:case C3:case b3:case _3:case y3:return n;default:return e}}case T5:return e}}}Zt.ContextConsumer=x3;Zt.ContextProvider=y3;Zt.Element=M5;Zt.ForwardRef=C3;Zt.Fragment=g3;Zt.Lazy=b3;Zt.Memo=_3;Zt.Portal=T5;Zt.Profiler=v3;Zt.StrictMode=A3;Zt.Suspense=E3;Zt.SuspenseList=S3;Zt.isAsyncMode=function(){return!1};Zt.isConcurrentMode=function(){return!1};Zt.isContextConsumer=function(n){return Bi(n)===x3};Zt.isContextProvider=function(n){return Bi(n)===y3};Zt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===M5};Zt.isForwardRef=function(n){return Bi(n)===C3};Zt.isFragment=function(n){return Bi(n)===g3};Zt.isLazy=function(n){return Bi(n)===b3};Zt.isMemo=function(n){return Bi(n)===_3};Zt.isPortal=function(n){return Bi(n)===T5};Zt.isProfiler=function(n){return Bi(n)===v3};Zt.isStrictMode=function(n){return Bi(n)===A3};Zt.isSuspense=function(n){return Bi(n)===E3};Zt.isSuspenseList=function(n){return Bi(n)===S3};Zt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===g3||n===v3||n===A3||n===E3||n===S3||n===IM||typeof n=="object"&&n!==null&&(n.$$typeof===b3||n.$$typeof===_3||n.$$typeof===y3||n.$$typeof===x3||n.$$typeof===C3||n.$$typeof===pC||n.getModuleId!==void 0)};Zt.typeOf=Bi;function fn(n){if(typeof n!="string")throw new Error($o(7));return n.charAt(0).toUpperCase()+n.slice(1)}function iy(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function mC(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function oA(n,e){return F.isValidElement(n)&&e.indexOf(n.type.muiName)!==-1}function Xr(n){return n&&n.ownerDocument||document}function yl(n){return Xr(n).defaultView||window}function q2(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let sy=0;function wM(n){const[e,t]=F.useState(n),r=n||e;return F.useEffect(()=>{e==null&&(sy+=1,t(`mui-${sy}`))},[e]),r}const oy=j2["useId".toString()];function MM(n){if(oy!==void 0){const e=oy();return n??e}return wM(n)}function ay({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=F.useRef(n!==void 0),[s,o]=F.useState(e),a=i?n:s,l=F.useCallback(c=>{i||o(c)},[]);return[a,l]}function ly(n){const e=F.useRef(n);return Hc(()=>{e.current=n}),F.useCallback((...t)=>(0,e.current)(...t),[])}function Ri(...n){return F.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{q2(t,e)})},n)}function gC(n){const e=n.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function nr(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),t&&t[o]&&s.push(t[o])}return s},[]).join(" ")}),r}const cy=n=>n,TM=()=>{let n=cy;return{configure(e){n=e},generate(e){return n(e)},reset(){n=cy}}},BM=TM(),AC=BM,RM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function qn(n,e,t="Mui"){const r=RM[e];return r?`${t}-${r}`:`${AC.generate(n)}-${e}`}function rr(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=qn(n,i,t)}),r}const Ph="$$material";function vC(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var PM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DM=vC(function(n){return PM.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),yC={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=typeof Symbol=="function"&&Symbol.for,B5=ir?Symbol.for("react.element"):60103,R5=ir?Symbol.for("react.portal"):60106,I3=ir?Symbol.for("react.fragment"):60107,w3=ir?Symbol.for("react.strict_mode"):60108,M3=ir?Symbol.for("react.profiler"):60114,T3=ir?Symbol.for("react.provider"):60109,B3=ir?Symbol.for("react.context"):60110,P5=ir?Symbol.for("react.async_mode"):60111,R3=ir?Symbol.for("react.concurrent_mode"):60111,P3=ir?Symbol.for("react.forward_ref"):60112,D3=ir?Symbol.for("react.suspense"):60113,LM=ir?Symbol.for("react.suspense_list"):60120,L3=ir?Symbol.for("react.memo"):60115,F3=ir?Symbol.for("react.lazy"):60116,FM=ir?Symbol.for("react.block"):60121,kM=ir?Symbol.for("react.fundamental"):60117,NM=ir?Symbol.for("react.responder"):60118,OM=ir?Symbol.for("react.scope"):60119;function ii(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case B5:switch(n=n.type,n){case P5:case R3:case I3:case M3:case w3:case D3:return n;default:switch(n=n&&n.$$typeof,n){case B3:case P3:case F3:case L3:case T3:return n;default:return e}}case R5:return e}}}function xC(n){return ii(n)===R3}Xt.AsyncMode=P5;Xt.ConcurrentMode=R3;Xt.ContextConsumer=B3;Xt.ContextProvider=T3;Xt.Element=B5;Xt.ForwardRef=P3;Xt.Fragment=I3;Xt.Lazy=F3;Xt.Memo=L3;Xt.Portal=R5;Xt.Profiler=M3;Xt.StrictMode=w3;Xt.Suspense=D3;Xt.isAsyncMode=function(n){return xC(n)||ii(n)===P5};Xt.isConcurrentMode=xC;Xt.isContextConsumer=function(n){return ii(n)===B3};Xt.isContextProvider=function(n){return ii(n)===T3};Xt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===B5};Xt.isForwardRef=function(n){return ii(n)===P3};Xt.isFragment=function(n){return ii(n)===I3};Xt.isLazy=function(n){return ii(n)===F3};Xt.isMemo=function(n){return ii(n)===L3};Xt.isPortal=function(n){return ii(n)===R5};Xt.isProfiler=function(n){return ii(n)===M3};Xt.isStrictMode=function(n){return ii(n)===w3};Xt.isSuspense=function(n){return ii(n)===D3};Xt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===I3||n===R3||n===M3||n===w3||n===D3||n===LM||typeof n=="object"&&n!==null&&(n.$$typeof===F3||n.$$typeof===L3||n.$$typeof===T3||n.$$typeof===B3||n.$$typeof===P3||n.$$typeof===kM||n.$$typeof===NM||n.$$typeof===OM||n.$$typeof===FM)};Xt.typeOf=ii;yC.exports=Xt;var UM=yC.exports,CC=UM,GM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EC={};EC[CC.ForwardRef]=GM;EC[CC.Memo]=QM;var HM=!0;function zM(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var SC=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||HM===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},_C=function(e,t,r){SC(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function VM(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var WM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JM=/[A-Z]|^ms/g,jM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bC=function(e){return e.charCodeAt(1)===45},uy=function(e){return e!=null&&typeof e!="boolean"},aA=vC(function(n){return bC(n)?n:n.replace(JM,"-$&").toLowerCase()}),fy=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(jM,function(r,i,s){return As={name:i,styles:s,next:As},i})}return WM[e]!==1&&!bC(e)&&typeof t=="number"&&t!==0?t+"px":t};function $f(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return As={name:t.name,styles:t.styles,next:As},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)As={name:r.name,styles:r.styles,next:As},r=r.next;var i=t.styles+";";return i}return KM(n,e,t)}case"function":{if(n!==void 0){var s=As,o=t(n);return As=s,$f(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function KM(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=$f(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":uy(o)&&(r+=aA(s)+":"+fy(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)uy(o[a])&&(r+=aA(s)+":"+fy(s,o[a])+";");else{var l=$f(n,e,o);switch(s){case"animation":case"animationName":{r+=aA(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var hy=/label:\s*([^\s;\n{]+)\s*(;|$)/g,As,IC=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";As=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=$f(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=$f(r,t,e[a]),i&&(s+=o[a]);hy.lastIndex=0;for(var l="",c;(c=hy.exec(s))!==null;)l+="-"+c[1];var u=VM(s)+l;return{name:u,styles:s,next:As}},qM=function(e){return e()},wC=j2["useInsertionEffect"]?j2["useInsertionEffect"]:!1,YM=wC||qM,dy=wC||F.useLayoutEffect,XM=iC(function(n,e){var t=n.styles,r=IC([t],void 0,F.useContext(sC)),i=F.useRef();return dy(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),dy(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&_C(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null}),$M=DM,ZM=function(e){return e!=="theme"},py=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?$M:ZM},my=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},eT=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return SC(t,r,i),YM(function(){return _C(t,r,i)}),null},tT=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=my(e,t,r),l=a||py(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var p=u.length,m=1;m<p;m++)d.push(u[m],u[0][m])}var g=iC(function(A,v,C){var x=c&&A.as||i,E="",_=[],I=A;if(A.theme==null){I={};for(var M in A)I[M]=A[M];I.theme=F.useContext(sC)}typeof A.className=="string"?E=zM(v.registered,_,A.className):A.className!=null&&(E=A.className+" ");var T=IC(d.concat(_),v.registered,I);E+=v.key+"-"+T.name,o!==void 0&&(E+=" "+o);var w=c&&a===void 0?py(x):l,R={};for(var D in A)c&&D==="as"||w(D)&&(R[D]=A[D]);return R.className=E,R.ref=C,F.createElement(F.Fragment,null,F.createElement(eT,{cache:v,serialized:T,isStringTag:typeof x=="string"}),F.createElement(x,R))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(A,v){return n(A,Z({},t,v,{shouldForwardProp:my(g,v,!0)})).apply(void 0,d)},g}},nT=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Y2=tT.bind();nT.forEach(function(n){Y2[n]=Y2(n)});function rT(n){return n==null||Object.keys(n).length===0}function iT(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(rT(i)?t:i):e;return $.jsx(XM,{styles:r})}/**
 * @mui/styled-engine v5.14.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function MC(n,e){return Y2(n,e)}const sT=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},oT=["values","unit","step"],aT=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Z({},t,{[r.key]:r.val}),{})};function lT(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=_t(n,oT),s=aT(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function c(p,m){const g=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:m)-r/100}${t})`}function u(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function d(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return Z({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:t},i)}const cT={borderRadius:4},uT=cT;function Df(n,e){return e?kr(n,e,{clone:!1}):n}const D5={xs:0,sm:600,md:900,lg:1200,xl:1536},gy={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${D5[n]}px)`};function no(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||gy;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||gy;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||D5).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function fT(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function hT(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function k3(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function N0(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=k3(n,t)||r,e&&(i=e(i,r,n)),i}function qt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=k3(l,r)||{};return no(o,a,d=>{let p=N0(c,i,d);return d===p&&typeof d=="string"&&(p=N0(c,i,`${e}${d==="default"?"":fn(d)}`,d)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function dT(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const pT={m:"margin",p:"padding"},mT={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ay={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gT=dT(n=>{if(n.length>2)if(Ay[n])n=Ay[n];else return[n];const[e,t]=n.split(""),r=pT[e],i=mT[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),L5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...L5,...F5];function Dh(n,e,t,r){var i;const s=(i=k3(n,e,!1))!=null?i:t;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function TC(n){return Dh(n,"spacing",8)}function Lh(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function AT(n,e){return t=>n.reduce((r,i)=>(r[i]=Lh(e,t),r),{})}function vT(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=gT(t),s=AT(i,r),o=n[t];return no(n,o,s)}function BC(n,e){const t=TC(n.theme);return Object.keys(n).map(r=>vT(n,e,r,t)).reduce(Df,{})}function bn(n){return BC(n,L5)}bn.propTypes={};bn.filterProps=L5;function In(n){return BC(n,F5)}In.propTypes={};In.filterProps=F5;function yT(n=8){if(n.mui)return n;const e=TC({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function N3(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?Df(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function ys(n){return typeof n!="number"?n:`${n}px solid`}const xT=qt({prop:"border",themeKey:"borders",transform:ys}),CT=qt({prop:"borderTop",themeKey:"borders",transform:ys}),ET=qt({prop:"borderRight",themeKey:"borders",transform:ys}),ST=qt({prop:"borderBottom",themeKey:"borders",transform:ys}),_T=qt({prop:"borderLeft",themeKey:"borders",transform:ys}),bT=qt({prop:"borderColor",themeKey:"palette"}),IT=qt({prop:"borderTopColor",themeKey:"palette"}),wT=qt({prop:"borderRightColor",themeKey:"palette"}),MT=qt({prop:"borderBottomColor",themeKey:"palette"}),TT=qt({prop:"borderLeftColor",themeKey:"palette"}),O3=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Dh(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Lh(e,r)});return no(n,n.borderRadius,t)}return null};O3.propTypes={};O3.filterProps=["borderRadius"];N3(xT,CT,ET,ST,_T,bT,IT,wT,MT,TT,O3);const U3=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Dh(n.theme,"spacing",8),t=r=>({gap:Lh(e,r)});return no(n,n.gap,t)}return null};U3.propTypes={};U3.filterProps=["gap"];const G3=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Dh(n.theme,"spacing",8),t=r=>({columnGap:Lh(e,r)});return no(n,n.columnGap,t)}return null};G3.propTypes={};G3.filterProps=["columnGap"];const Q3=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Dh(n.theme,"spacing",8),t=r=>({rowGap:Lh(e,r)});return no(n,n.rowGap,t)}return null};Q3.propTypes={};Q3.filterProps=["rowGap"];const BT=qt({prop:"gridColumn"}),RT=qt({prop:"gridRow"}),PT=qt({prop:"gridAutoFlow"}),DT=qt({prop:"gridAutoColumns"}),LT=qt({prop:"gridAutoRows"}),FT=qt({prop:"gridTemplateColumns"}),kT=qt({prop:"gridTemplateRows"}),NT=qt({prop:"gridTemplateAreas"}),OT=qt({prop:"gridArea"});N3(U3,G3,Q3,BT,RT,PT,DT,LT,FT,kT,NT,OT);function Lc(n,e){return e==="grey"?e:n}const UT=qt({prop:"color",themeKey:"palette",transform:Lc}),GT=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Lc}),QT=qt({prop:"backgroundColor",themeKey:"palette",transform:Lc});N3(UT,GT,QT);function qr(n){return n<=1&&n!==0?`${n*100}%`:n}const HT=qt({prop:"width",transform:qr}),k5=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i;const s=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||D5[t];return s?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${n.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:qr(t)}};return no(n,n.maxWidth,e)}return null};k5.filterProps=["maxWidth"];const zT=qt({prop:"minWidth",transform:qr}),VT=qt({prop:"height",transform:qr}),WT=qt({prop:"maxHeight",transform:qr}),JT=qt({prop:"minHeight",transform:qr});qt({prop:"size",cssProperty:"width",transform:qr});qt({prop:"size",cssProperty:"height",transform:qr});const jT=qt({prop:"boxSizing"});N3(HT,k5,zT,VT,WT,JT,jT);const KT={border:{themeKey:"borders",transform:ys},borderTop:{themeKey:"borders",transform:ys},borderRight:{themeKey:"borders",transform:ys},borderBottom:{themeKey:"borders",transform:ys},borderLeft:{themeKey:"borders",transform:ys},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:O3},color:{themeKey:"palette",transform:Lc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Lc},backgroundColor:{themeKey:"palette",transform:Lc},p:{style:In},pt:{style:In},pr:{style:In},pb:{style:In},pl:{style:In},px:{style:In},py:{style:In},padding:{style:In},paddingTop:{style:In},paddingRight:{style:In},paddingBottom:{style:In},paddingLeft:{style:In},paddingX:{style:In},paddingY:{style:In},paddingInline:{style:In},paddingInlineStart:{style:In},paddingInlineEnd:{style:In},paddingBlock:{style:In},paddingBlockStart:{style:In},paddingBlockEnd:{style:In},m:{style:bn},mt:{style:bn},mr:{style:bn},mb:{style:bn},ml:{style:bn},mx:{style:bn},my:{style:bn},margin:{style:bn},marginTop:{style:bn},marginRight:{style:bn},marginBottom:{style:bn},marginLeft:{style:bn},marginX:{style:bn},marginY:{style:bn},marginInline:{style:bn},marginInlineStart:{style:bn},marginInlineEnd:{style:bn},marginBlock:{style:bn},marginBlockStart:{style:bn},marginBlockEnd:{style:bn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:U3},rowGap:{style:Q3},columnGap:{style:G3},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qr},maxWidth:{style:k5},minWidth:{transform:qr},height:{transform:qr},maxHeight:{transform:qr},minHeight:{transform:qr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},H3=KT;function qT(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function YT(n,e){return typeof n=="function"?n(e):n}function XT(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[t]:r};const p=k3(i,c)||{};return d?d(o):no(o,r,g=>{let A=N0(p,u,g);return g===A&&typeof g=="string"&&(A=N0(p,u,`${t}${g==="default"?"":fn(g)}`,g)),l===!1?A:{[l]:A}})}function e(t){var r;const{sx:i,theme:s={}}=t||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:H3;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=fT(s.breakpoints),d=Object.keys(u);let p=u;return Object.keys(c).forEach(m=>{const g=YT(c[m],s);if(g!=null)if(typeof g=="object")if(o[m])p=Df(p,n(m,g,s,o));else{const A=no({theme:s},g,v=>({[m]:v}));qT(A,g)?p[m]=e({sx:g,theme:s}):p=Df(p,A)}else p=Df(p,n(m,g,s,o))}),hT(d,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const RC=XT();RC.filterProps=["sx"];const z3=RC,$T=["breakpoints","palette","spacing","shape"];function N5(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=_t(n,$T),a=lT(t),l=yT(i);let c=kr({breakpoints:a,direction:"ltr",components:{},palette:Z({mode:"light"},r),spacing:l,shape:Z({},uT,s)},o);return c=e.reduce((u,d)=>kr(u,d),c),c.unstable_sxConfig=Z({},H3,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return z3({sx:d,theme:this})},c}const ZT=N5();function V3(n=ZT){return oM(n)}function eB({styles:n,themeId:e,defaultTheme:t={}}){const r=V3(t),i=typeof n=="function"?n(e&&r[e]||r):n;return $.jsx(iT,{styles:i})}const tB=["sx"],nB=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:H3;return Object.keys(n).forEach(s=>{i[s]?r.systemProps[s]=n[s]:r.otherProps[s]=n[s]}),r};function rB(n){const{sx:e}=n,t=_t(n,tB),{systemProps:r,otherProps:i}=nB(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return tl(a)?Z({},r,a):r}:s=Z({},r,e),Z({},i,{sx:s})}function PC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=PC(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Rn(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=PC(n))&&(r&&(r+=" "),r+=e);return r}const iB=["className","component"];function sB(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=MC("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(z3);return F.forwardRef(function(l,c){const u=V3(t),d=rB(l),{className:p,component:m="div"}=d,g=_t(d,iB);return $.jsx(s,Z({as:m,ref:c,className:Rn(p,i?i(r):r),theme:e&&u[e]||u},g))})}const oB=["variant"];function vy(n){return n.length===0}function DC(n){const{variant:e}=n,t=_t(n,oB);let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=vy(r)?n[i]:fn(n[i]):r+=`${vy(r)?i:fn(i)}${fn(n[i].toString())}`}),r}const aB=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function lB(n){return Object.keys(n).length===0}function cB(n){return typeof n=="string"&&n.charCodeAt(0)>96}const uB=(n,e)=>e.components&&e.components[n]&&e.components[n].styleOverrides?e.components[n].styleOverrides:null,fB=(n,e)=>{let t=[];e&&e.components&&e.components[n]&&e.components[n].variants&&(t=e.components[n].variants);const r={};return t.forEach(i=>{const s=DC(i.props);r[s]=i.style}),r},hB=(n,e,t,r)=>{var i;const{ownerState:s={}}=n,o=[],a=t==null||(i=t.components)==null||(i=i[r])==null?void 0:i.variants;return a&&a.forEach(l=>{let c=!0;Object.keys(l.props).forEach(u=>{s[u]!==l.props[u]&&n[u]!==l.props[u]&&(c=!1)}),c&&o.push(e[DC(l.props)])}),o};function Lf(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const dB=N5(),pB=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function ef({defaultTheme:n,theme:e,themeId:t}){return lB(e)?n:e[t]||e}function mB(n){return n?(e,t)=>t[n]:null}function gB(n={}){const{themeId:e,defaultTheme:t=dB,rootShouldForwardProp:r=Lf,slotShouldForwardProp:i=Lf}=n,s=o=>z3(Z({},o,{theme:ef(Z({},o,{defaultTheme:t,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{sT(o,_=>_.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:p=mB(pB(c))}=a,m=_t(a,aB),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,A=d||!1;let v,C=Lf;c==="Root"||c==="root"?C=r:c?C=i:cB(o)&&(C=void 0);const x=MC(o,Z({shouldForwardProp:C,label:v},m)),E=(_,...I)=>{const M=I?I.map(D=>typeof D=="function"&&D.__emotion_real!==D?P=>D(Z({},P,{theme:ef(Z({},P,{defaultTheme:t,themeId:e}))})):D):[];let T=_;l&&p&&M.push(D=>{const P=ef(Z({},D,{defaultTheme:t,themeId:e})),z=uB(l,P);if(z){const q={};return Object.entries(z).forEach(([k,Q])=>{q[k]=typeof Q=="function"?Q(Z({},D,{theme:P})):Q}),p(D,q)}return null}),l&&!g&&M.push(D=>{const P=ef(Z({},D,{defaultTheme:t,themeId:e}));return hB(D,fB(l,P),P,l)}),A||M.push(s);const w=M.length-I.length;if(Array.isArray(_)&&w>0){const D=new Array(w).fill("");T=[..._,...D],T.raw=[..._.raw,...D]}else typeof _=="function"&&_.__emotion_real!==_&&(T=D=>_(Z({},D,{theme:ef(Z({},D,{defaultTheme:t,themeId:e}))})));const R=x(T,...M);return o.muiName&&(R.muiName=o.muiName),R};return x.withConfig&&(E.withConfig=x.withConfig),E}}function AB({props:n,name:e,defaultTheme:t,themeId:r}){let i=V3(t);return r&&(i=i[r]||i),aM({theme:i,name:e,props:n})}function O5(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function vB(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xl(n){if(n.type)return n;if(n.charAt(0)==="#")return xl(vB(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error($o(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error($o(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function W3(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function yB(n){n=xl(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+t/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),W3({type:a,values:l})}function yy(n){n=xl(n);let e=n.type==="hsl"||n.type==="hsla"?xl(yB(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function xB(n,e){const t=yy(n),r=yy(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function xy(n,e){return n=xl(n),e=O5(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,W3(n)}function CB(n,e){if(n=xl(n),e=O5(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return W3(n)}function EB(n,e){if(n=xl(n),e=O5(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return W3(n)}const SB=F.createContext(null),_B=SB;function bB(){return F.useContext(_B)}const IB=typeof Symbol=="function"&&Symbol.for,wB=IB?Symbol.for("mui.nested"):"__THEME_NESTED__";function MB(n,e){return Z({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}const TB=["mode","contrastThreshold","tonalOffset"],Cy={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xf.white,default:Xf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},lA={text:{primary:Xf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ey(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=EB(n.main,i):e==="dark"&&(n.dark=CB(n.main,s)))}function BB(n="light"){return n==="dark"?{main:Xl[200],light:Xl[50],dark:Xl[400]}:{main:Xl[700],light:Xl[400],dark:Xl[800]}}function RB(n="light"){return n==="dark"?{main:Yl[200],light:Yl[50],dark:Yl[400]}:{main:Yl[500],light:Yl[300],dark:Yl[700]}}function PB(n="light"){return n==="dark"?{main:ql[500],light:ql[300],dark:ql[700]}:{main:ql[700],light:ql[400],dark:ql[800]}}function DB(n="light"){return n==="dark"?{main:$l[400],light:$l[300],dark:$l[700]}:{main:$l[700],light:$l[500],dark:$l[900]}}function LB(n="light"){return n==="dark"?{main:Zl[400],light:Zl[300],dark:Zl[700]}:{main:Zl[800],light:Zl[500],dark:Zl[900]}}function FB(n="light"){return n==="dark"?{main:Zu[400],light:Zu[300],dark:Zu[700]}:{main:"#ed6c02",light:Zu[500],dark:Zu[900]}}function kB(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=_t(n,TB),s=n.primary||BB(e),o=n.secondary||RB(e),a=n.error||PB(e),l=n.info||DB(e),c=n.success||LB(e),u=n.warning||FB(e);function d(A){return xB(A,lA.text.primary)>=t?lA.text.primary:Cy.text.primary}const p=({color:A,name:v,mainShade:C=500,lightShade:x=300,darkShade:E=700})=>{if(A=Z({},A),!A.main&&A[C]&&(A.main=A[C]),!A.hasOwnProperty("main"))throw new Error($o(11,v?` (${v})`:"",C));if(typeof A.main!="string")throw new Error($o(12,v?` (${v})`:"",JSON.stringify(A.main)));return Ey(A,"light",x,r),Ey(A,"dark",E,r),A.contrastText||(A.contrastText=d(A.main)),A},m={dark:lA,light:Cy};return kr(Z({common:Z({},Xf),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:_M,contrastThreshold:t,getContrastText:d,augmentColor:p,tonalOffset:r},m[e]),i)}const NB=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function OB(n){return Math.round(n*1e5)/1e5}const Sy={textTransform:"uppercase"},_y='"Roboto", "Helvetica", "Arial", sans-serif';function UB(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=_y,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=t,p=_t(t,NB),m=i/14,g=d||(C=>`${C/c*m}rem`),A=(C,x,E,_,I)=>Z({fontFamily:r,fontWeight:C,fontSize:g(x),lineHeight:E},r===_y?{letterSpacing:`${OB(_/x)}em`}:{},I,u),v={h1:A(s,96,1.167,-1.5),h2:A(s,60,1.2,-.5),h3:A(o,48,1.167,0),h4:A(o,34,1.235,.25),h5:A(o,24,1.334,0),h6:A(a,20,1.6,.15),subtitle1:A(o,16,1.75,.15),subtitle2:A(a,14,1.57,.1),body1:A(o,16,1.5,.15),body2:A(o,14,1.43,.15),button:A(a,14,1.75,.4,Sy),caption:A(o,12,1.66,.4),overline:A(o,12,2.66,1,Sy),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return kr(Z({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),p,{clone:!1})}const GB=.2,QB=.14,HB=.12;function gn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${GB})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${QB})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${HB})`].join(",")}const zB=["none",gn(0,2,1,-1,0,1,1,0,0,1,3,0),gn(0,3,1,-2,0,2,2,0,0,1,5,0),gn(0,3,3,-2,0,3,4,0,0,1,8,0),gn(0,2,4,-1,0,4,5,0,0,1,10,0),gn(0,3,5,-1,0,5,8,0,0,1,14,0),gn(0,3,5,-1,0,6,10,0,0,1,18,0),gn(0,4,5,-2,0,7,10,1,0,2,16,1),gn(0,5,5,-3,0,8,10,1,0,3,14,2),gn(0,5,6,-3,0,9,12,1,0,3,16,2),gn(0,6,6,-3,0,10,14,1,0,4,18,3),gn(0,6,7,-4,0,11,15,1,0,4,20,3),gn(0,7,8,-4,0,12,17,2,0,5,22,4),gn(0,7,8,-4,0,13,19,2,0,5,24,4),gn(0,7,9,-4,0,14,21,2,0,5,26,4),gn(0,8,9,-5,0,15,22,2,0,6,28,5),gn(0,8,10,-5,0,16,24,2,0,6,30,5),gn(0,8,11,-5,0,17,26,2,0,6,32,5),gn(0,9,11,-5,0,18,28,2,0,7,34,6),gn(0,9,12,-6,0,19,29,2,0,7,36,6),gn(0,10,13,-6,0,20,31,3,0,8,38,7),gn(0,10,13,-6,0,21,33,3,0,8,40,7),gn(0,10,14,-6,0,22,35,3,0,8,42,7),gn(0,11,14,-7,0,23,36,3,0,9,44,8),gn(0,11,15,-7,0,24,38,3,0,9,46,8)],VB=zB,WB=["duration","easing","delay"],JB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},jB={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function by(n){return`${Math.round(n)}ms`}function KB(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function qB(n){const e=Z({},JB,n.easing),t=Z({},jB,n.duration);return Z({getAutoHeightDuration:KB,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return _t(s,WB),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:by(o)} ${a} ${typeof l=="string"?l:by(l)}`).join(",")}},n,{easing:e,duration:t})}const YB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},XB=YB,$B=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function LC(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=_t(n,$B);if(n.vars)throw new Error($o(18));const a=kB(r),l=N5(n);let c=kr(l,{mixins:MB(l.breakpoints,t),palette:a,shadows:VB.slice(),typography:UB(a,s),transitions:qB(i),zIndex:Z({},XB)});return c=kr(c,o),c=e.reduce((u,d)=>kr(u,d),c),c.unstable_sxConfig=Z({},H3,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return z3({sx:d,theme:this})},c}const ZB=LC(),J3=ZB;function U5(){const n=V3(J3);return n[Ph]||n}function ur({props:n,name:e}){return AB({props:n,name:e,defaultTheme:J3,themeId:Ph})}const ga=n=>Lf(n)&&n!=="classes",eR=Lf,tR=gB({themeId:Ph,defaultTheme:J3,rootShouldForwardProp:ga}),Pt=tR,nR=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)},Iy=nR;function rR(n){return qn("MuiSvgIcon",n)}rr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const iR=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],sR=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${fn(e)}`,`fontSize${fn(t)}`]};return nr(i,rR,r)},oR=Pt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${fn(t.color)}`],e[`fontSize${fn(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,c,u,d,p,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=n.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=n.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=n.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(p=(n.vars||n).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?d:{action:(m=(n.vars||n).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(n.vars||n).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),FC=F.forwardRef(function(e,t){const r=ur({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,m=_t(r,iR),g=F.isValidElement(i)&&i.type==="svg",A=Z({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:p,hasSvgAsChild:g}),v={};u||(v.viewBox=p);const C=sR(A);return $.jsxs(oR,Z({as:a,className:Rn(C.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},v,m,g&&i.props,{ownerState:A,children:[g?i.props.children:i,d?$.jsx("title",{children:d}):null]}))});FC.muiName="SvgIcon";const wy=FC;function aR(n,e){function t(r,i){return $.jsx(wy,Z({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=wy.muiName,F.memo(F.forwardRef(t))}const kC=n=>n.scrollTop;function O0(n,e){var t,r;const{timeout:i,easing:s,style:o={}}=n;return{duration:(t=o.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function lR(n){return qn("MuiPaper",n)}rr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const cR=["className","component","elevation","square","variant"],uR=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return nr(s,lR,i)},fR=Pt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>{var t;return Z({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},e.variant==="elevation"&&Z({boxShadow:(n.vars||n).shadows[e.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${xy("#fff",Iy(e.elevation))}, ${xy("#fff",Iy(e.elevation))})`},n.vars&&{backgroundImage:(t=n.vars.overlays)==null?void 0:t[e.elevation]}))}),hR=F.forwardRef(function(e,t){const r=ur({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=_t(r,cR),u=Z({},r,{component:s,elevation:o,square:a,variant:l}),d=uR(u);return $.jsx(fR,Z({as:s,ownerState:u,className:Rn(d.root,i),ref:t},c))}),dR=hR;function U0(n){return typeof n=="string"}function pR(n,e,t){return n===void 0||U0(n)?e:Z({},e,{ownerState:Z({},e.ownerState,t)})}function NC(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function mR(n,e,t){return typeof n=="function"?n(e,t):n}function My(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function gR(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const m=Rn(i==null?void 0:i.className,r==null?void 0:r.className,s,t==null?void 0:t.className),g=Z({},t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),A=Z({},t,i,r);return m.length>0&&(A.className=m),Object.keys(g).length>0&&(A.style=g),{props:A,internalRef:void 0}}const o=NC(Z({},i,r)),a=My(r),l=My(i),c=e(o),u=Rn(c==null?void 0:c.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=Z({},c==null?void 0:c.style,t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),p=Z({},c,t,l,a);return u.length>0&&(p.className=u),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}}const AR=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function zc(n){var e;const{elementType:t,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=n,o=_t(n,AR),a=s?{}:mR(r,i),{props:l,internalRef:c}=gR(Z({},o,{externalSlotProps:a})),u=Ri(c,a==null?void 0:a.ref,(e=n.additionalProps)==null?void 0:e.ref);return pR(t,Z({},l,{ref:u}),i)}const vR=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function yR(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function xR(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function CR(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||xR(n))}function ER(n){const e=[],t=[];return Array.from(n.querySelectorAll(vR)).forEach((r,i)=>{const s=yR(r);s===-1||!CR(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function SR(){return!0}function _R(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=ER,isEnabled:o=SR,open:a}=n,l=F.useRef(!1),c=F.useRef(null),u=F.useRef(null),d=F.useRef(null),p=F.useRef(null),m=F.useRef(!1),g=F.useRef(null),A=Ri(e.ref,g),v=F.useRef(null);F.useEffect(()=>{!a||!g.current||(m.current=!t)},[t,a]),F.useEffect(()=>{if(!a||!g.current)return;const E=Xr(g.current);return g.current.contains(E.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),m.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),F.useEffect(()=>{if(!a||!g.current)return;const E=Xr(g.current),_=T=>{const{current:w}=g;if(w!==null){if(!E.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!w.contains(E.activeElement)){if(T&&p.current!==T.target||E.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!m.current)return;let P=[];if((E.activeElement===c.current||E.activeElement===u.current)&&(P=s(g.current)),P.length>0){var R,D;const z=!!((R=v.current)!=null&&R.shiftKey&&((D=v.current)==null?void 0:D.key)==="Tab"),q=P[0],k=P[P.length-1];typeof q!="string"&&typeof k!="string"&&(z?k.focus():q.focus())}else w.focus()}}},I=T=>{v.current=T,!(r||!o()||T.key!=="Tab")&&E.activeElement===g.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())};E.addEventListener("focusin",_),E.addEventListener("keydown",I,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&_(null)},50);return()=>{clearInterval(M),E.removeEventListener("focusin",_),E.removeEventListener("keydown",I,!0)}},[t,r,i,o,a,s]);const C=E=>{d.current===null&&(d.current=E.relatedTarget),m.current=!0,p.current=E.target;const _=e.props.onFocus;_&&_(E)},x=E=>{d.current===null&&(d.current=E.relatedTarget),m.current=!0};return $.jsxs(F.Fragment,{children:[$.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),F.cloneElement(e,{ref:A,onFocus:C}),$.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}function bR(n){return typeof n=="function"?n():n}const IR=F.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=F.useState(null),l=Ri(F.isValidElement(r)?r.ref:null,t);if(Hc(()=>{s||a(bR(i)||document.body)},[i,s]),Hc(()=>{if(o&&!s)return q2(t,o),()=>{q2(t,null)}},[t,o,s]),s){if(F.isValidElement(r)){const c={ref:l};return F.cloneElement(r,c)}return $.jsx(F.Fragment,{children:r})}return $.jsx(F.Fragment,{children:o&&oC.createPortal(r,o)})});function wR(n){const e=Xr(n);return e.body===n?yl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Ff(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function Ty(n){return parseInt(yl(n).getComputedStyle(n).paddingRight,10)||0}function MR(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(n.tagName)!==-1,r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function By(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,o=>{const a=s.indexOf(o)===-1,l=!MR(o);a&&l&&Ff(o,i)})}function cA(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function TR(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(wR(r)){const o=gC(Xr(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Ty(r)+o}px`;const a=Xr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Ty(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Xr(r).body;else{const o=r.parentElement,a=yl(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function BR(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class RR{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ff(e.modalRef,!1);const i=BR(t);By(t,e.mount,e.modalRef,i,!0);const s=cA(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=cA(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=TR(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=cA(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Ff(e.modalRef,t),By(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Ff(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function PR(n){return typeof n=="function"?n():n}function DR(n){return n?n.props.hasOwnProperty("in"):!1}const LR=new RR;function FR(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,manager:i=LR,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=n,p=F.useRef({}),m=F.useRef(null),g=F.useRef(null),A=Ri(g,d),[v,C]=F.useState(!u),x=DR(l);let E=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(E=!1);const _=()=>Xr(m.current),I=()=>(p.current.modalRef=g.current,p.current.mount=m.current,p.current),M=()=>{i.mount(I(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},T=ly(()=>{const V=PR(e)||_().body;i.add(I(),V),g.current&&M()}),w=F.useCallback(()=>i.isTopModal(I()),[i]),R=ly(V=>{m.current=V,V&&(u&&w()?M():g.current&&Ff(g.current,E))}),D=F.useCallback(()=>{i.remove(I(),E)},[E,i]);F.useEffect(()=>()=>{D()},[D]),F.useEffect(()=>{u?T():(!x||!s)&&D()},[u,D,x,s,T]);const P=V=>Y=>{var G;(G=V.onKeyDown)==null||G.call(V,Y),!(Y.key!=="Escape"||!w())&&(t||(Y.stopPropagation(),c&&c(Y,"escapeKeyDown")))},z=V=>Y=>{var G;(G=V.onClick)==null||G.call(V,Y),Y.target===Y.currentTarget&&c&&c(Y,"backdropClick")};return{getRootProps:(V={})=>{const Y=NC(n);delete Y.onTransitionEnter,delete Y.onTransitionExited;const G=Z({},Y,V);return Z({role:"presentation"},G,{onKeyDown:P(G),ref:A})},getBackdropProps:(V={})=>{const Y=V;return Z({"aria-hidden":!0},Y,{onClick:z(Y),open:u})},getTransitionProps:()=>{const V=()=>{C(!1),o&&o()},Y=()=>{C(!0),a&&a(),s&&D()};return{onEnter:iy(V,l.props.onEnter),onExited:iy(Y,l.props.onExited)}},rootRef:A,portalRef:R,isTopModal:w,exited:v,hasTransition:x}}const kR=["onChange","maxRows","minRows","style","value"];function up(n){return parseInt(n,10)||0}const NR={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Ry(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflow}const OR=F.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=_t(e,kR),{current:c}=F.useRef(a!=null),u=F.useRef(null),d=Ri(t,u),p=F.useRef(null),m=F.useRef(0),[g,A]=F.useState({outerHeightStyle:0}),v=F.useCallback(()=>{const I=u.current,T=yl(I).getComputedStyle(I);if(T.width==="0px")return{outerHeightStyle:0};const w=p.current;w.style.width=T.width,w.value=I.value||e.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const R=T.boxSizing,D=up(T.paddingBottom)+up(T.paddingTop),P=up(T.borderBottomWidth)+up(T.borderTopWidth),z=w.scrollHeight;w.value="x";const q=w.scrollHeight;let k=z;s&&(k=Math.max(Number(s)*q,k)),i&&(k=Math.min(Number(i)*q,k)),k=Math.max(k,q);const Q=k+(R==="border-box"?D+P:0),V=Math.abs(k-z)<=1;return{outerHeightStyle:Q,overflow:V}},[i,s,e.placeholder]),C=(I,M)=>{const{outerHeightStyle:T,overflow:w}=M;return m.current<20&&(T>0&&Math.abs((I.outerHeightStyle||0)-T)>1||I.overflow!==w)?(m.current+=1,{overflow:w,outerHeightStyle:T}):I},x=F.useCallback(()=>{const I=v();Ry(I)||A(M=>C(M,I))},[v]),E=()=>{const I=v();Ry(I)||oC.flushSync(()=>{A(M=>C(M,I))})};F.useEffect(()=>{const I=()=>{m.current=0,u.current&&E()},M=mC(()=>{m.current=0,u.current&&E()});let T;const w=u.current,R=yl(w);return R.addEventListener("resize",M),typeof ResizeObserver<"u"&&(T=new ResizeObserver(I),T.observe(w)),()=>{M.clear(),R.removeEventListener("resize",M),T&&T.disconnect()}}),Hc(()=>{x()}),F.useEffect(()=>{m.current=0},[a]);const _=I=>{m.current=0,c||x(),r&&r(I)};return $.jsxs(F.Fragment,{children:[$.jsx("textarea",Z({value:a,onChange:_,ref:d,rows:s,style:Z({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},o)},l)),$.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:Z({},NR.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function yu({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const UR=F.createContext(void 0),G5=UR;function xu(){return F.useContext(G5)}function GR(n){return $.jsx(eB,Z({},n,{defaultTheme:J3,themeId:Ph}))}function Py(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function G0(n,e=!1){return n&&(Py(n.value)&&n.value!==""||e&&Py(n.defaultValue)&&n.defaultValue!=="")}function QR(n){return n.startAdornment}function HR(n){return qn("MuiInputBase",n)}const zR=rr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Vc=zR,VR=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],j3=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${fn(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},K3=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},WR=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:p,startAdornment:m,type:g}=n,A={root:["root",`color${fn(t)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",p&&p!=="medium"&&`size${fn(p)}`,u&&"multiline",m&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",p==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",m&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return nr(A,HR,e)},q3=Pt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:j3})(({theme:n,ownerState:e})=>Z({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Vc.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},e.multiline&&Z({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Y3=Pt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:K3})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light",r=Z({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),i={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return Z({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Vc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Vc.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),JR=$.jsx(GR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),jR=F.forwardRef(function(e,t){var r;const i=ur({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:p,disableInjectingGlobalStyles:m,endAdornment:g,fullWidth:A=!1,id:v,inputComponent:C="input",inputProps:x={},inputRef:E,maxRows:_,minRows:I,multiline:M=!1,name:T,onBlur:w,onChange:R,onClick:D,onFocus:P,onKeyDown:z,onKeyUp:q,placeholder:k,readOnly:Q,renderSuffix:V,rows:Y,slotProps:G={},slots:j={},startAdornment:K,type:ee="text",value:X}=i,ae=_t(i,VR),Ae=x.value!=null?x.value:X,{current:_e}=F.useRef(Ae!=null),re=F.useRef(),Ne=F.useCallback(Ue=>{},[]),Pe=Ri(re,E,x.ref,Ne),[Le,ve]=F.useState(!1),xe=xu(),oe=yu({props:i,muiFormControl:xe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=xe?xe.focused:Le,F.useEffect(()=>{!xe&&p&&Le&&(ve(!1),w&&w())},[xe,p,Le,w]);const ne=xe&&xe.onFilled,Ce=xe&&xe.onEmpty,Me=F.useCallback(Ue=>{G0(Ue)?ne&&ne():Ce&&Ce()},[ne,Ce]);Hc(()=>{_e&&Me({value:Ae})},[Ae,Me,_e]);const Fe=Ue=>{if(oe.disabled){Ue.stopPropagation();return}P&&P(Ue),x.onFocus&&x.onFocus(Ue),xe&&xe.onFocus?xe.onFocus(Ue):ve(!0)},qe=Ue=>{w&&w(Ue),x.onBlur&&x.onBlur(Ue),xe&&xe.onBlur?xe.onBlur(Ue):ve(!1)},je=(Ue,...ue)=>{if(!_e){const We=Ue.target||re.current;if(We==null)throw new Error($o(1));Me({value:We.value})}x.onChange&&x.onChange(Ue,...ue),R&&R(Ue,...ue)};F.useEffect(()=>{Me(re.current)},[]);const ze=Ue=>{re.current&&Ue.currentTarget===Ue.target&&re.current.focus(),D&&D(Ue)};let ct=C,rt=x;M&&ct==="input"&&(Y?rt=Z({type:void 0,minRows:Y,maxRows:Y},rt):rt=Z({type:void 0,maxRows:_,minRows:I},rt),ct=OR);const W=Ue=>{Me(Ue.animationName==="mui-auto-fill-cancel"?re.current:{value:"x"})};F.useEffect(()=>{xe&&xe.setAdornedStart(!!K)},[xe,K]);const N=Z({},i,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:g,error:oe.error,focused:oe.focused,formControl:xe,fullWidth:A,hiddenLabel:oe.hiddenLabel,multiline:M,size:oe.size,startAdornment:K,type:ee}),se=WR(N),we=j.root||c.Root||q3,Te=G.root||u.root||{},Be=j.input||c.Input||Y3;return rt=Z({},rt,(r=G.input)!=null?r:u.input),$.jsxs(F.Fragment,{children:[!m&&JR,$.jsxs(we,Z({},Te,!U0(we)&&{ownerState:Z({},N,Te.ownerState)},{ref:t,onClick:ze},ae,{className:Rn(se.root,Te.className,l,Q&&"MuiInputBase-readOnly"),children:[K,$.jsx(G5.Provider,{value:null,children:$.jsx(Be,Z({ownerState:N,"aria-invalid":oe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:oe.disabled,id:v,onAnimationStart:W,name:T,placeholder:k,readOnly:Q,required:oe.required,rows:Y,value:Ae,onKeyDown:z,onKeyUp:q,type:ee},rt,!U0(Be)&&{as:ct,ownerState:Z({},N,rt.ownerState)},{ref:Pe,className:Rn(se.input,rt.className,Q&&"MuiInputBase-readOnly"),onBlur:qe,onChange:je,onFocus:Fe}))}),g,V?V(Z({},oe,{startAdornment:K})):null]}))]})}),Q5=jR;function KR(n){return qn("MuiInput",n)}const qR=Z({},Vc,rr("MuiInput",["root","underline","input"])),tf=qR;function YR(n){return qn("MuiOutlinedInput",n)}const XR=Z({},Vc,rr("MuiOutlinedInput",["root","notchedOutline","input"])),bo=XR;function $R(n){return qn("MuiFilledInput",n)}const ZR=Z({},Vc,rr("MuiFilledInput",["root","underline","input"])),Fa=ZR,eP=aR($.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),tP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],nP={entering:{opacity:1},entered:{opacity:1}},rP=F.forwardRef(function(e,t){const r=U5(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:p,onExit:m,onExited:g,onExiting:A,style:v,timeout:C=i,TransitionComponent:x=aC}=e,E=_t(e,tP),_=F.useRef(null),I=Ri(_,a.ref,t),M=k=>Q=>{if(k){const V=_.current;Q===void 0?k(V):k(V,Q)}},T=M(p),w=M((k,Q)=>{kC(k);const V=O0({style:v,timeout:C,easing:l},{mode:"enter"});k.style.webkitTransition=r.transitions.create("opacity",V),k.style.transition=r.transitions.create("opacity",V),u&&u(k,Q)}),R=M(d),D=M(A),P=M(k=>{const Q=O0({style:v,timeout:C,easing:l},{mode:"exit"});k.style.webkitTransition=r.transitions.create("opacity",Q),k.style.transition=r.transitions.create("opacity",Q),m&&m(k)}),z=M(g),q=k=>{s&&s(_.current,k)};return $.jsx(x,Z({appear:o,in:c,nodeRef:_,onEnter:w,onEntered:R,onEntering:T,onExit:P,onExited:z,onExiting:D,addEndListener:q,timeout:C},E,{children:(k,Q)=>F.cloneElement(a,Z({style:Z({opacity:0,visibility:k==="exited"&&!c?"hidden":void 0},nP[k],v,a.props.style),ref:I},Q))}))}),iP=rP;function sP(n){return qn("MuiBackdrop",n)}rr("MuiBackdrop",["root","invisible"]);const oP=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],aP=n=>{const{classes:e,invisible:t}=n;return nr({root:["root",t&&"invisible"]},sP,e)},lP=Pt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})(({ownerState:n})=>Z({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),cP=F.forwardRef(function(e,t){var r,i,s;const o=ur({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:p=!1,open:m,slotProps:g={},slots:A={},TransitionComponent:v=iP,transitionDuration:C}=o,x=_t(o,oP),E=Z({},o,{component:c,invisible:p}),_=aP(E),I=(r=g.root)!=null?r:d.root;return $.jsx(v,Z({in:m,timeout:C},x,{children:$.jsx(lP,Z({"aria-hidden":!0},I,{as:(i=(s=A.root)!=null?s:u.Root)!=null?i:c,className:Rn(_.root,l,I==null?void 0:I.className),ownerState:Z({},E,I==null?void 0:I.ownerState),classes:_,ref:t,children:a}))}))}),uP=cP,fP=LC(),hP=sB({themeId:Ph,defaultTheme:fP,defaultClassName:"MuiBox-root",generateClassName:AC.generate}),Dy=hP;function dP(n){return qn("MuiModal",n)}rr("MuiModal",["root","hidden","backdrop"]);const pP=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],mP=n=>{const{open:e,exited:t,classes:r}=n;return nr({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},dP,r)},gP=Pt("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(({theme:n,ownerState:e})=>Z({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),AP=Pt(uP,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),vP=F.forwardRef(function(e,t){var r,i,s,o,a,l;const c=ur({name:"MuiModal",props:e}),{BackdropComponent:u=AP,BackdropProps:d,className:p,closeAfterTransition:m=!1,children:g,container:A,component:v,components:C={},componentsProps:x={},disableAutoFocus:E=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:I=!1,disablePortal:M=!1,disableRestoreFocus:T=!1,disableScrollLock:w=!1,hideBackdrop:R=!1,keepMounted:D=!1,onBackdropClick:P,open:z,slotProps:q,slots:k}=c,Q=_t(c,pP),V=Z({},c,{closeAfterTransition:m,disableAutoFocus:E,disableEnforceFocus:_,disableEscapeKeyDown:I,disablePortal:M,disableRestoreFocus:T,disableScrollLock:w,hideBackdrop:R,keepMounted:D}),{getRootProps:Y,getBackdropProps:G,getTransitionProps:j,portalRef:K,isTopModal:ee,exited:X,hasTransition:ae}=FR(Z({},V,{rootRef:t})),Ae=Z({},V,{exited:X}),_e=mP(Ae),re={};if(g.props.tabIndex===void 0&&(re.tabIndex="-1"),ae){const{onEnter:ne,onExited:Ce}=j();re.onEnter=ne,re.onExited=Ce}const Ne=(r=(i=k==null?void 0:k.root)!=null?i:C.Root)!=null?r:gP,Pe=(s=(o=k==null?void 0:k.backdrop)!=null?o:C.Backdrop)!=null?s:u,Le=(a=q==null?void 0:q.root)!=null?a:x.root,ve=(l=q==null?void 0:q.backdrop)!=null?l:x.backdrop,xe=zc({elementType:Ne,externalSlotProps:Le,externalForwardedProps:Q,getSlotProps:Y,additionalProps:{ref:t,as:v},ownerState:Ae,className:Rn(p,Le==null?void 0:Le.className,_e==null?void 0:_e.root,!Ae.open&&Ae.exited&&(_e==null?void 0:_e.hidden))}),oe=zc({elementType:Pe,externalSlotProps:ve,additionalProps:d,getSlotProps:ne=>G(Z({},ne,{onClick:Ce=>{P&&P(Ce),ne!=null&&ne.onClick&&ne.onClick(Ce)}})),className:Rn(ve==null?void 0:ve.className,d==null?void 0:d.className,_e==null?void 0:_e.backdrop),ownerState:Ae});return!D&&!z&&(!ae||X)?null:$.jsx(IR,{ref:K,container:A,disablePortal:M,children:$.jsxs(Ne,Z({},xe,{children:[!R&&u?$.jsx(Pe,Z({},oe)):null,$.jsx(_R,{disableEnforceFocus:_,disableAutoFocus:E,disableRestoreFocus:T,isEnabled:ee,open:z,children:F.cloneElement(g,re)})]}))})}),yP=vP,xP=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],CP=n=>{const{classes:e,disableUnderline:t}=n,i=nr({root:["root",!t&&"underline"],input:["input"]},$R,e);return Z({},e,i)},EP=Pt(q3,{shouldForwardProp:n=>ga(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...j3(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{var t;const r=n.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Z({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:s}},[`&.${Fa.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:s},[`&.${Fa.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t=(n.vars||n).palette[e.color||"primary"])==null?void 0:t.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fa.error}`]:{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}},"&:before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fa.disabled}, .${Fa.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Fa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&Z({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),SP=Pt(Y3,{name:"MuiFilledInput",slot:"Input",overridesResolver:K3})(({theme:n,ownerState:e})=>Z({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),OC=F.forwardRef(function(e,t){var r,i,s,o;const a=ur({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:p=!1,slotProps:m,slots:g={},type:A="text"}=a,v=_t(a,xP),C=Z({},a,{fullWidth:u,inputComponent:d,multiline:p,type:A}),x=CP(a),E={root:{ownerState:C},input:{ownerState:C}},_=m??c?kr(m??c,E):E,I=(r=(i=g.root)!=null?i:l.Root)!=null?r:EP,M=(s=(o=g.input)!=null?o:l.Input)!=null?s:SP;return $.jsx(Q5,Z({slots:{root:I,input:M},componentsProps:_,fullWidth:u,inputComponent:d,multiline:p,ref:t,type:A},v,{classes:x}))});OC.muiName="Input";const UC=OC;function _P(n){return qn("MuiFormControl",n)}rr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bP=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],IP=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${fn(t)}`,r&&"fullWidth"]};return nr(i,_P,e)},wP=Pt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},e)=>Z({},e.root,e[`margin${fn(n.margin)}`],n.fullWidth&&e.fullWidth)})(({ownerState:n})=>Z({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},n.margin==="normal"&&{marginTop:16,marginBottom:8},n.margin==="dense"&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})),MP=F.forwardRef(function(e,t){const r=ur({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:p=!1,margin:m="none",required:g=!1,size:A="medium",variant:v="outlined"}=r,C=_t(r,bP),x=Z({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:p,margin:m,required:g,size:A,variant:v}),E=IP(x),[_,I]=F.useState(()=>{let q=!1;return i&&F.Children.forEach(i,k=>{if(!oA(k,["Input","Select"]))return;const Q=oA(k,["Select"])?k.props.input:k;Q&&QR(Q.props)&&(q=!0)}),q}),[M,T]=F.useState(()=>{let q=!1;return i&&F.Children.forEach(i,k=>{oA(k,["Input","Select"])&&(G0(k.props,!0)||G0(k.props.inputProps,!0))&&(q=!0)}),q}),[w,R]=F.useState(!1);l&&w&&R(!1);const D=u!==void 0&&!l?u:w;let P;const z=F.useMemo(()=>({adornedStart:_,setAdornedStart:I,color:o,disabled:l,error:c,filled:M,focused:D,fullWidth:d,hiddenLabel:p,size:A,onBlur:()=>{R(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{R(!0)},registerEffect:P,required:g,variant:v}),[_,o,l,c,M,D,d,p,P,g,A,v]);return $.jsx(G5.Provider,{value:z,children:$.jsx(wP,Z({as:a,ownerState:x,className:Rn(E.root,s),ref:t},C,{children:i}))})}),TP=MP;function BP(n){return qn("MuiFormHelperText",n)}const RP=rr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Ly=RP;var Fy;const PP=["children","className","component","disabled","error","filled","focused","margin","required","variant"],DP=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=n,c={root:["root",i&&"disabled",s&&"error",r&&`size${fn(r)}`,t&&"contained",a&&"focused",o&&"filled",l&&"required"]};return nr(c,BP,e)},LP=Pt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${fn(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(({theme:n,ownerState:e})=>Z({color:(n.vars||n).palette.text.secondary},n.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Ly.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Ly.error}`]:{color:(n.vars||n).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),FP=F.forwardRef(function(e,t){const r=ur({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=_t(r,PP),l=xu(),c=yu({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=Z({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=DP(u);return $.jsx(LP,Z({as:o,ownerState:u,className:Rn(d.root,s),ref:t},a,{children:i===" "?Fy||(Fy=$.jsx("span",{className:"notranslate",children:"​"})):i}))}),kP=FP;function NP(n){return qn("MuiFormLabel",n)}const OP=rr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kf=OP,UP=["children","className","color","component","disabled","error","filled","focused","required"],GP=n=>{const{classes:e,color:t,focused:r,disabled:i,error:s,filled:o,required:a}=n,l={root:["root",`color${fn(t)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return nr(l,NP,e)},QP=Pt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:n},e)=>Z({},e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled)})(({theme:n,ownerState:e})=>Z({color:(n.vars||n).palette.text.secondary},n.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${kf.focused}`]:{color:(n.vars||n).palette[e.color].main},[`&.${kf.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${kf.error}`]:{color:(n.vars||n).palette.error.main}})),HP=Pt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(({theme:n})=>({[`&.${kf.error}`]:{color:(n.vars||n).palette.error.main}})),zP=F.forwardRef(function(e,t){const r=ur({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=_t(r,UP),l=xu(),c=yu({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=Z({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=GP(u);return $.jsxs(QP,Z({as:o,ownerState:u,className:Rn(d.root,s),ref:t},a,{children:[i,c.required&&$.jsxs(HP,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),VP=zP,WP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function X2(n){return`scale(${n}, ${n**2})`}const JP={entering:{opacity:1,transform:X2(1)},entered:{opacity:1,transform:"none"}},uA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),GC=F.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:p,onExiting:m,style:g,timeout:A="auto",TransitionComponent:v=aC}=e,C=_t(e,WP),x=F.useRef(),E=F.useRef(),_=U5(),I=F.useRef(null),M=Ri(I,s.ref,t),T=Q=>V=>{if(Q){const Y=I.current;V===void 0?Q(Y):Q(Y,V)}},w=T(u),R=T((Q,V)=>{kC(Q);const{duration:Y,delay:G,easing:j}=O0({style:g,timeout:A,easing:o},{mode:"enter"});let K;A==="auto"?(K=_.transitions.getAutoHeightDuration(Q.clientHeight),E.current=K):K=Y,Q.style.transition=[_.transitions.create("opacity",{duration:K,delay:G}),_.transitions.create("transform",{duration:uA?K:K*.666,delay:G,easing:j})].join(","),l&&l(Q,V)}),D=T(c),P=T(m),z=T(Q=>{const{duration:V,delay:Y,easing:G}=O0({style:g,timeout:A,easing:o},{mode:"exit"});let j;A==="auto"?(j=_.transitions.getAutoHeightDuration(Q.clientHeight),E.current=j):j=V,Q.style.transition=[_.transitions.create("opacity",{duration:j,delay:Y}),_.transitions.create("transform",{duration:uA?j:j*.666,delay:uA?Y:Y||j*.333,easing:G})].join(","),Q.style.opacity=0,Q.style.transform=X2(.75),d&&d(Q)}),q=T(p),k=Q=>{A==="auto"&&(x.current=setTimeout(Q,E.current||0)),r&&r(I.current,Q)};return F.useEffect(()=>()=>{clearTimeout(x.current)},[]),$.jsx(v,Z({appear:i,in:a,nodeRef:I,onEnter:R,onEntered:D,onEntering:w,onExit:z,onExited:q,onExiting:P,addEndListener:k,timeout:A==="auto"?null:A},C,{children:(Q,V)=>F.cloneElement(s,Z({style:Z({opacity:0,transform:X2(.75),visibility:Q==="exited"&&!a?"hidden":void 0},JP[Q],g,s.props.style),ref:M},V))}))});GC.muiSupportAuto=!0;const jP=GC,KP=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],qP=n=>{const{classes:e,disableUnderline:t}=n,i=nr({root:["root",!t&&"underline"],input:["input"]},KR,e);return Z({},e,i)},YP=Pt(q3,{shouldForwardProp:n=>ga(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...j3(n,e),!t.disableUnderline&&e.underline]}})(({theme:n,ownerState:e})=>{let r=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),Z({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n.vars||n).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${tf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${tf.error}`]:{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${tf.disabled}, .${tf.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${tf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),XP=Pt(Y3,{name:"MuiInput",slot:"Input",overridesResolver:K3})({}),QC=F.forwardRef(function(e,t){var r,i,s,o;const a=ur({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:p="input",multiline:m=!1,slotProps:g,slots:A={},type:v="text"}=a,C=_t(a,KP),x=qP(a),_={root:{ownerState:{disableUnderline:l}}},I=g??u?kr(g??u,_):_,M=(r=(i=A.root)!=null?i:c.Root)!=null?r:YP,T=(s=(o=A.input)!=null?o:c.Input)!=null?s:XP;return $.jsx(Q5,Z({slots:{root:M,input:T},slotProps:I,fullWidth:d,inputComponent:p,multiline:m,ref:t,type:v},C,{classes:x}))});QC.muiName="Input";const HC=QC;function $P(n){return qn("MuiInputLabel",n)}rr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ZP=["disableAnimation","margin","shrink","variant","className"],eD=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=n,l={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${fn(r)}`,o],asterisk:[a&&"asterisk"]},c=nr(l,$P,e);return Z({},e,c)},tD=Pt(VP,{shouldForwardProp:n=>ga(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${kf.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,e[t.variant]]}})(({theme:n,ownerState:e})=>Z({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})},e.variant==="filled"&&Z({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&Z({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&Z({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),nD=F.forwardRef(function(e,t){const r=ur({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=_t(r,ZP),l=xu();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=yu({props:r,muiFormControl:l,states:["size","variant","required"]}),d=Z({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required}),p=eD(d);return $.jsx(tD,Z({"data-shrink":c,ownerState:d,ref:t,className:Rn(p.root,o)},a,{classes:p}))}),rD=nD,iD=F.createContext({}),sD=iD;function oD(n){return qn("MuiList",n)}rr("MuiList",["root","padding","dense","subheader"]);const aD=["children","className","component","dense","disablePadding","subheader"],lD=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return nr({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},oD,e)},cD=Pt("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})(({ownerState:n})=>Z({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),uD=F.forwardRef(function(e,t){const r=ur({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=_t(r,aD),d=F.useMemo(()=>({dense:a}),[a]),p=Z({},r,{component:o,dense:a,disablePadding:l}),m=lD(p);return $.jsx(sD.Provider,{value:d,children:$.jsxs(cD,Z({as:o,className:Rn(m.root,s),ref:t,ownerState:p},u,{children:[c,i]}))})}),fD=uD,hD=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function fA(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function ky(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function zC(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function nf(n,e,t,r,i,s){let o=!1,a=i(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!zC(a,s)||l)a=i(n,a,t);else return a.focus(),!0}return!1}const dD=F.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,p=_t(e,hD),m=F.useRef(null),g=F.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Hc(()=>{i&&m.current.focus()},[i]),F.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,_)=>{const I=!m.current.style.width;if(E.clientHeight<m.current.clientHeight&&I){const M=`${gC(Xr(E))}px`;m.current.style[_.direction==="rtl"?"paddingLeft":"paddingRight"]=M,m.current.style.width=`calc(100% + ${M})`}return m.current}}),[]);const A=E=>{const _=m.current,I=E.key,M=Xr(_).activeElement;if(I==="ArrowDown")E.preventDefault(),nf(_,M,c,l,fA);else if(I==="ArrowUp")E.preventDefault(),nf(_,M,c,l,ky);else if(I==="Home")E.preventDefault(),nf(_,null,c,l,fA);else if(I==="End")E.preventDefault(),nf(_,null,c,l,ky);else if(I.length===1){const T=g.current,w=I.toLowerCase(),R=performance.now();T.keys.length>0&&(R-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&w!==T.keys[0]&&(T.repeating=!1)),T.lastTime=R,T.keys.push(w);const D=M&&!T.repeating&&zC(M,T);T.previousKeyMatched&&(D||nf(_,M,!1,l,fA,T))?E.preventDefault():T.previousKeyMatched=!1}u&&u(E)},v=Ri(m,t);let C=-1;F.Children.forEach(o,(E,_)=>{if(!F.isValidElement(E)){C===_&&(C+=1,C>=o.length&&(C=-1));return}E.props.disabled||(d==="selectedMenu"&&E.props.selected||C===-1)&&(C=_),C===_&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(C+=1,C>=o.length&&(C=-1))});const x=F.Children.map(o,(E,_)=>{if(_===C){const I={};return s&&(I.autoFocus=!0),E.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),F.cloneElement(E,I)}return E});return $.jsx(fD,Z({role:"menu",ref:v,className:a,onKeyDown:A,tabIndex:i?0:-1},p,{children:x}))}),pD=dD;function mD(n){return qn("MuiPopover",n)}rr("MuiPopover",["root","paper"]);const gD=["onEntering"],AD=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],vD=["slotProps"];function Ny(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function Oy(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function Uy(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function hA(n){return typeof n=="function"?n():n}const yD=n=>{const{classes:e}=n;return nr({root:["root"],paper:["paper"]},mD,e)},xD=Pt(yP,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),VC=Pt(dR,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),CD=F.forwardRef(function(e,t){var r,i,s;const o=ur({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:p,className:m,container:g,elevation:A=8,marginThreshold:v=16,open:C,PaperProps:x={},slots:E,slotProps:_,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:M=jP,transitionDuration:T="auto",TransitionProps:{onEntering:w}={},disableScrollLock:R=!1}=o,D=_t(o.TransitionProps,gD),P=_t(o,AD),z=(r=_==null?void 0:_.paper)!=null?r:x,q=F.useRef(),k=Ri(q,z.ref),Q=Z({},o,{anchorOrigin:c,anchorReference:d,elevation:A,marginThreshold:v,externalPaperSlotProps:z,transformOrigin:I,TransitionComponent:M,transitionDuration:T,TransitionProps:D}),V=yD(Q),Y=F.useCallback(()=>{if(d==="anchorPosition")return u;const ne=hA(l),Me=(ne&&ne.nodeType===1?ne:Xr(q.current).body).getBoundingClientRect();return{top:Me.top+Ny(Me,c.vertical),left:Me.left+Oy(Me,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),G=F.useCallback(ne=>({vertical:Ny(ne,I.vertical),horizontal:Oy(ne,I.horizontal)}),[I.horizontal,I.vertical]),j=F.useCallback(ne=>{const Ce={width:ne.offsetWidth,height:ne.offsetHeight},Me=G(Ce);if(d==="none")return{top:null,left:null,transformOrigin:Uy(Me)};const Fe=Y();let qe=Fe.top-Me.vertical,je=Fe.left-Me.horizontal;const ze=qe+Ce.height,ct=je+Ce.width,rt=yl(hA(l)),W=rt.innerHeight-v,N=rt.innerWidth-v;if(v!==null&&qe<v){const se=qe-v;qe-=se,Me.vertical+=se}else if(v!==null&&ze>W){const se=ze-W;qe-=se,Me.vertical+=se}if(v!==null&&je<v){const se=je-v;je-=se,Me.horizontal+=se}else if(ct>N){const se=ct-N;je-=se,Me.horizontal+=se}return{top:`${Math.round(qe)}px`,left:`${Math.round(je)}px`,transformOrigin:Uy(Me)}},[l,d,Y,G,v]),[K,ee]=F.useState(C),X=F.useCallback(()=>{const ne=q.current;if(!ne)return;const Ce=j(ne);Ce.top!==null&&(ne.style.top=Ce.top),Ce.left!==null&&(ne.style.left=Ce.left),ne.style.transformOrigin=Ce.transformOrigin,ee(!0)},[j]);F.useEffect(()=>(R&&window.addEventListener("scroll",X),()=>window.removeEventListener("scroll",X)),[l,R,X]);const ae=(ne,Ce)=>{w&&w(ne,Ce),X()},Ae=()=>{ee(!1)};F.useEffect(()=>{C&&X()}),F.useImperativeHandle(a,()=>C?{updatePosition:()=>{X()}}:null,[C,X]),F.useEffect(()=>{if(!C)return;const ne=mC(()=>{X()}),Ce=yl(l);return Ce.addEventListener("resize",ne),()=>{ne.clear(),Ce.removeEventListener("resize",ne)}},[l,C,X]);let _e=T;T==="auto"&&!M.muiSupportAuto&&(_e=void 0);const re=g||(l?Xr(hA(l)).body:void 0),Ne=(i=E==null?void 0:E.root)!=null?i:xD,Pe=(s=E==null?void 0:E.paper)!=null?s:VC,Le=zc({elementType:Pe,externalSlotProps:Z({},z,{style:K?z.style:Z({},z.style,{opacity:0})}),additionalProps:{elevation:A,ref:k},ownerState:Q,className:Rn(V.paper,z==null?void 0:z.className)}),ve=zc({elementType:Ne,externalSlotProps:(_==null?void 0:_.root)||{},externalForwardedProps:P,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:re,open:C},ownerState:Q,className:Rn(V.root,m)}),{slotProps:xe}=ve,oe=_t(ve,vD);return $.jsx(Ne,Z({},oe,!U0(Ne)&&{slotProps:xe,disableScrollLock:R},{children:$.jsx(M,Z({appear:!0,in:C,onEntering:ae,onExited:Ae,timeout:_e},D,{children:$.jsx(Pe,Z({},Le,{children:p}))}))}))}),ED=CD;function SD(n){return qn("MuiMenu",n)}rr("MuiMenu",["root","paper","list"]);const _D=["onEntering"],bD=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ID={vertical:"top",horizontal:"right"},wD={vertical:"top",horizontal:"left"},MD=n=>{const{classes:e}=n;return nr({root:["root"],paper:["paper"],list:["list"]},SD,e)},TD=Pt(ED,{shouldForwardProp:n=>ga(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),BD=Pt(VC,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),RD=Pt(pD,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),PD=F.forwardRef(function(e,t){var r,i;const s=ur({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:p,PaperProps:m={},PopoverClasses:g,transitionDuration:A="auto",TransitionProps:{onEntering:v}={},variant:C="selectedMenu",slots:x={},slotProps:E={}}=s,_=_t(s.TransitionProps,_D),I=_t(s,bD),M=U5(),T=M.direction==="rtl",w=Z({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:v,PaperProps:m,transitionDuration:A,TransitionProps:_,variant:C}),R=MD(w),D=o&&!c&&p,P=F.useRef(null),z=(j,K)=>{P.current&&P.current.adjustStyleForScrollbar(j,M),v&&v(j,K)},q=j=>{j.key==="Tab"&&(j.preventDefault(),d&&d(j,"tabKeyDown"))};let k=-1;F.Children.map(a,(j,K)=>{F.isValidElement(j)&&(j.props.disabled||(C==="selectedMenu"&&j.props.selected||k===-1)&&(k=K))});const Q=(r=x.paper)!=null?r:BD,V=(i=E.paper)!=null?i:m,Y=zc({elementType:x.root,externalSlotProps:E.root,ownerState:w,className:[R.root,l]}),G=zc({elementType:Q,externalSlotProps:V,ownerState:w,className:R.paper});return $.jsx(TD,Z({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?ID:wD,slots:{paper:Q,root:x.root},slotProps:{root:Y,paper:G},open:p,ref:t,transitionDuration:A,TransitionProps:Z({onEntering:z},_),ownerState:w},I,{classes:g,children:$.jsx(RD,Z({onKeyDown:q,actions:P,autoFocus:o&&(k===-1||c),autoFocusItem:D,variant:C},u,{className:Rn(R.list,u.className),children:a}))}))}),DD=PD;function LD(n){return qn("MuiNativeSelect",n)}const FD=rr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),H5=FD,kD=["className","disabled","error","IconComponent","inputRef","variant"],ND=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,a={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${fn(t)}`,s&&"iconOpen",r&&"disabled"]};return nr(a,LD,e)},WC=({ownerState:n,theme:e})=>Z({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Z({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${H5.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},n.variant==="filled"&&{"&&&":{paddingRight:32}},n.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),OD=Pt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ga,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${H5.multiple}`]:e.multiple}]}})(WC),JC=({ownerState:n,theme:e})=>Z({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${H5.disabled}`]:{color:(e.vars||e).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},n.variant==="filled"&&{right:7},n.variant==="outlined"&&{right:7}),UD=Pt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${fn(t.variant)}`],t.open&&e.iconOpen]}})(JC),GD=F.forwardRef(function(e,t){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=_t(e,kD),u=Z({},e,{disabled:i,variant:l,error:s}),d=ND(u);return $.jsxs(F.Fragment,{children:[$.jsx(OD,Z({ownerState:u,className:Rn(d.select,r),disabled:i,ref:a||t},c)),e.multiple?null:$.jsx(UD,{as:o,ownerState:u,className:d.icon})]})}),QD=GD;var Gy;const HD=["children","classes","className","label","notched"],zD=Pt("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),VD=Pt("legend")(({ownerState:n,theme:e})=>Z({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},n.withLabel&&Z({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function WD(n){const{className:e,label:t,notched:r}=n,i=_t(n,HD),s=t!=null&&t!=="",o=Z({},n,{notched:r,withLabel:s});return $.jsx(zD,Z({"aria-hidden":!0,className:e,ownerState:o},i,{children:$.jsx(VD,{ownerState:o,children:s?$.jsx("span",{children:t}):Gy||(Gy=$.jsx("span",{className:"notranslate",children:"​"}))})}))}const JD=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],jD=n=>{const{classes:e}=n,r=nr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},YR,e);return Z({},e,r)},KD=Pt(q3,{shouldForwardProp:n=>ga(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:j3})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Z({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${bo.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${bo.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${bo.focused} .${bo.notchedOutline}`]:{borderColor:(n.vars||n).palette[e.color].main,borderWidth:2},[`&.${bo.error} .${bo.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${bo.disabled} .${bo.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&Z({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),qD=Pt(WD,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),YD=Pt(Y3,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:K3})(({theme:n,ownerState:e})=>Z({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),jC=F.forwardRef(function(e,t){var r,i,s,o,a;const l=ur({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:p,multiline:m=!1,notched:g,slots:A={},type:v="text"}=l,C=_t(l,JD),x=jD(l),E=xu(),_=yu({props:l,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=Z({},l,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:E,fullWidth:u,hiddenLabel:_.hiddenLabel,multiline:m,size:_.size,type:v}),M=(r=(i=A.root)!=null?i:c.Root)!=null?r:KD,T=(s=(o=A.input)!=null?o:c.Input)!=null?s:YD;return $.jsx(Q5,Z({slots:{root:M,input:T},renderSuffix:w=>$.jsx(qD,{ownerState:I,className:x.notchedOutline,label:p!=null&&p!==""&&_.required?a||(a=$.jsxs(F.Fragment,{children:[p," ","*"]})):p,notched:typeof g<"u"?g:!!(w.startAdornment||w.filled||w.focused)}),fullWidth:u,inputComponent:d,multiline:m,ref:t,type:v},C,{classes:Z({},x,{notchedOutline:null})}))});jC.muiName="Input";const KC=jC;function XD(n){return qn("MuiSelect",n)}const $D=rr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rf=$D;var Qy;const ZD=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],eL=Pt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${rf.select}`]:e.select},{[`&.${rf.select}`]:e[t.variant]},{[`&.${rf.error}`]:e.error},{[`&.${rf.multiple}`]:e.multiple}]}})(WC,{[`&.${rf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),tL=Pt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${fn(t.variant)}`],t.open&&e.iconOpen]}})(JC),nL=Pt("input",{shouldForwardProp:n=>eR(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Hy(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function rL(n){return n==null||typeof n=="string"&&!n.trim()}const iL=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,a={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${fn(t)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nr(a,XD,e)},sL=F.forwardRef(function(e,t){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:p,displayEmpty:m,error:g=!1,IconComponent:A,inputRef:v,labelId:C,MenuProps:x={},multiple:E,name:_,onBlur:I,onChange:M,onClose:T,onFocus:w,onOpen:R,open:D,readOnly:P,renderValue:z,SelectDisplayProps:q={},tabIndex:k,value:Q,variant:V="standard"}=e,Y=_t(e,ZD),[G,j]=ay({controlled:Q,default:d,name:"Select"}),[K,ee]=ay({controlled:D,default:u,name:"Select"}),X=F.useRef(null),ae=F.useRef(null),[Ae,_e]=F.useState(null),{current:re}=F.useRef(D!=null),[Ne,Pe]=F.useState(),Le=Ri(t,v),ve=F.useCallback(U=>{ae.current=U,U&&_e(U)},[]),xe=Ae==null?void 0:Ae.parentNode;F.useImperativeHandle(Le,()=>({focus:()=>{ae.current.focus()},node:X.current,value:G}),[G]),F.useEffect(()=>{u&&K&&Ae&&!re&&(Pe(a?null:xe.clientWidth),ae.current.focus())},[Ae,a]),F.useEffect(()=>{o&&ae.current.focus()},[o]),F.useEffect(()=>{if(!C)return;const U=Xr(ae.current).getElementById(C);if(U){const O=()=>{getSelection().isCollapsed&&ae.current.focus()};return U.addEventListener("click",O),()=>{U.removeEventListener("click",O)}}},[C]);const oe=(U,O)=>{U?R&&R(O):T&&T(O),re||(Pe(a?null:xe.clientWidth),ee(U))},ne=U=>{U.button===0&&(U.preventDefault(),ae.current.focus(),oe(!0,U))},Ce=U=>{oe(!1,U)},Me=F.Children.toArray(l),Fe=U=>{const O=Me.find(fe=>fe.props.value===U.target.value);O!==void 0&&(j(O.props.value),M&&M(U,O))},qe=U=>O=>{let fe;if(O.currentTarget.hasAttribute("tabindex")){if(E){fe=Array.isArray(G)?G.slice():[];const Se=G.indexOf(U.props.value);Se===-1?fe.push(U.props.value):fe.splice(Se,1)}else fe=U.props.value;if(U.props.onClick&&U.props.onClick(O),G!==fe&&(j(fe),M)){const Se=O.nativeEvent||O,Ke=new Se.constructor(Se.type,Se);Object.defineProperty(Ke,"target",{writable:!0,value:{value:fe,name:_}}),M(Ke,U)}E||oe(!1,O)}},je=U=>{P||[" ","ArrowUp","ArrowDown","Enter"].indexOf(U.key)!==-1&&(U.preventDefault(),oe(!0,U))},ze=Ae!==null&&K,ct=U=>{!ze&&I&&(Object.defineProperty(U,"target",{writable:!0,value:{value:G,name:_}}),I(U))};delete Y["aria-invalid"];let rt,W;const N=[];let se=!1;(G0({value:G})||m)&&(z?rt=z(G):se=!0);const we=Me.map(U=>{if(!F.isValidElement(U))return null;let O;if(E){if(!Array.isArray(G))throw new Error($o(2));O=G.some(fe=>Hy(fe,U.props.value)),O&&se&&N.push(U.props.children)}else O=Hy(G,U.props.value),O&&se&&(W=U.props.children);return F.cloneElement(U,{"aria-selected":O?"true":"false",onClick:qe(U),onKeyUp:fe=>{fe.key===" "&&fe.preventDefault(),U.props.onKeyUp&&U.props.onKeyUp(fe)},role:"option",selected:O,value:void 0,"data-value":U.props.value})});se&&(E?N.length===0?rt=null:rt=N.reduce((U,O,fe)=>(U.push(O),fe<N.length-1&&U.push(", "),U),[]):rt=W);let Te=Ne;!a&&re&&Ae&&(Te=xe.clientWidth);let Be;typeof k<"u"?Be=k:Be=p?null:0;const Ue=q.id||(_?`mui-component-select-${_}`:void 0),ue=Z({},e,{variant:V,value:G,open:ze,error:g}),We=iL(ue),Oe=Z({},x.PaperProps,(r=x.slotProps)==null?void 0:r.paper);return $.jsxs(F.Fragment,{children:[$.jsx(eL,Z({ref:ve,tabIndex:Be,role:"button","aria-disabled":p?"true":void 0,"aria-expanded":ze?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,Ue].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:je,onMouseDown:p||P?null:ne,onBlur:ct,onFocus:w},q,{ownerState:ue,className:Rn(q.className,We.select,c),id:Ue,children:rL(rt)?Qy||(Qy=$.jsx("span",{className:"notranslate",children:"​"})):rt})),$.jsx(nL,Z({"aria-invalid":g,value:Array.isArray(G)?G.join(","):G,name:_,ref:X,"aria-hidden":!0,onChange:Fe,tabIndex:-1,disabled:p,className:We.nativeInput,autoFocus:o,ownerState:ue},Y)),$.jsx(tL,{as:A,className:We.icon,ownerState:ue}),$.jsx(DD,Z({id:`menu-${_||""}`,anchorEl:xe,open:ze,onClose:Ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:Z({"aria-labelledby":C,role:"listbox",disableListWrap:!0},x.MenuListProps),slotProps:{paper:Z({},Oe,{style:Z({minWidth:Te},Oe!=null?Oe.style:null)})},children:we}))]})}),oL=sL,aL=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],lL=["root"],cL=n=>{const{classes:e}=n;return e},z5={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>ga(n)&&n!=="variant",slot:"Root"},uL=Pt(HC,z5)(""),fL=Pt(KC,z5)(""),hL=Pt(UC,z5)(""),qC=F.forwardRef(function(e,t){const r=ur({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=eP,id:d,input:p,inputProps:m,label:g,labelId:A,MenuProps:v,multiple:C=!1,native:x=!1,onClose:E,onOpen:_,open:I,renderValue:M,SelectDisplayProps:T,variant:w="outlined"}=r,R=_t(r,aL),D=x?QD:oL,P=xu(),z=yu({props:r,muiFormControl:P,states:["variant","error"]}),q=z.variant||w,k=Z({},r,{variant:q,classes:o}),Q=cL(k),V=_t(Q,lL),Y=p||{standard:$.jsx(uL,{ownerState:k}),outlined:$.jsx(fL,{label:g,ownerState:k}),filled:$.jsx(hL,{ownerState:k})}[q],G=Ri(t,Y.ref);return $.jsx(F.Fragment,{children:F.cloneElement(Y,Z({inputComponent:D,inputProps:Z({children:s,error:z.error,IconComponent:u,variant:q,type:void 0,multiple:C},x?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:A,MenuProps:v,onClose:E,onOpen:_,open:I,renderValue:M,SelectDisplayProps:Z({id:d},T)},m,{classes:m?kr(V,m.classes):V},p?p.props.inputProps:{})},C&&x&&q==="outlined"?{notched:!0}:{},{ref:G,className:Rn(Y.props.className,a,Q.root)},!p&&{variant:q},R))})});qC.muiName="Select";const dL=qC;function pL(n){return qn("MuiTextField",n)}rr("MuiTextField",["root"]);const mL=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],gL={standard:HC,filled:UC,outlined:KC},AL=n=>{const{classes:e}=n;return nr({root:["root"]},pL,e)},vL=Pt(TP,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),yL=F.forwardRef(function(e,t){const r=ur({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:p,fullWidth:m=!1,helperText:g,id:A,InputLabelProps:v,inputProps:C,InputProps:x,inputRef:E,label:_,maxRows:I,minRows:M,multiline:T=!1,name:w,onBlur:R,onChange:D,onFocus:P,placeholder:z,required:q=!1,rows:k,select:Q=!1,SelectProps:V,type:Y,value:G,variant:j="outlined"}=r,K=_t(r,mL),ee=Z({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:m,multiline:T,required:q,select:Q,variant:j}),X=AL(ee),ae={};j==="outlined"&&(v&&typeof v.shrink<"u"&&(ae.notched=v.shrink),ae.label=_),Q&&((!V||!V.native)&&(ae.id=void 0),ae["aria-describedby"]=void 0);const Ae=MM(A),_e=g&&Ae?`${Ae}-helper-text`:void 0,re=_&&Ae?`${Ae}-label`:void 0,Ne=gL[j],Pe=$.jsx(Ne,Z({"aria-describedby":_e,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:m,multiline:T,name:w,rows:k,maxRows:I,minRows:M,type:Y,value:G,id:Ae,inputRef:E,onBlur:R,onChange:D,onFocus:P,placeholder:z,inputProps:C},ae,x));return $.jsxs(vL,Z({className:Rn(X.root,a),disabled:u,error:d,fullWidth:m,ref:t,required:q,color:l,variant:j,ownerState:ee},K,{children:[_!=null&&_!==""&&$.jsx(rD,Z({htmlFor:Ae,id:re},v,{children:_})),Q?$.jsx(dL,Z({"aria-describedby":_e,id:Ae,labelId:re,value:G,input:Pe},V,{children:o})):Pe,g&&$.jsx(kP,Z({id:_e},p,{children:g}))]}))}),zy=yL;var Q0=function(){return Q0=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Q0.apply(this,arguments)};function YC(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XC(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}var xL=function(){},Vy=function(){},$C=F.createContext({transformPagePoint:function(n){return n},isStatic:!1,reducedMotion:"never"}),ZC=typeof document<"u",CL=ZC?F.useLayoutEffect:F.useEffect,$2={current:null},eE=!1;function EL(){if(eE=!0,!!ZC)if(window.matchMedia){var n=window.matchMedia("(prefers-reduced-motion)"),e=function(){return $2.current=n.matches};n.addListener(e),e()}else $2.current=!1}function tE(){!eE&&EL();var n=XC(F.useState($2.current),1),e=n[0];return e}function SL(n){var e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}var nE=function(n){return!!(n!==null&&typeof n=="object"&&n.getVelocity)};const rE=(n,e)=>t=>Math.max(Math.min(t,e),n),Nf=n=>n%1?Number(n.toFixed(5)):n,H0=/(-)?([\d]*\.?[\d])+/g,Z2=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,_L=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Fh(n){return typeof n=="string"}const X3={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},iE=Object.assign(Object.assign({},X3),{transform:rE(0,1)});Object.assign(Object.assign({},X3),{default:1});const bL=n=>({test:e=>Fh(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Of=bL("%");Object.assign(Object.assign({},Of),{parse:n=>Of.parse(n)/100,transform:n=>Of.transform(n*100)});const V5=(n,e)=>t=>!!(Fh(t)&&_L.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),sE=(n,e,t)=>r=>{if(!Fh(r))return r;const[i,s,o,a]=r.match(H0);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sl={test:V5("hsl","hue"),parse:sE("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Of.transform(Nf(e))+", "+Of.transform(Nf(t))+", "+Nf(iE.transform(r))+")"},IL=rE(0,255),dA=Object.assign(Object.assign({},X3),{transform:n=>Math.round(IL(n))}),zo={test:V5("rgb","red"),parse:sE("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+dA.transform(n)+", "+dA.transform(e)+", "+dA.transform(t)+", "+Nf(iE.transform(r))+")"};function wL(n){let e="",t="",r="",i="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),r=n.substr(5,2),i=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),r=n.substr(3,1),i=n.substr(4,1),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const e1={test:V5("#"),parse:wL,transform:zo.transform},$3={test:n=>zo.test(n)||e1.test(n)||sl.test(n),parse:n=>zo.test(n)?zo.parse(n):sl.test(n)?sl.parse(n):e1.parse(n),transform:n=>Fh(n)?n:n.hasOwnProperty("red")?zo.transform(n):sl.transform(n)},oE="${c}",aE="${n}";function ML(n){var e,t,r,i;return isNaN(n)&&Fh(n)&&((t=(e=n.match(H0))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((i=(r=n.match(Z2))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function lE(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const r=n.match(Z2);r&&(t=r.length,n=n.replace(Z2,oE),e.push(...r.map($3.parse)));const i=n.match(H0);return i&&(n=n.replace(H0,aE),e.push(...i.map(X3.parse))),{values:e,numColors:t,tokenised:n}}function cE(n){return lE(n).values}function uE(n){const{values:e,numColors:t,tokenised:r}=lE(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?oE:aE,a<t?$3.transform(s[a]):Nf(s[a]));return o}}const TL=n=>typeof n=="number"?0:n;function BL(n){const e=cE(n);return uE(n)(e.map(TL))}const fE={test:ML,parse:cE,createTransformer:uE,getAnimatableNone:BL},t1=(n,e,t)=>Math.min(Math.max(t,n),e),pA=.001,RL=.01,Wy=10,PL=.05,DL=1;function LL({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;xL(n<=Wy*1e3);let o=1-e;o=t1(PL,DL,o),n=t1(RL,Wy,n/1e3),o<1?(i=c=>{const u=c*o,d=u*n,p=u-t,m=n1(c,o),g=Math.exp(-d);return pA-p/m*g},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-d),A=n1(Math.pow(c,2),o);return(-i(c)+pA>0?-1:1)*((p-m)*g)/A}):(i=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-pA+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=kL(i,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const FL=12;function kL(n,e,t){let r=t;for(let i=1;i<FL;i++)r=r-n(r)/e(r);return r}function n1(n,e){return n*Math.sqrt(1-e*e)}const NL=["duration","bounce"],OL=["stiffness","damping","mass"];function Jy(n,e){return e.some(t=>n[t]!==void 0)}function UL(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!Jy(n,OL)&&Jy(n,NL)){const t=LL(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function W5(n){var{from:e=0,to:t=1,restSpeed:r=2,restDelta:i}=n,s=YC(n,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:p}=UL(s),m=jy,g=jy;function A(){const v=u?-(u/1e3):0,C=t-e,x=l/(2*Math.sqrt(a*c)),E=Math.sqrt(a/c)/1e3;if(i===void 0&&(i=Math.min(Math.abs(t-e)/100,.4)),x<1){const _=n1(E,x);m=I=>{const M=Math.exp(-x*E*I);return t-M*((v+x*E*C)/_*Math.sin(_*I)+C*Math.cos(_*I))},g=I=>{const M=Math.exp(-x*E*I);return x*E*M*(Math.sin(_*I)*(v+x*E*C)/_+C*Math.cos(_*I))-M*(Math.cos(_*I)*(v+x*E*C)-_*C*Math.sin(_*I))}}else if(x===1)m=_=>t-Math.exp(-E*_)*(C+(v+E*C)*_);else{const _=E*Math.sqrt(x*x-1);m=I=>{const M=Math.exp(-x*E*I),T=Math.min(_*I,300);return t-M*((v+x*E*C)*Math.sinh(T)+_*C*Math.cosh(T))/_}}}return A(),{next:v=>{const C=m(v);if(p)o.done=v>=d;else{const x=g(v)*1e3,E=Math.abs(x)<=r,_=Math.abs(t-C)<=i;o.done=E&&_}return o.value=o.done?t:C,o},flipTarget:()=>{u=-u,[e,t]=[t,e],A()}}}W5.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const jy=n=>0,hE=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},J5=(n,e,t)=>-t*n+t*e+n;function mA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ky({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=mA(l,a,n+1/3),s=mA(l,a,n),o=mA(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const GL=(n,e,t)=>{const r=n*n,i=e*e;return Math.sqrt(Math.max(0,t*(i-r)+r))},QL=[e1,zo,sl],qy=n=>QL.find(e=>e.test(n)),dE=(n,e)=>{let t=qy(n),r=qy(e),i=t.parse(n),s=r.parse(e);t===sl&&(i=Ky(i),t=zo),r===sl&&(s=Ky(s),r=zo);const o=Object.assign({},i);return a=>{for(const l in o)l!=="alpha"&&(o[l]=GL(i[l],s[l],a));return o.alpha=J5(i.alpha,s.alpha,a),t.transform(o)}},HL=n=>typeof n=="number",zL=(n,e)=>t=>e(n(t)),pE=(...n)=>n.reduce(zL);function mE(n,e){return HL(n)?t=>J5(n,e,t):$3.test(n)?dE(n,e):AE(n,e)}const gE=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>mE(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},VL=(n,e)=>{const t=Object.assign(Object.assign({},n),e),r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=mE(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}};function Yy(n){const e=fE.parse(n),t=e.length;let r=0,i=0,s=0;for(let o=0;o<t;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?s++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:s}}const AE=(n,e)=>{const t=fE.createTransformer(e),r=Yy(n),i=Yy(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?pE(gE(r.parsed,i.parsed),t):o=>`${o>0?e:n}`},WL=(n,e)=>t=>J5(n,e,t);function JL(n){if(typeof n=="number")return WL;if(typeof n=="string")return $3.test(n)?dE:AE;if(Array.isArray(n))return gE;if(typeof n=="object")return VL}function jL(n,e,t){const r=[],i=t||JL(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=pE(l,a)}r.push(a)}return r}function KL([n,e],[t]){return r=>t(hE(n,e,r))}function qL(n,e){const t=n.length,r=t-1;return i=>{let s=0,o=!1;if(i<=n[0]?o=!0:i>=n[r]&&(s=r-1,o=!0),!o){let l=1;for(;l<t&&!(n[l]>i||l===r);l++);s=l-1}const a=hE(n[s],n[s+1],i);return e[s](a)}}function vE(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;Vy(s===e.length),Vy(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const o=jL(e,r,i),a=s===2?KL(n,o):qL(n,o);return t?l=>a(t1(n[0],n[s-1],l)):a}const YL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,XL=n=>e=>Math.pow(e,n),$L=n=>e=>e*e*((n+1)*e-n),ZL=n=>{const e=$L(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},eF=1.525,tF=XL(2),nF=YL(tF);ZL(eF);function rF(n,e){return n.map(()=>e||nF).splice(0,n.length-1)}function iF(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function sF(n,e){return n.map(t=>t*e)}function v0({from:n=0,to:e=1,ease:t,offset:r,duration:i=300}){const s={done:!1,value:n},o=Array.isArray(e)?e:[n,e],a=sF(r&&r.length===o.length?r:iF(o),i);function l(){return vE(a,o,{ease:Array.isArray(t)?t:rF(o,t)})}let c=l();return{next:u=>(s.value=c(u),s.done=u>=i,s),flipTarget:()=>{o.reverse(),c=l()}}}function oF({velocity:n=0,from:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:e};let a=t*n;const l=e+a,c=s===void 0?l:s(l);return c!==l&&(a=c-e),{next:u=>{const d=-a*Math.exp(-u/r);return o.done=!(d>i||d<-i),o.value=o.done?c:c+d,o},flipTarget:()=>{}}}const Xy={keyframes:v0,spring:W5,decay:oF};function aF(n){if(Array.isArray(n.to))return v0;if(Xy[n.type])return Xy[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?v0:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?W5:v0}const yE=1/60*1e3,lF=typeof performance<"u"?()=>performance.now():()=>Date.now(),xE=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(lF()),yE);function cF(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,p=d?e:t;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const uF=40;let r1=!0,Zf=!1,i1=!1;const Fc={delta:0,timestamp:0},kh=["read","update","preRender","render","postRender"],Z3=kh.reduce((n,e)=>(n[e]=cF(()=>Zf=!0),n),{}),s1=kh.reduce((n,e)=>{const t=Z3[e];return n[e]=(r,i=!1,s=!1)=>(Zf||dF(),t.schedule(r,i,s)),n},{}),fF=kh.reduce((n,e)=>(n[e]=Z3[e].cancel,n),{});kh.reduce((n,e)=>(n[e]=()=>Z3[e].process(Fc),n),{});const hF=n=>Z3[n].process(Fc),CE=n=>{Zf=!1,Fc.delta=r1?yE:Math.max(Math.min(n-Fc.timestamp,uF),1),Fc.timestamp=n,i1=!0,kh.forEach(hF),i1=!1,Zf&&(r1=!1,xE(CE))},dF=()=>{Zf=!0,r1=!0,i1||xE(CE)},pF=()=>Fc;function EE(n,e,t=0){return n-e-t}function mF(n,e,t=0,r=!0){return r?EE(e+-n,e,t):e-(n-e)+t}function gF(n,e,t,r){return r?n>=e+t:n<=-t}const AF=n=>{const e=({delta:t})=>n(t);return{start:()=>s1.update(e,!0),stop:()=>fF.update(e)}};function vF(n){var e,t,{from:r,autoplay:i=!0,driver:s=AF,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:d,onComplete:p,onRepeat:m,onUpdate:g}=n,A=YC(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:v}=A,C,x=0,E=A.duration,_,I=!1,M=!0,T;const w=aF(A);!((t=(e=w).needsInterpolation)===null||t===void 0)&&t.call(e,r,v)&&(T=vE([0,100],[r,v],{clamp:!1}),r=0,v=100);const R=w(Object.assign(Object.assign({},A),{from:r,to:v}));function D(){x++,l==="reverse"?(M=x%2===0,o=mF(o,E,c,M)):(o=EE(o,E,c),l==="mirror"&&R.flipTarget()),I=!1,m&&m()}function P(){C.stop(),p&&p()}function z(k){if(M||(k=-k),o+=k,!I){const Q=R.next(Math.max(0,o));_=Q.value,T&&(_=T(_)),I=M?Q.done:o<=0}g==null||g(_),I&&(x===0&&(E??(E=o)),x<a?gF(o,E,c,M)&&D():P())}function q(){u==null||u(),C=s(z),C.start()}return i&&q(),{stop:()=>{d==null||d(),C.stop()}}}function yF(n,e){return e?n*(1e3/e):0}function xF(n,e){n.indexOf(e)===-1&&n.push(e)}function CF(n,e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}var gA=function(){function n(){this.subscriptions=[]}return n.prototype.add=function(e){var t=this;return xF(this.subscriptions,e),function(){return CF(t.subscriptions,e)}},n.prototype.notify=function(e,t,r){var i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(var s=0;s<i;s++){var o=this.subscriptions[s];o&&o(e,t,r)}},n.prototype.getSize=function(){return this.subscriptions.length},n.prototype.clear=function(){this.subscriptions.length=0},n}(),EF=function(n){return!isNaN(parseFloat(n))},SF=function(){function n(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new gA,this.velocityUpdateSubscribers=new gA,this.renderSubscribers=new gA,this.canTrackVelocity=!1,this.updateAndNotify=function(r,i){i===void 0&&(i=!0),t.prev=t.current,t.current=r;var s=pF(),o=s.delta,a=s.timestamp;t.lastUpdated!==a&&(t.timeDelta=o,t.lastUpdated=a,s1.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),i&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return s1.postRender(t.velocityCheck)},this.velocityCheck=function(r){var i=r.timestamp;i!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=EF(this.current)}return n.prototype.onChange=function(e){return this.updateSubscribers.add(e)},n.prototype.clearListeners=function(){this.updateSubscribers.clear()},n.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},n.prototype.attach=function(e){this.passiveEffect=e},n.prototype.set=function(e,t){t===void 0&&(t=!0),!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)},n.prototype.get=function(){return this.current},n.prototype.getPrevious=function(){return this.prev},n.prototype.getVelocity=function(){return this.canTrackVelocity?yF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},n.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(r){t.hasAnimated=!0,t.stopAnimation=e(r)}).then(function(){return t.clearAnimation()})},n.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},n.prototype.isAnimating=function(){return!!this.stopAnimation},n.prototype.clearAnimation=function(){this.stopAnimation=null},n.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},n}();function _F(n){return new SF(n)}function bF(n){var e=SL(function(){return _F(n)}),t=F.useContext($C).isStatic;if(t){var r=XC(F.useState(n),2),i=r[1];F.useEffect(function(){return e.onChange(i)},[])}return e}function IF(n,e){CL(function(){if(nE(n))return n.onChange(e)},[e])}function o1(n,e){e===void 0&&(e={});var t=F.useContext($C).isStatic,r=F.useRef(null),i=bF(nE(n)?n.get():n);return F.useMemo(function(){return i.attach(function(s,o){return t?o(s):(r.current&&r.current.stop(),r.current=vF(Q0(Q0({from:i.get(),to:s,velocity:i.getVelocity()},e),{onUpdate:o})),i.get())})},[JSON.stringify(e)]),IF(n,function(s){return i.set(parseFloat(s))}),i}function wF(n,e,t={},r=!0){const[i,s]=F.useState(!1),[o,a]=F.useState(!1);return F.useEffect(()=>{if(!(n!=null&&n.current))return;const l=new IntersectionObserver(([c])=>{const{isIntersecting:u,target:d}=c;s(u),u&&e&&(l.unobserve(d),a(!0))},t);return!o&&r&&l.observe(n.current),()=>l.disconnect()},[n,e,t,o,r]),i}function MF(){const n=F.useRef(()=>({w:1280,h:800})),e=F.useCallback(()=>{let o=document.createElement("div");o.style.position="fixed",o.style.height="100vh",o.style.width=0,o.style.top=0,document.documentElement.appendChild(o),n.current.w=window.innerWidth,n.current.h=o.offsetHeight,document.documentElement.removeChild(o),o=null},[]),t=F.useCallback(()=>(navigator==null?void 0:navigator.userAgent.match(/iphone|ipod|ipad/i))?(e(),n.current.h):window.innerHeight,[e]),r=F.useCallback(()=>({width:window.innerWidth,height:t()}),[t]),[i,s]=F.useState(n.current);return F.useEffect(()=>{const o=()=>{s(r())};return window.addEventListener("resize",o),o(),()=>{window.removeEventListener("resize",o)}},[r]),i}const $y=9;function TF(n=!0){const e=F.useRef(0),t=F.useRef(0),r=F.useRef(0),i=F.useRef([]),s=F.useRef(!1);return F.useEffect(()=>{typeof window>"u"||(t.current=performance.now(),r.current=0,i.current=[])},[n]),{measureFps:F.useCallback(()=>{const a=performance.now();r.current=r.current+1,a>=t.current+100&&(e.current=r.current*100/(a-t.current)*10,i.current.push(e.current),t.current=a,r.current=0),!(i.current.length<=$y)&&(i.current=i.current.slice(-$y),i.current.every(l=>l<60)&&(s.current=!0),i.current.every(l=>l>70)&&(s.current=!1))},[]),fps:e,isLowFps:s}}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const lo="141",Ka={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},qa={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},SE=0,a1=1,_E=2,BF=3,bE=0,em=1,Uf=2,ol=3,Zo=0,Nr=1,ro=2,IE=1,RF=2,Bt=0,Cs=1,eh=2,l1=3,c1=4,th=5,Yr=100,wE=101,ME=102,u1=103,f1=104,Wc=200,TE=201,BE=202,RE=203,nh=204,rh=205,tm=206,PE=207,nm=208,DE=209,LE=210,FE=0,kE=1,NE=2,z0=3,OE=4,UE=5,GE=6,QE=7,Nh=0,HE=1,zE=2,$r=0,VE=1,WE=2,JE=3,j5=4,jE=5,rm=300,ea=301,ta=302,ih=303,sh=304,Cu=306,wi=1e3,Mn=1001,Jc=1002,At=1003,oh=1004,PF=1004,ah=1005,DF=1005,tn=1006,im=1007,LF=1007,Yi=1008,FF=1008,er=1009,KE=1010,qE=1011,Eu=1012,YE=1013,Vo=1014,Fr=1015,kn=1016,XE=1017,$E=1018,jo=1020,ZE=1021,eS=1022,Bn=1023,K5=1024,tS=1025,Ko=1026,na=1027,al=1028,nS=1029,wc=1030,rS=1031,iS=1033,kc=33776,y0=33777,x0=33778,Nc=33779,lh=35840,h1=35841,ch=35842,d1=35843,sm=36196,uh=37492,fh=37496,hh=37808,p1=37809,m1=37810,g1=37811,A1=37812,v1=37813,y1=37814,x1=37815,C1=37816,E1=37817,S1=37818,_1=37819,b1=37820,I1=37821,dh=36492,sS=2200,oS=2201,aS=2202,jc=2300,Cl=2301,C0=2302,ll=2400,cl=2401,ph=2402,om=2500,q5=2501,lS=0,Y5=1,V0=2,ra=3e3,an=3001,cS=3200,X5=3201,Ml=0,uS=1,kF="",gs="srgb",Wo="srgb-linear",NF=0,E0=7680,OF=7681,UF=7682,GF=7683,QF=34055,HF=34056,zF=5386,VF=512,WF=513,JF=514,jF=515,KF=516,qF=517,YF=518,fS=519,W0=35044,S0=35048,XF=35040,$F=35045,ZF=35049,ek=35041,tk=35046,nk=35050,rk=35042,ik="100",w1="300 es",J0=1035;class co{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ar=[];for(let n=0;n<256;n++)ar[n]=(n<16?"0":"")+n.toString(16);let Zy=1234567;const pl=Math.PI/180,mh=180/Math.PI;function Zr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ar[n&255]+ar[n>>8&255]+ar[n>>16&255]+ar[n>>24&255]+"-"+ar[e&255]+ar[e>>8&255]+"-"+ar[e>>16&15|64]+ar[e>>24&255]+"-"+ar[t&63|128]+ar[t>>8&255]+"-"+ar[t>>16&255]+ar[t>>24&255]+ar[r&255]+ar[r>>8&255]+ar[r>>16&255]+ar[r>>24&255]).toLowerCase()}function Fn(n,e,t){return Math.max(e,Math.min(t,n))}function $5(n,e){return(n%e+e)%e}function sk(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function ok(n,e,t){return n!==e?(t-n)/(e-n):0}function Gf(n,e,t){return(1-t)*n+t*e}function ak(n,e,t,r){return Gf(n,e,1-Math.exp(-t*r))}function lk(n,e=1){return e-Math.abs($5(n,e*2)-e)}function ck(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function uk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function fk(n,e){return n+Math.floor(Math.random()*(e-n+1))}function hk(n,e){return n+Math.random()*(e-n)}function dk(n){return n*(.5-Math.random())}function pk(n){n!==void 0&&(Zy=n);let e=Zy+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function mk(n){return n*pl}function gk(n){return n*mh}function M1(n){return(n&n-1)===0&&n!==0}function hS(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function j0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ak(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function vk(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function yk(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Oc=Object.freeze({__proto__:null,DEG2RAD:pl,RAD2DEG:mh,generateUUID:Zr,clamp:Fn,euclideanModulo:$5,mapLinear:sk,inverseLerp:ok,lerp:Gf,damp:ak,pingpong:lk,smoothstep:ck,smootherstep:uk,randInt:fk,randFloat:hk,randFloatSpread:dk,seededRandom:pk,degToRad:mk,radToDeg:gk,isPowerOfTwo:M1,ceilPowerOfTwo:hS,floorPowerOfTwo:j0,setQuaternionFromProperEuler:Ak,normalize:yk,denormalize:vk});class he{constructor(e=0,t=0){this.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Si{constructor(){this.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],p=r[2],m=r[5],g=r[8],A=i[0],v=i[3],C=i[6],x=i[1],E=i[4],_=i[7],I=i[2],M=i[5],T=i[8];return s[0]=o*A+a*x+l*I,s[3]=o*v+a*E+l*M,s[6]=o*C+a*_+l*T,s[1]=c*A+u*x+d*I,s[4]=c*v+u*E+d*M,s[7]=c*C+u*_+d*T,s[2]=p*A+m*x+g*I,s[5]=p*v+m*E+g*M,s[8]=p*C+m*_+g*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,g=t*d+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/g;return e[0]=d*A,e[1]=(i*c-u*r)*A,e[2]=(a*r-i*o)*A,e[3]=p*A,e[4]=(u*t-i*l)*A,e[5]=(i*s-a*t)*A,e[6]=m*A,e[7]=(r*l-c*t)*A,e[8]=(o*t-r*s)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*u,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function dS(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const xk={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Mc(n,e){return new xk[n](e)}function gh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function ml(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function _0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const AA={[gs]:{[Wo]:ml},[Wo]:{[gs]:_0}},vi={legacyMode:!0,get workingColorSpace(){return Wo},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(AA[e]&&AA[e][t]!==void 0){const r=AA[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},pS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hn={r:0,g:0,b:0},Ni={h:0,s:0,l:0},fp={h:0,s:0,l:0};function vA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function hp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Re{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=gs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vi.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Wo){return this.r=e,this.g=t,this.b=r,vi.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Wo){if(e=$5(e,1),t=Fn(t,0,1),r=Fn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=vA(o,s,e+1/3),this.g=vA(o,s,e),this.b=vA(o,s,e-1/3)}return vi.toWorkingColorSpace(this,i),this}setStyle(e,t=gs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,vi.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,vi.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,vi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,vi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=gs){const r=pS[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ml(e.r),this.g=ml(e.g),this.b=ml(e.b),this}copyLinearToSRGB(e){return this.r=_0(e.r),this.g=_0(e.g),this.b=_0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=gs){return vi.fromWorkingColorSpace(hp(this,Hn),e),Fn(Hn.r*255,0,255)<<16^Fn(Hn.g*255,0,255)<<8^Fn(Hn.b*255,0,255)<<0}getHexString(e=gs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wo){vi.fromWorkingColorSpace(hp(this,Hn),t);const r=Hn.r,i=Hn.g,s=Hn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Wo){return vi.fromWorkingColorSpace(hp(this,Hn),t),e.r=Hn.r,e.g=Hn.g,e.b=Hn.b,e}getStyle(e=gs){return vi.fromWorkingColorSpace(hp(this,Hn),e),e!==gs?`color(${e} ${Hn.r} ${Hn.g} ${Hn.b})`:`rgb(${Hn.r*255|0},${Hn.g*255|0},${Hn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Ni),Ni.h+=e,Ni.s+=t,Ni.l+=r,this.setHSL(Ni.h,Ni.s,Ni.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Ni),e.getHSL(fp);const r=Gf(Ni.h,fp.h,t),i=Gf(Ni.s,fp.s,t),s=Gf(Ni.l,fp.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Re.NAMES=pS;let ec;class Z5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ec===void 0&&(ec=gh("canvas")),ec.width=e.width,ec.height=e.height;const r=ec.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ec}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=gh("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ml(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ml(t[r]/255)*255):t[r]=ml(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class ul{constructor(e=null){this.isSource=!0,this.uuid=Zr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(yA(i[o].image)):s.push(yA(i[o]))}else s=yA(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function yA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Z5.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ck=0;class En extends co{constructor(e=En.DEFAULT_IMAGE,t=En.DEFAULT_MAPPING,r=Mn,i=Mn,s=tn,o=Yi,a=Bn,l=er,c=1,u=ra){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ck++}),this.uuid=Zr(),this.name="",this.source=new ul(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new he(0,0),this.repeat=new he(1,1),this.center=new he(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Si,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==rm)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case wi:e.x=e.x-Math.floor(e.x);break;case Mn:e.x=e.x<0?0:1;break;case Jc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case wi:e.y=e.y-Math.floor(e.y);break;case Mn:e.y=e.y<0?0:1;break;case Jc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}En.DEFAULT_IMAGE=null;En.DEFAULT_MAPPING=rm;class Nt{constructor(e=0,t=0,r=0,i=1){this.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],g=l[9],A=l[2],v=l[6],C=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-A)<.01&&Math.abs(g-v)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+A)<.1&&Math.abs(g+v)<.1&&Math.abs(c+m+C-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(c+1)/2,_=(m+1)/2,I=(C+1)/2,M=(u+p)/4,T=(d+A)/4,w=(g+v)/4;return E>_&&E>I?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=M/r,s=T/r):_>I?_<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(_),r=M/i,s=w/i):I<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(I),r=T/s,i=w/s),this.set(r,i,s,t),this}let x=Math.sqrt((v-g)*(v-g)+(d-A)*(d-A)+(p-u)*(p-u));return Math.abs(x)<.001&&(x=1),this.x=(v-g)/x,this.y=(d-A)/x,this.z=(p-u)/x,this.w=Math.acos((c+m+C-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Yt extends co{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Nt(0,0,e,t),this.scissorTest=!1,this.viewport=new Nt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new En(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:tn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ul(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Oh extends En{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=At,this.minFilter=At,this.wrapR=Mn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ek extends Yt{constructor(e,t,r){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Oh(null,e,t,r),this.texture.isRenderTargetTexture=!0}}let am=class extends En{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=At,this.minFilter=At,this.wrapR=Mn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class Sk extends Yt{constructor(e,t,r){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new am(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class _k extends Yt{constructor(e,t,r,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Jn{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],A=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=A;return}if(d!==A||l!==p||c!==m||u!==g){let v=1-a;const C=l*p+c*m+u*g+d*A,x=C>=0?1:-1,E=1-C*C;if(E>Number.EPSILON){const I=Math.sqrt(E),M=Math.atan2(I,C*x);v=Math.sin(v*M)/I,a=Math.sin(a*M)/I}const _=a*x;if(l=l*v+p*_,c=c*v+m*_,u=u*v+g*_,d=d*v+A*_,v===1-a){const I=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=I,c*=I,u*=I,d*=I}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*d+l*m-c*p,e[t+1]=l*g+u*p+c*d-a*m,e[t+2]=c*g+u*m+a*p-l*d,e[t+3]=u*g-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*g,this._y=c*m*d-p*u*g,this._z=c*u*g+p*m*d,this._w=c*u*d-p*m*g;break;case"YXZ":this._x=p*u*d+c*m*g,this._y=c*m*d-p*u*g,this._z=c*u*g-p*m*d,this._w=c*u*d+p*m*g;break;case"ZXY":this._x=p*u*d-c*m*g,this._y=c*m*d+p*u*g,this._z=c*u*g+p*m*d,this._w=c*u*d-p*m*g;break;case"ZYX":this._x=p*u*d-c*m*g,this._y=c*m*d+p*u*g,this._z=c*u*g-p*m*d,this._w=c*u*d+p*m*g;break;case"YZX":this._x=p*u*d+c*m*g,this._y=c*m*d+p*u*g,this._z=c*u*g-p*m*d,this._w=c*u*d-p*m*g;break;case"XZY":this._x=p*u*d-c*m*g,this._y=c*m*d-p*u*g,this._z=c*u*g+p*m*d,this._w=c*u*d+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class L{constructor(e=0,t=0,r=0){this.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e4.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(e4.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,d=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-d*-o,this.y=u*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return xA.copy(this).projectOnVector(e),this.sub(xA)}reflect(e){return this.sub(xA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Fn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xA=new L,e4=new Jn;class Aa{constructor(e=new L(1/0,1/0,1/0),t=new L(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],p=e[l+2];u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),p=e.getZ(l);u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ka.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ka.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ka)}else r.boundingBox===null&&r.computeBoundingBox(),CA.copy(r.boundingBox),CA.applyMatrix4(e.matrixWorld),this.union(CA);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ka),ka.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(sf),dp.subVectors(this.max,sf),tc.subVectors(e.a,sf),nc.subVectors(e.b,sf),rc.subVectors(e.c,sf),Io.subVectors(nc,tc),wo.subVectors(rc,nc),Na.subVectors(tc,rc);let t=[0,-Io.z,Io.y,0,-wo.z,wo.y,0,-Na.z,Na.y,Io.z,0,-Io.x,wo.z,0,-wo.x,Na.z,0,-Na.x,-Io.y,Io.x,0,-wo.y,wo.x,0,-Na.y,Na.x,0];return!EA(t,tc,nc,rc,dp)||(t=[1,0,0,0,1,0,0,0,1],!EA(t,tc,nc,rc,dp))?!1:(pp.crossVectors(Io,wo),t=[pp.x,pp.y,pp.z],EA(t,tc,nc,rc,dp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ka.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ka).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Js[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Js[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Js[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Js[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Js[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Js[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Js[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Js[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Js),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Js=[new L,new L,new L,new L,new L,new L,new L,new L],ka=new L,CA=new Aa,tc=new L,nc=new L,rc=new L,Io=new L,wo=new L,Na=new L,sf=new L,dp=new L,pp=new L,Oa=new L;function EA(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Oa.fromArray(n,s);const a=i.x*Math.abs(Oa.x)+i.y*Math.abs(Oa.y)+i.z*Math.abs(Oa.z),l=e.dot(Oa),c=t.dot(Oa),u=r.dot(Oa);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const bk=new Aa,t4=new L,mp=new L,SA=new L;class va{constructor(e=new L,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):bk.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){SA.subVectors(e,this.center);const t=SA.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(SA.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?mp.set(0,0,1).multiplyScalar(e.radius):mp.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(t4.copy(e.center).add(mp)),this.expandByPoint(t4.copy(e.center).sub(mp)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const js=new L,_A=new L,gp=new L,Mo=new L,bA=new L,Ap=new L,IA=new L;class Uh{constructor(e=new L,t=new L(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,js)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=js.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(js.copy(this.direction).multiplyScalar(t).add(this.origin),js.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){_A.copy(e).add(t).multiplyScalar(.5),gp.copy(t).sub(e).normalize(),Mo.copy(this.origin).sub(_A);const s=e.distanceTo(t)*.5,o=-this.direction.dot(gp),a=Mo.dot(this.direction),l=-Mo.dot(gp),c=Mo.lengthSq(),u=Math.abs(1-o*o);let d,p,m,g;if(u>0)if(d=o*l-a,p=o*a-l,g=s*u,d>=0)if(p>=-g)if(p<=g){const A=1/u;d*=A,p*=A,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-g?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=g?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(gp).multiplyScalar(p).add(_A),m}intersectSphere(e,t){js.subVectors(e.center,this.origin);const r=js.dot(this.direction),i=js.dot(js)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,js)!==null}intersectTriangle(e,t,r,i,s){bA.subVectors(t,e),Ap.subVectors(r,e),IA.crossVectors(bA,Ap);let o=this.direction.dot(IA),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Mo.subVectors(this.origin,e);const l=a*this.direction.dot(Ap.crossVectors(Mo,Ap));if(l<0)return null;const c=a*this.direction.dot(bA.cross(Mo));if(c<0||l+c>o)return null;const u=-a*Mo.dot(IA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tt{constructor(){this.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,c,u,d,p,m,g,A,v){const C=this.elements;return C[0]=e,C[4]=t,C[8]=r,C[12]=i,C[1]=s,C[5]=o,C[9]=a,C[13]=l,C[2]=c,C[6]=u,C[10]=d,C[14]=p,C[3]=m,C[7]=g,C[11]=A,C[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/ic.setFromMatrixColumn(e,0).length(),s=1/ic.setFromMatrixColumn(e,1).length(),o=1/ic.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,g=a*u,A=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+g*c,t[5]=p-A*c,t[9]=-a*l,t[2]=A-p*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,g=c*u,A=c*d;t[0]=p+A*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=A+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,g=c*u,A=c*d;t[0]=p-A*a,t[4]=-o*d,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=A-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,g=a*u,A=a*d;t[0]=l*u,t[4]=g*c-m,t[8]=p*c+A,t[1]=l*d,t[5]=A*c+p,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,g=a*l,A=a*c;t[0]=l*u,t[4]=A-p*d,t[8]=g*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+g,t[10]=p-A*d}else if(e.order==="XZY"){const p=o*l,m=o*c,g=a*l,A=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+A,t[5]=o*u,t[9]=m*d-g,t[2]=g*d-m,t[6]=a*u,t[10]=A*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ik,e,wk)}lookAt(e,t,r){const i=this.elements;return Jr.subVectors(e,t),Jr.lengthSq()===0&&(Jr.z=1),Jr.normalize(),To.crossVectors(r,Jr),To.lengthSq()===0&&(Math.abs(r.z)===1?Jr.x+=1e-4:Jr.z+=1e-4,Jr.normalize(),To.crossVectors(r,Jr)),To.normalize(),vp.crossVectors(Jr,To),i[0]=To.x,i[4]=vp.x,i[8]=Jr.x,i[1]=To.y,i[5]=vp.y,i[9]=Jr.y,i[2]=To.z,i[6]=vp.z,i[10]=Jr.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],p=r[9],m=r[13],g=r[2],A=r[6],v=r[10],C=r[14],x=r[3],E=r[7],_=r[11],I=r[15],M=i[0],T=i[4],w=i[8],R=i[12],D=i[1],P=i[5],z=i[9],q=i[13],k=i[2],Q=i[6],V=i[10],Y=i[14],G=i[3],j=i[7],K=i[11],ee=i[15];return s[0]=o*M+a*D+l*k+c*G,s[4]=o*T+a*P+l*Q+c*j,s[8]=o*w+a*z+l*V+c*K,s[12]=o*R+a*q+l*Y+c*ee,s[1]=u*M+d*D+p*k+m*G,s[5]=u*T+d*P+p*Q+m*j,s[9]=u*w+d*z+p*V+m*K,s[13]=u*R+d*q+p*Y+m*ee,s[2]=g*M+A*D+v*k+C*G,s[6]=g*T+A*P+v*Q+C*j,s[10]=g*w+A*z+v*V+C*K,s[14]=g*R+A*q+v*Y+C*ee,s[3]=x*M+E*D+_*k+I*G,s[7]=x*T+E*P+_*Q+I*j,s[11]=x*w+E*z+_*V+I*K,s[15]=x*R+E*q+_*Y+I*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],g=e[3],A=e[7],v=e[11],C=e[15];return g*(+s*l*d-i*c*d-s*a*p+r*c*p+i*a*m-r*l*m)+A*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+v*(+t*c*d-t*a*m-s*o*d+r*o*m+s*a*u-r*c*u)+C*(-i*a*u-t*l*d+t*a*p+i*o*d-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],g=e[12],A=e[13],v=e[14],C=e[15],x=d*v*c-A*p*c+A*l*m-a*v*m-d*l*C+a*p*C,E=g*p*c-u*v*c-g*l*m+o*v*m+u*l*C-o*p*C,_=u*A*c-g*d*c+g*a*m-o*A*m-u*a*C+o*d*C,I=g*d*l-u*A*l-g*a*p+o*A*p+u*a*v-o*d*v,M=t*x+r*E+i*_+s*I;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=x*T,e[1]=(A*p*s-d*v*s-A*i*m+r*v*m+d*i*C-r*p*C)*T,e[2]=(a*v*s-A*l*s+A*i*c-r*v*c-a*i*C+r*l*C)*T,e[3]=(d*l*s-a*p*s-d*i*c+r*p*c+a*i*m-r*l*m)*T,e[4]=E*T,e[5]=(u*v*s-g*p*s+g*i*m-t*v*m-u*i*C+t*p*C)*T,e[6]=(g*l*s-o*v*s-g*i*c+t*v*c+o*i*C-t*l*C)*T,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*T,e[8]=_*T,e[9]=(g*d*s-u*A*s-g*r*m+t*A*m+u*r*C-t*d*C)*T,e[10]=(o*A*s-g*a*s+g*r*c-t*A*c-o*r*C+t*a*C)*T,e[11]=(u*a*s-o*d*s-u*r*c+t*d*c+o*r*m-t*a*m)*T,e[12]=I*T,e[13]=(u*A*i-g*d*i+g*r*p-t*A*p-u*r*v+t*d*v)*T,e[14]=(g*a*i-o*A*i-g*r*l+t*A*l+o*r*v-t*a*v)*T,e[15]=(o*d*i-u*a*i+u*r*l-t*d*l-o*r*p+t*a*p)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,g=s*d,A=o*u,v=o*d,C=a*d,x=l*c,E=l*u,_=l*d,I=r.x,M=r.y,T=r.z;return i[0]=(1-(A+C))*I,i[1]=(m+_)*I,i[2]=(g-E)*I,i[3]=0,i[4]=(m-_)*M,i[5]=(1-(p+C))*M,i[6]=(v+x)*M,i[7]=0,i[8]=(g+E)*T,i[9]=(v-x)*T,i[10]=(1-(p+A))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=ic.set(i[0],i[1],i[2]).length();const o=ic.set(i[4],i[5],i[6]).length(),a=ic.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Oi.copy(this);const c=1/s,u=1/o,d=1/a;return Oi.elements[0]*=c,Oi.elements[1]*=c,Oi.elements[2]*=c,Oi.elements[4]*=u,Oi.elements[5]*=u,Oi.elements[6]*=u,Oi.elements[8]*=d,Oi.elements[9]*=d,Oi.elements[10]*=d,t.setFromRotationMatrix(Oi),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),d=(t+e)*l,p=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const ic=new L,Oi=new tt,Ik=new L(0,0,0),wk=new L(1,1,1),To=new L,vp=new L,Jr=new L,n4=new tt,r4=new Jn;class Su{constructor(e=0,t=0,r=0,i=Su.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Fn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Fn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Fn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Fn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Fn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return n4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(n4,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return r4.setFromEuler(this),this.setFromQuaternion(r4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Su.DefaultOrder="XYZ";Su.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class gl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Mk=0;const i4=new L,sc=new Jn,Ks=new tt,yp=new L,of=new L,Tk=new L,Bk=new Jn,s4=new L(1,0,0),o4=new L(0,1,0),a4=new L(0,0,1),Rk={type:"added"},l4={type:"removed"};class Vt extends co{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Mk++}),this.uuid=Zr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vt.DefaultUp.clone();const e=new L,t=new Su,r=new Jn,i=new L(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new tt},normalMatrix:{value:new Si}}),this.matrix=new tt,this.matrixWorld=new tt,this.matrixAutoUpdate=Vt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new gl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return sc.setFromAxisAngle(e,t),this.quaternion.multiply(sc),this}rotateOnWorldAxis(e,t){return sc.setFromAxisAngle(e,t),this.quaternion.premultiply(sc),this}rotateX(e){return this.rotateOnAxis(s4,e)}rotateY(e){return this.rotateOnAxis(o4,e)}rotateZ(e){return this.rotateOnAxis(a4,e)}translateOnAxis(e,t){return i4.copy(e).applyQuaternion(this.quaternion),this.position.add(i4.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(s4,e)}translateY(e){return this.translateOnAxis(o4,e)}translateZ(e){return this.translateOnAxis(a4,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ks.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?yp.copy(e):yp.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),of.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ks.lookAt(of,yp,this.up):Ks.lookAt(yp,of,this.up),this.quaternion.setFromRotationMatrix(Ks),i&&(Ks.extractRotation(i.matrixWorld),sc.setFromRotationMatrix(Ks),this.quaternion.premultiply(sc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Rk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(l4)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(l4)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ks.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ks.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ks),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(of,e,Tk),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(of,Bk,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Vt.DefaultUp=new L(0,1,0);Vt.DefaultMatrixAutoUpdate=!0;const Ui=new L,qs=new L,wA=new L,Ys=new L,oc=new L,ac=new L,c4=new L,MA=new L,TA=new L,BA=new L;class Ei{constructor(e=new L,t=new L,r=new L){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ui.subVectors(e,t),i.cross(Ui);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Ui.subVectors(i,t),qs.subVectors(r,t),wA.subVectors(e,t);const o=Ui.dot(Ui),a=Ui.dot(qs),l=Ui.dot(wA),c=qs.dot(qs),u=qs.dot(wA),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*u)*p,g=(o*u-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ys),Ys.x>=0&&Ys.y>=0&&Ys.x+Ys.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ys),l.set(0,0),l.addScaledVector(s,Ys.x),l.addScaledVector(o,Ys.y),l.addScaledVector(a,Ys.z),l}static isFrontFacing(e,t,r,i){return Ui.subVectors(r,t),qs.subVectors(e,t),Ui.cross(qs).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ui.subVectors(this.c,this.b),qs.subVectors(this.a,this.b),Ui.cross(qs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ei.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ei.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Ei.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ei.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ei.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;oc.subVectors(i,r),ac.subVectors(s,r),MA.subVectors(e,r);const l=oc.dot(MA),c=ac.dot(MA);if(l<=0&&c<=0)return t.copy(r);TA.subVectors(e,i);const u=oc.dot(TA),d=ac.dot(TA);if(u>=0&&d<=u)return t.copy(i);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(oc,o);BA.subVectors(e,s);const m=oc.dot(BA),g=ac.dot(BA);if(g>=0&&m<=g)return t.copy(s);const A=m*c-l*g;if(A<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(ac,a);const v=u*g-m*d;if(v<=0&&d-u>=0&&m-g>=0)return c4.subVectors(s,i),a=(d-u)/(d-u+(m-g)),t.copy(i).addScaledVector(c4,a);const C=1/(v+A+p);return o=A*C,a=p*C,t.copy(r).addScaledVector(oc,o).addScaledVector(ac,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Pk=0;class xn extends co{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Pk++}),this.uuid=Zr(),this.name="",this.type="Material",this.blending=Cs,this.side=Zo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=nh,this.blendDst=rh,this.blendEquation=Yr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=z0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=E0,this.stencilZFail=E0,this.stencilZPass=E0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===IE;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Cs&&(r.blending=this.blending),this.side!==Zo&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}get vertexTangents(){return console.warn("THREE."+this.type+": .vertexTangents has been removed."),!1}set vertexTangents(e){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}xn.fromType=function(){return null};class cr extends xn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Nh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Un=new L,xp=new he;class zt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=W0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Re),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new he),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new L),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Nt),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)xp.fromBufferAttribute(this,t),xp.applyMatrix3(e),this.setXY(t,xp.x,xp.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.applyMatrix3(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.applyMatrix4(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.applyNormalMatrix(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.transformDirection(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==W0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Dk extends zt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Lk extends zt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Fk extends zt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class kk extends zt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class ev extends zt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Nk extends zt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class lm extends zt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Ok extends zt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class Ze extends zt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Uk extends zt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let Gk=0;const Ai=new tt,RA=new Vt,lc=new L,jr=new Aa,af=new Aa,Zn=new L;class mt extends co{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Gk++}),this.uuid=Zr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dS(e)?lm:ev)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Si().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ai.makeRotationFromQuaternion(e),this.applyMatrix4(Ai),this}rotateX(e){return Ai.makeRotationX(e),this.applyMatrix4(Ai),this}rotateY(e){return Ai.makeRotationY(e),this.applyMatrix4(Ai),this}rotateZ(e){return Ai.makeRotationZ(e),this.applyMatrix4(Ai),this}translate(e,t,r){return Ai.makeTranslation(e,t,r),this.applyMatrix4(Ai),this}scale(e,t,r){return Ai.makeScale(e,t,r),this.applyMatrix4(Ai),this}lookAt(e){return RA.lookAt(e),RA.updateMatrix(),this.applyMatrix4(RA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lc).negate(),this.translate(lc.x,lc.y,lc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ze(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Aa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new L(-1/0,-1/0,-1/0),new L(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];jr.setFromBufferAttribute(s),this.morphTargetsRelative?(Zn.addVectors(this.boundingBox.min,jr.min),this.boundingBox.expandByPoint(Zn),Zn.addVectors(this.boundingBox.max,jr.max),this.boundingBox.expandByPoint(Zn)):(this.boundingBox.expandByPoint(jr.min),this.boundingBox.expandByPoint(jr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new va);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new L,1/0);return}if(e){const r=this.boundingSphere.center;if(jr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];af.setFromBufferAttribute(a),this.morphTargetsRelative?(Zn.addVectors(jr.min,af.min),jr.expandByPoint(Zn),Zn.addVectors(jr.max,af.max),jr.expandByPoint(Zn)):(jr.expandByPoint(af.min),jr.expandByPoint(af.max))}jr.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Zn.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Zn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Zn.fromBufferAttribute(a,c),l&&(lc.fromBufferAttribute(e,c),Zn.add(lc)),i=Math.max(i,r.distanceToSquared(Zn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new L,u[D]=new L;const d=new L,p=new L,m=new L,g=new he,A=new he,v=new he,C=new L,x=new L;function E(D,P,z){d.fromArray(i,D*3),p.fromArray(i,P*3),m.fromArray(i,z*3),g.fromArray(o,D*2),A.fromArray(o,P*2),v.fromArray(o,z*2),p.sub(d),m.sub(d),A.sub(g),v.sub(g);const q=1/(A.x*v.y-v.x*A.y);isFinite(q)&&(C.copy(p).multiplyScalar(v.y).addScaledVector(m,-A.y).multiplyScalar(q),x.copy(m).multiplyScalar(A.x).addScaledVector(p,-v.x).multiplyScalar(q),c[D].add(C),c[P].add(C),c[z].add(C),u[D].add(x),u[P].add(x),u[z].add(x))}let _=this.groups;_.length===0&&(_=[{start:0,count:r.length}]);for(let D=0,P=_.length;D<P;++D){const z=_[D],q=z.start,k=z.count;for(let Q=q,V=q+k;Q<V;Q+=3)E(r[Q+0],r[Q+1],r[Q+2])}const I=new L,M=new L,T=new L,w=new L;function R(D){T.fromArray(s,D*3),w.copy(T);const P=c[D];I.copy(P),I.sub(T.multiplyScalar(T.dot(P))).normalize(),M.crossVectors(w,P);const q=M.dot(u[D])<0?-1:1;l[D*4]=I.x,l[D*4+1]=I.y,l[D*4+2]=I.z,l[D*4+3]=q}for(let D=0,P=_.length;D<P;++D){const z=_[D],q=z.start,k=z.count;for(let Q=q,V=q+k;Q<V;Q+=3)R(r[Q+0]),R(r[Q+1]),R(r[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new zt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new L,s=new L,o=new L,a=new L,l=new L,c=new L,u=new L,d=new L;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),A=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,A),o.fromBufferAttribute(t,v),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,A),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(A,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let d=0,p=c;d<u;d++,p++)o[p]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Zn.fromBufferAttribute(e,t),Zn.normalize(),e.setXYZ(t,Zn.x,Zn.y,Zn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,g=0;for(let A=0,v=l.length;A<v;A++){a.isInterleavedBufferAttribute?m=l[A]*a.data.stride+a.offset:m=l[A]*u;for(let C=0;C<u;C++)p[g++]=c[m++]}return new zt(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const u4=new tt,cc=new Uh,PA=new va,Bo=new L,Ro=new L,Po=new L,DA=new L,LA=new L,FA=new L,Cp=new L,Ep=new L,Sp=new L,_p=new he,bp=new he,Ip=new he,kA=new L,wp=new L;class Kt extends Vt{constructor(e=new mt,t=new cr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),PA.copy(r.boundingSphere),PA.applyMatrix4(s),e.ray.intersectsSphere(PA)===!1)||(u4.copy(s).invert(),cc.copy(e.ray).applyMatrix4(u4),r.boundingBox!==null&&cc.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,p=r.attributes.uv2,m=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let A=0,v=m.length;A<v;A++){const C=m[A],x=i[C.materialIndex],E=Math.max(C.start,g.start),_=Math.min(a.count,Math.min(C.start+C.count,g.start+g.count));for(let I=E,M=_;I<M;I+=3){const T=a.getX(I),w=a.getX(I+1),R=a.getX(I+2);o=Mp(this,x,e,cc,l,c,u,d,p,T,w,R),o&&(o.faceIndex=Math.floor(I/3),o.face.materialIndex=C.materialIndex,t.push(o))}}else{const A=Math.max(0,g.start),v=Math.min(a.count,g.start+g.count);for(let C=A,x=v;C<x;C+=3){const E=a.getX(C),_=a.getX(C+1),I=a.getX(C+2);o=Mp(this,i,e,cc,l,c,u,d,p,E,_,I),o&&(o.faceIndex=Math.floor(C/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let A=0,v=m.length;A<v;A++){const C=m[A],x=i[C.materialIndex],E=Math.max(C.start,g.start),_=Math.min(l.count,Math.min(C.start+C.count,g.start+g.count));for(let I=E,M=_;I<M;I+=3){const T=I,w=I+1,R=I+2;o=Mp(this,x,e,cc,l,c,u,d,p,T,w,R),o&&(o.faceIndex=Math.floor(I/3),o.face.materialIndex=C.materialIndex,t.push(o))}}else{const A=Math.max(0,g.start),v=Math.min(l.count,g.start+g.count);for(let C=A,x=v;C<x;C+=3){const E=C,_=C+1,I=C+2;o=Mp(this,i,e,cc,l,c,u,d,p,E,_,I),o&&(o.faceIndex=Math.floor(C/3),t.push(o))}}}}function Qk(n,e,t,r,i,s,o,a){let l;if(e.side===Nr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==ro,a),l===null)return null;wp.copy(a),wp.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(wp);return c<t.near||c>t.far?null:{distance:c,point:wp.clone(),object:n}}function Mp(n,e,t,r,i,s,o,a,l,c,u,d){Bo.fromBufferAttribute(i,c),Ro.fromBufferAttribute(i,u),Po.fromBufferAttribute(i,d);const p=n.morphTargetInfluences;if(s&&p){Cp.set(0,0,0),Ep.set(0,0,0),Sp.set(0,0,0);for(let g=0,A=s.length;g<A;g++){const v=p[g],C=s[g];v!==0&&(DA.fromBufferAttribute(C,c),LA.fromBufferAttribute(C,u),FA.fromBufferAttribute(C,d),o?(Cp.addScaledVector(DA,v),Ep.addScaledVector(LA,v),Sp.addScaledVector(FA,v)):(Cp.addScaledVector(DA.sub(Bo),v),Ep.addScaledVector(LA.sub(Ro),v),Sp.addScaledVector(FA.sub(Po),v)))}Bo.add(Cp),Ro.add(Ep),Po.add(Sp)}n.isSkinnedMesh&&(n.boneTransform(c,Bo),n.boneTransform(u,Ro),n.boneTransform(d,Po));const m=Qk(n,e,t,r,Bo,Ro,Po,kA);if(m){a&&(_p.fromBufferAttribute(a,c),bp.fromBufferAttribute(a,u),Ip.fromBufferAttribute(a,d),m.uv=Ei.getUV(kA,Bo,Ro,Po,_p,bp,Ip,new he)),l&&(_p.fromBufferAttribute(l,c),bp.fromBufferAttribute(l,u),Ip.fromBufferAttribute(l,d),m.uv2=Ei.getUV(kA,Bo,Ro,Po,_p,bp,Ip,new he));const g={a:c,b:u,c:d,normal:new L,materialIndex:0};Ei.getNormal(Bo,Ro,Po,g.normal),m.face=g}return m}class Ms extends mt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ze(c,3)),this.setAttribute("normal",new Ze(u,3)),this.setAttribute("uv",new Ze(d,2));function g(A,v,C,x,E,_,I,M,T,w,R){const D=_/T,P=I/w,z=_/2,q=I/2,k=M/2,Q=T+1,V=w+1;let Y=0,G=0;const j=new L;for(let K=0;K<V;K++){const ee=K*P-q;for(let X=0;X<Q;X++){const ae=X*D-z;j[A]=ae*x,j[v]=ee*E,j[C]=k,c.push(j.x,j.y,j.z),j[A]=0,j[v]=0,j[C]=M>0?1:-1,u.push(j.x,j.y,j.z),d.push(X/T),d.push(1-K/w),Y+=1}}for(let K=0;K<w;K++)for(let ee=0;ee<T;ee++){const X=p+ee+Q*K,ae=p+ee+Q*(K+1),Ae=p+(ee+1)+Q*(K+1),_e=p+(ee+1)+Q*K;l.push(X,ae,_e),l.push(ae,Ae,_e),G+=6}a.addGroup(m,G,R),m+=G,p+=Y}}static fromJSON(e){return new Ms(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kc(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ar(n){const e={};for(let t=0;t<n.length;t++){const r=Kc(n[t]);for(const i in r)e[i]=r[i]}return e}const An={clone:Kc,merge:Ar};var Hk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,zk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ot extends xn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Hk,this.fragmentShader=zk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kc(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Gh extends Vt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tt,this.projectionMatrix=new tt,this.projectionMatrixInverse=new tt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class $t extends Gh{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=mh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return mh*2*Math.atan(Math.tan(pl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(pl*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const uc=90,fc=1;class tv extends Vt{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new $t(uc,fc,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new L(1,0,0)),this.add(i);const s=new $t(uc,fc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new L(-1,0,0)),this.add(s);const o=new $t(uc,fc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new L(0,1,0)),this.add(o);const a=new $t(uc,fc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new L(0,-1,0)),this.add(a);const l=new $t(uc,fc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new L(0,0,1)),this.add(l);const c=new $t(uc,fc,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new L(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=$r,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Qh extends En{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:ea,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class nv extends Yt{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Qh(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:tn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ms(5,5,5),s=new Ot({name:"CubemapFromEquirect",uniforms:Kc(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Nr,blending:Bt});s.uniforms.tEquirect.value=t;const o=new Kt(i,s),a=t.minFilter;return t.minFilter===Yi&&(t.minFilter=tn),new tv(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const NA=new L,Vk=new L,Wk=new Si;class Ci{constructor(e=new L(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=NA.subVectors(r,t).cross(Vk.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(NA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Wk.getNormalMatrix(e),i=this.coplanarPoint(NA).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const hc=new va,Tp=new L;class cm{constructor(e=new Ci,t=new Ci,r=new Ci,i=new Ci,s=new Ci,o=new Ci){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],p=r[8],m=r[9],g=r[10],A=r[11],v=r[12],C=r[13],x=r[14],E=r[15];return t[0].setComponents(a-i,d-l,A-p,E-v).normalize(),t[1].setComponents(a+i,d+l,A+p,E+v).normalize(),t[2].setComponents(a+s,d+c,A+m,E+C).normalize(),t[3].setComponents(a-s,d-c,A-m,E-C).normalize(),t[4].setComponents(a-o,d-u,A-g,E-x).normalize(),t[5].setComponents(a+o,d+u,A+g,E+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),hc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(hc)}intersectsSprite(e){return hc.center.set(0,0,0),hc.radius=.7071067811865476,hc.applyMatrix4(e.matrixWorld),this.intersectsSphere(hc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Tp.x=i.normal.x>0?e.max.x:e.min.x,Tp.y=i.normal.y>0?e.max.y:e.min.y,Tp.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Tp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function mS(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Jk(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,d,p),c.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const p=u.array,m=u.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class ia extends mt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,p=t/l,m=[],g=[],A=[],v=[];for(let C=0;C<u;C++){const x=C*p-o;for(let E=0;E<c;E++){const _=E*d-s;g.push(_,-x,0),A.push(0,0,1),v.push(E/a),v.push(1-C/l)}}for(let C=0;C<l;C++)for(let x=0;x<a;x++){const E=x+c*C,_=x+c*(C+1),I=x+1+c*(C+1),M=x+1+c*C;m.push(E,_,M),m.push(_,I,M)}this.setIndex(m),this.setAttribute("position",new Ze(g,3)),this.setAttribute("normal",new Ze(A,3)),this.setAttribute("uv",new Ze(v,2))}static fromJSON(e){return new ia(e.width,e.height,e.widthSegments,e.heightSegments)}}var jk=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Kk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qk=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Yk=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Xk=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,$k=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Zk="vec3 transformed = vec3( position );",eN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tN=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,nN=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,rN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,iN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,sN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,oN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,uN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,fN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,hN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,dN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pN=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,AN=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,yN="gl_FragColor = linearToOutputTexel( gl_FragColor );",xN=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,CN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,EN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,SN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_N=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,IN=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wN=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,MN=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,TN=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,BN=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,RN=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,PN=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,DN=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,LN=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,FN=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,kN=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,NN=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,ON=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UN=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,GN=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,QN=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,HN=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,zN=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VN=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,WN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,JN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,KN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,qN=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,YN=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,XN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$N=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZN=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eO=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tO=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,nO=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,rO=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,iO=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,sO=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,oO=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,aO=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lO=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cO=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,uO=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,fO=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,hO=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,dO=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,pO=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mO=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gO=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,AO=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vO=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yO=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xO=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,CO=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,EO=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,SO=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,_O=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bO=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,IO=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,wO=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,MO=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,TO=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,BO=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,RO=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,PO=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,DO=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,LO=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,FO=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,kO=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,NO=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,OO=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,UO=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,GO=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,QO=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,HO=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,zO=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const VO=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,WO=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,JO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jO=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KO=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qO=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,YO=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,XO=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$O=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ZO=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,eU=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tU=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nU=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rU=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iU=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sU=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oU=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,aU=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lU=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cU=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uU=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fU=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hU=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,dU=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pU=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mU=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gU=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,AU=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vU=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yU=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xU=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CU=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Tt={alphamap_fragment:jk,alphamap_pars_fragment:Kk,alphatest_fragment:qk,alphatest_pars_fragment:Yk,aomap_fragment:Xk,aomap_pars_fragment:$k,begin_vertex:Zk,beginnormal_vertex:eN,bsdfs:tN,iridescence_fragment:nN,bumpmap_pars_fragment:rN,clipping_planes_fragment:iN,clipping_planes_pars_fragment:sN,clipping_planes_pars_vertex:oN,clipping_planes_vertex:aN,color_fragment:lN,color_pars_fragment:cN,color_pars_vertex:uN,color_vertex:fN,common:hN,cube_uv_reflection_fragment:dN,defaultnormal_vertex:pN,displacementmap_pars_vertex:mN,displacementmap_vertex:gN,emissivemap_fragment:AN,emissivemap_pars_fragment:vN,encodings_fragment:yN,encodings_pars_fragment:xN,envmap_fragment:CN,envmap_common_pars_fragment:EN,envmap_pars_fragment:SN,envmap_pars_vertex:_N,envmap_physical_pars_fragment:FN,envmap_vertex:bN,fog_vertex:IN,fog_pars_vertex:wN,fog_fragment:MN,fog_pars_fragment:TN,gradientmap_pars_fragment:BN,lightmap_fragment:RN,lightmap_pars_fragment:PN,lights_lambert_vertex:DN,lights_pars_begin:LN,lights_toon_fragment:kN,lights_toon_pars_fragment:NN,lights_phong_fragment:ON,lights_phong_pars_fragment:UN,lights_physical_fragment:GN,lights_physical_pars_fragment:QN,lights_fragment_begin:HN,lights_fragment_maps:zN,lights_fragment_end:VN,logdepthbuf_fragment:WN,logdepthbuf_pars_fragment:JN,logdepthbuf_pars_vertex:jN,logdepthbuf_vertex:KN,map_fragment:qN,map_pars_fragment:YN,map_particle_fragment:XN,map_particle_pars_fragment:$N,metalnessmap_fragment:ZN,metalnessmap_pars_fragment:eO,morphcolor_vertex:tO,morphnormal_vertex:nO,morphtarget_pars_vertex:rO,morphtarget_vertex:iO,normal_fragment_begin:sO,normal_fragment_maps:oO,normal_pars_fragment:aO,normal_pars_vertex:lO,normal_vertex:cO,normalmap_pars_fragment:uO,clearcoat_normal_fragment_begin:fO,clearcoat_normal_fragment_maps:hO,clearcoat_pars_fragment:dO,iridescence_pars_fragment:pO,output_fragment:mO,packing:gO,premultiplied_alpha_fragment:AO,project_vertex:vO,dithering_fragment:yO,dithering_pars_fragment:xO,roughnessmap_fragment:CO,roughnessmap_pars_fragment:EO,shadowmap_pars_fragment:SO,shadowmap_pars_vertex:_O,shadowmap_vertex:bO,shadowmask_pars_fragment:IO,skinbase_vertex:wO,skinning_pars_vertex:MO,skinning_vertex:TO,skinnormal_vertex:BO,specularmap_fragment:RO,specularmap_pars_fragment:PO,tonemapping_fragment:DO,tonemapping_pars_fragment:LO,transmission_fragment:FO,transmission_pars_fragment:kO,uv_pars_fragment:NO,uv_pars_vertex:OO,uv_vertex:UO,uv2_pars_fragment:GO,uv2_pars_vertex:QO,uv2_vertex:HO,worldpos_vertex:zO,background_vert:VO,background_frag:WO,cube_vert:JO,cube_frag:jO,depth_vert:KO,depth_frag:qO,distanceRGBA_vert:YO,distanceRGBA_frag:XO,equirect_vert:$O,equirect_frag:ZO,linedashed_vert:eU,linedashed_frag:tU,meshbasic_vert:nU,meshbasic_frag:rU,meshlambert_vert:iU,meshlambert_frag:sU,meshmatcap_vert:oU,meshmatcap_frag:aU,meshnormal_vert:lU,meshnormal_frag:cU,meshphong_vert:uU,meshphong_frag:fU,meshphysical_vert:hU,meshphysical_frag:dU,meshtoon_vert:pU,meshtoon_frag:mU,points_vert:gU,points_frag:AU,shadow_vert:vU,shadow_frag:yU,sprite_vert:xU,sprite_frag:CU},Ge={common:{diffuse:{value:new Re(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Si},uv2Transform:{value:new Si},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new he(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Re(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Re(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Si}},sprite:{diffuse:{value:new Re(16777215)},opacity:{value:1},center:{value:new he(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Si}}},Hi={basic:{uniforms:Ar([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:Tt.meshbasic_vert,fragmentShader:Tt.meshbasic_frag},lambert:{uniforms:Ar([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)}}]),vertexShader:Tt.meshlambert_vert,fragmentShader:Tt.meshlambert_frag},phong:{uniforms:Ar([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)},specular:{value:new Re(1118481)},shininess:{value:30}}]),vertexShader:Tt.meshphong_vert,fragmentShader:Tt.meshphong_frag},standard:{uniforms:Ar([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag},toon:{uniforms:Ar([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)}}]),vertexShader:Tt.meshtoon_vert,fragmentShader:Tt.meshtoon_frag},matcap:{uniforms:Ar([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:Tt.meshmatcap_vert,fragmentShader:Tt.meshmatcap_frag},points:{uniforms:Ar([Ge.points,Ge.fog]),vertexShader:Tt.points_vert,fragmentShader:Tt.points_frag},dashed:{uniforms:Ar([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tt.linedashed_vert,fragmentShader:Tt.linedashed_frag},depth:{uniforms:Ar([Ge.common,Ge.displacementmap]),vertexShader:Tt.depth_vert,fragmentShader:Tt.depth_frag},normal:{uniforms:Ar([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:Tt.meshnormal_vert,fragmentShader:Tt.meshnormal_frag},sprite:{uniforms:Ar([Ge.sprite,Ge.fog]),vertexShader:Tt.sprite_vert,fragmentShader:Tt.sprite_frag},background:{uniforms:{uvTransform:{value:new Si},t2D:{value:null}},vertexShader:Tt.background_vert,fragmentShader:Tt.background_frag},cube:{uniforms:Ar([Ge.envmap,{opacity:{value:1}}]),vertexShader:Tt.cube_vert,fragmentShader:Tt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tt.equirect_vert,fragmentShader:Tt.equirect_frag},distanceRGBA:{uniforms:Ar([Ge.common,Ge.displacementmap,{referencePosition:{value:new L},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tt.distanceRGBA_vert,fragmentShader:Tt.distanceRGBA_frag},shadow:{uniforms:Ar([Ge.lights,Ge.fog,{color:{value:new Re(0)},opacity:{value:1}}]),vertexShader:Tt.shadow_vert,fragmentShader:Tt.shadow_frag}};Hi.physical={uniforms:Ar([Hi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new he(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Re(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new he},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Re(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Re(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag};function EU(n,e,t,r,i,s){const o=new Re(0);let a=i===!0?0:1,l,c,u=null,d=0,p=null;function m(A,v){let C=!1,x=v.isScene===!0?v.background:null;x&&x.isTexture&&(x=e.get(x));const E=n.xr,_=E.getSession&&E.getSession();_&&_.environmentBlendMode==="additive"&&(x=null),x===null?g(o,a):x&&x.isColor&&(g(x,1),C=!0),(n.autoClear||C)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Cu)?(c===void 0&&(c=new Kt(new Ms(1,1,1),new Ot({name:"BackgroundCubeMaterial",uniforms:Kc(Hi.cube.uniforms),vertexShader:Hi.cube.vertexShader,fragmentShader:Hi.cube.fragmentShader,side:Nr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(I,M,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=x,c.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(u!==x||d!==x.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,u=x,d=x.version,p=n.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null)):x&&x.isTexture&&(l===void 0&&(l=new Kt(new ia(2,2),new Ot({name:"BackgroundMaterial",uniforms:Kc(Hi.background.uniforms),vertexShader:Hi.background.vertexShader,fragmentShader:Hi.background.fragmentShader,side:Zo,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(u!==x||d!==x.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,u=x,d=x.version,p=n.toneMapping),l.layers.enableAll(),A.unshift(l,l.geometry,l.material,0,0,null))}function g(A,v){t.buffers.color.setClear(A.r,A.g,A.b,v,s)}return{getClearColor:function(){return o},setClearColor:function(A,v=1){o.set(A),a=v,g(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(A){a=A,g(o,a)},render:m}}function SU(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function d(k,Q,V,Y,G){let j=!1;if(o){const K=A(Y,V,Q);c!==K&&(c=K,m(c.object)),j=C(k,Y,V,G),j&&x(k,Y,V,G)}else{const K=Q.wireframe===!0;(c.geometry!==Y.id||c.program!==V.id||c.wireframe!==K)&&(c.geometry=Y.id,c.program=V.id,c.wireframe=K,j=!0)}G!==null&&t.update(G,34963),(j||u)&&(u=!1,w(k,Q,V,Y),G!==null&&n.bindBuffer(34963,t.get(G).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(k){return r.isWebGL2?n.bindVertexArray(k):s.bindVertexArrayOES(k)}function g(k){return r.isWebGL2?n.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function A(k,Q,V){const Y=V.wireframe===!0;let G=a[k.id];G===void 0&&(G={},a[k.id]=G);let j=G[Q.id];j===void 0&&(j={},G[Q.id]=j);let K=j[Y];return K===void 0&&(K=v(p()),j[Y]=K),K}function v(k){const Q=[],V=[],Y=[];for(let G=0;G<i;G++)Q[G]=0,V[G]=0,Y[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:V,attributeDivisors:Y,object:k,attributes:{},index:null}}function C(k,Q,V,Y){const G=c.attributes,j=Q.attributes;let K=0;const ee=V.getAttributes();for(const X in ee)if(ee[X].location>=0){const Ae=G[X];let _e=j[X];if(_e===void 0&&(X==="instanceMatrix"&&k.instanceMatrix&&(_e=k.instanceMatrix),X==="instanceColor"&&k.instanceColor&&(_e=k.instanceColor)),Ae===void 0||Ae.attribute!==_e||_e&&Ae.data!==_e.data)return!0;K++}return c.attributesNum!==K||c.index!==Y}function x(k,Q,V,Y){const G={},j=Q.attributes;let K=0;const ee=V.getAttributes();for(const X in ee)if(ee[X].location>=0){let Ae=j[X];Ae===void 0&&(X==="instanceMatrix"&&k.instanceMatrix&&(Ae=k.instanceMatrix),X==="instanceColor"&&k.instanceColor&&(Ae=k.instanceColor));const _e={};_e.attribute=Ae,Ae&&Ae.data&&(_e.data=Ae.data),G[X]=_e,K++}c.attributes=G,c.attributesNum=K,c.index=Y}function E(){const k=c.newAttributes;for(let Q=0,V=k.length;Q<V;Q++)k[Q]=0}function _(k){I(k,0)}function I(k,Q){const V=c.newAttributes,Y=c.enabledAttributes,G=c.attributeDivisors;V[k]=1,Y[k]===0&&(n.enableVertexAttribArray(k),Y[k]=1),G[k]!==Q&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,Q),G[k]=Q)}function M(){const k=c.newAttributes,Q=c.enabledAttributes;for(let V=0,Y=Q.length;V<Y;V++)Q[V]!==k[V]&&(n.disableVertexAttribArray(V),Q[V]=0)}function T(k,Q,V,Y,G,j){r.isWebGL2===!0&&(V===5124||V===5125)?n.vertexAttribIPointer(k,Q,V,G,j):n.vertexAttribPointer(k,Q,V,Y,G,j)}function w(k,Q,V,Y){if(r.isWebGL2===!1&&(k.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const G=Y.attributes,j=V.getAttributes(),K=Q.defaultAttributeValues;for(const ee in j){const X=j[ee];if(X.location>=0){let ae=G[ee];if(ae===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(ae=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(ae=k.instanceColor)),ae!==void 0){const Ae=ae.normalized,_e=ae.itemSize,re=t.get(ae);if(re===void 0)continue;const Ne=re.buffer,Pe=re.type,Le=re.bytesPerElement;if(ae.isInterleavedBufferAttribute){const ve=ae.data,xe=ve.stride,oe=ae.offset;if(ve.isInstancedInterleavedBuffer){for(let ne=0;ne<X.locationSize;ne++)I(X.location+ne,ve.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let ne=0;ne<X.locationSize;ne++)_(X.location+ne);n.bindBuffer(34962,Ne);for(let ne=0;ne<X.locationSize;ne++)T(X.location+ne,_e/X.locationSize,Pe,Ae,xe*Le,(oe+_e/X.locationSize*ne)*Le)}else{if(ae.isInstancedBufferAttribute){for(let ve=0;ve<X.locationSize;ve++)I(X.location+ve,ae.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let ve=0;ve<X.locationSize;ve++)_(X.location+ve);n.bindBuffer(34962,Ne);for(let ve=0;ve<X.locationSize;ve++)T(X.location+ve,_e/X.locationSize,Pe,Ae,_e*Le,_e/X.locationSize*ve*Le)}}else if(K!==void 0){const Ae=K[ee];if(Ae!==void 0)switch(Ae.length){case 2:n.vertexAttrib2fv(X.location,Ae);break;case 3:n.vertexAttrib3fv(X.location,Ae);break;case 4:n.vertexAttrib4fv(X.location,Ae);break;default:n.vertexAttrib1fv(X.location,Ae)}}}}M()}function R(){z();for(const k in a){const Q=a[k];for(const V in Q){const Y=Q[V];for(const G in Y)g(Y[G].object),delete Y[G];delete Q[V]}delete a[k]}}function D(k){if(a[k.id]===void 0)return;const Q=a[k.id];for(const V in Q){const Y=Q[V];for(const G in Y)g(Y[G].object),delete Y[G];delete Q[V]}delete a[k.id]}function P(k){for(const Q in a){const V=a[Q];if(V[k.id]===void 0)continue;const Y=V[k.id];for(const G in Y)g(Y[G].object),delete Y[G];delete V[k.id]}}function z(){q(),u=!0,c!==l&&(c=l,m(c.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:z,resetDefaultState:q,dispose:R,releaseStatesOfGeometry:D,releaseStatesOfProgram:P,initAttributes:E,enableAttribute:_,disableUnusedAttributes:M}}function _U(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function bU(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),A=n.getParameter(34921),v=n.getParameter(36347),C=n.getParameter(36348),x=n.getParameter(36349),E=p>0,_=o||e.has("OES_texture_float"),I=E&&_,M=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:A,maxVertexUniforms:v,maxVaryings:C,maxFragmentUniforms:x,vertexTextures:E,floatFragmentTextures:_,floatVertexTextures:I,maxSamples:M}}function IU(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ci,a=new Si,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p,m){const g=d.length!==0||p||r!==0||i;return i=p,t=u(d,m,0),r=d.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,p,m){const g=d.clippingPlanes,A=d.clipIntersection,v=d.clipShadows,C=n.get(d);if(!i||g===null||g.length===0||s&&!v)s?u(null):c();else{const x=s?0:r,E=x*4;let _=C.clippingState||null;l.value=_,_=u(g,p,E,m);for(let I=0;I!==E;++I)_[I]=t[I];C.clippingState=_,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,p,m,g){const A=d!==null?d.length:0;let v=null;if(A!==0){if(v=l.value,g!==!0||v===null){const C=m+A*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(v===null||v.length<C)&&(v=new Float32Array(C));for(let E=0,_=m;E!==A;++E,_+=4)o.copy(d[E]).applyMatrix4(x,a),o.normal.toArray(v,_),v[_+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,v}}function wU(n){let e=new WeakMap;function t(o,a){return a===ih?o.mapping=ea:a===sh&&(o.mapping=ta),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===ih||a===sh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new nv(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class _i extends Gh{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Tc=4,f4=[.125,.215,.35,.446,.526,.582],nl=20,OA=new _i,h4=new Re;let UA=null;const Ya=(1+Math.sqrt(5))/2,dc=1/Ya,d4=[new L(1,1,1),new L(-1,1,1),new L(1,1,-1),new L(-1,1,-1),new L(0,Ya,dc),new L(0,Ya,-dc),new L(dc,0,Ya),new L(-dc,0,Ya),new L(Ya,dc,0),new L(-Ya,dc,0)];class T1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){UA=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=g4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=m4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(UA),e.scissorTest=!1,Bp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ea||e.mapping===ta?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),UA=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:tn,minFilter:tn,generateMipmaps:!1,type:kn,format:Bn,encoding:ra,depthBuffer:!1},i=p4(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=p4(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=MU(s)),this._blurMaterial=TU(s,e,t)}return i}_compileMaterial(e){const t=new Kt(this._lodPlanes[0],e);this._renderer.compile(t,OA)}_sceneToCubeUV(e,t,r,i){const a=new $t(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(h4),u.toneMapping=$r,u.autoClear=!1;const m=new cr({name:"PMREM.Background",side:Nr,depthWrite:!1,depthTest:!1}),g=new Kt(new Ms,m);let A=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,A=!0):(m.color.copy(h4),A=!0);for(let C=0;C<6;C++){const x=C%3;x===0?(a.up.set(0,l[C],0),a.lookAt(c[C],0,0)):x===1?(a.up.set(0,0,l[C]),a.lookAt(0,c[C],0)):(a.up.set(0,l[C],0),a.lookAt(0,0,c[C]));const E=this._cubeSize;Bp(i,x*E,C>2?E:0,E,E),u.setRenderTarget(i),A&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===ea||e.mapping===ta;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=g4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=m4());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Kt(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Bp(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,OA)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=d4[(i-1)%d4.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Kt(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*nl-1),A=s/g,v=isFinite(s)?1+Math.floor(u*A):nl;v>nl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${nl}`);const C=[];let x=0;for(let T=0;T<nl;++T){const w=T/A,R=Math.exp(-w*w/2);C.push(R),T===0?x+=R:T<v&&(x+=2*R)}for(let T=0;T<C.length;T++)C[T]=C[T]/x;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=C,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:E}=this;p.dTheta.value=g,p.mipInt.value=E-r;const _=this._sizeLods[i],I=3*_*(i>E-Tc?i-E+Tc:0),M=4*(this._cubeSize-_);Bp(t,I,M,3*_,2*_),l.setRenderTarget(t),l.render(d,OA)}}function MU(n){const e=[],t=[],r=[];let i=n;const s=n-Tc+1+f4.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Tc?l=f4[o-n+Tc-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,g=6,A=3,v=2,C=1,x=new Float32Array(A*g*m),E=new Float32Array(v*g*m),_=new Float32Array(C*g*m);for(let M=0;M<m;M++){const T=M%3*2/3-1,w=M>2?0:-1,R=[T,w,0,T+2/3,w,0,T+2/3,w+1,0,T,w,0,T+2/3,w+1,0,T,w+1,0];x.set(R,A*g*M),E.set(p,v*g*M);const D=[M,M,M,M,M,M];_.set(D,C*g*M)}const I=new mt;I.setAttribute("position",new zt(x,A)),I.setAttribute("uv",new zt(E,v)),I.setAttribute("faceIndex",new zt(_,C)),e.push(I),i>Tc&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function p4(n,e,t){const r=new Yt(n,e,t);return r.texture.mapping=Cu,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Bp(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function TU(n,e,t){const r=new Float32Array(nl),i=new L(0,1,0);return new Ot({name:"SphericalGaussianBlur",defines:{n:nl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:rv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bt,depthTest:!1,depthWrite:!1})}function m4(){return new Ot({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:rv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bt,depthTest:!1,depthWrite:!1})}function g4(){return new Ot({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:rv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bt,depthTest:!1,depthWrite:!1})}function rv(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function BU(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===ih||l===sh,u=l===ea||l===ta;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new T1(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new T1(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function RU(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function PU(n,e,t,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],34962);const m=d.morphAttributes;for(const g in m){const A=m[g];for(let v=0,C=A.length;v<C;v++)e.update(A[v],34962)}}function c(d){const p=[],m=d.index,g=d.attributes.position;let A=0;if(m!==null){const x=m.array;A=m.version;for(let E=0,_=x.length;E<_;E+=3){const I=x[E+0],M=x[E+1],T=x[E+2];p.push(I,M,M,T,T,I)}}else{const x=g.array;A=g.version;for(let E=0,_=x.length/3-1;E<_;E+=3){const I=E+0,M=E+1,T=E+2;p.push(I,M,M,T,T,I)}}const v=new(dS(p)?lm:ev)(p,1);v.version=A;const C=s.get(d);C&&e.remove(C),s.set(d,v)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function DU(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,g){if(g===0)return;let A,v;if(i)A=n,v="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[v](s,m,a,p*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function LU(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function FU(n,e){return n[0]-e[0]}function kU(n,e){return Math.abs(e[1])-Math.abs(n[1])}function GA(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function NU(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Nt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,A=g!==void 0?g.length:0;let v=s.get(u);if(v===void 0||v.count!==A){let Q=function(){q.dispose(),s.delete(u),u.removeEventListener("dispose",Q)};v!==void 0&&v.texture.dispose();const E=u.morphAttributes.position!==void 0,_=u.morphAttributes.normal!==void 0,I=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],w=u.morphAttributes.color||[];let R=0;E===!0&&(R=1),_===!0&&(R=2),I===!0&&(R=3);let D=u.attributes.position.count*R,P=1;D>e.maxTextureSize&&(P=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const z=new Float32Array(D*P*4*A),q=new Oh(z,D,P,A);q.type=Fr,q.needsUpdate=!0;const k=R*4;for(let V=0;V<A;V++){const Y=M[V],G=T[V],j=w[V],K=D*P*4*V;for(let ee=0;ee<Y.count;ee++){const X=ee*k;E===!0&&(o.fromBufferAttribute(Y,ee),Y.normalized===!0&&GA(o,Y),z[K+X+0]=o.x,z[K+X+1]=o.y,z[K+X+2]=o.z,z[K+X+3]=0),_===!0&&(o.fromBufferAttribute(G,ee),G.normalized===!0&&GA(o,G),z[K+X+4]=o.x,z[K+X+5]=o.y,z[K+X+6]=o.z,z[K+X+7]=0),I===!0&&(o.fromBufferAttribute(j,ee),j.normalized===!0&&GA(o,j),z[K+X+8]=o.x,z[K+X+9]=o.y,z[K+X+10]=o.z,z[K+X+11]=j.itemSize===4?o.w:1)}}v={count:A,texture:q,size:new he(D,P)},s.set(u,v),u.addEventListener("dispose",Q)}let C=0;for(let E=0;E<m.length;E++)C+=m[E];const x=u.morphTargetsRelative?1:1-C;p.getUniforms().setValue(n,"morphTargetBaseInfluence",x),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const g=m===void 0?0:m.length;let A=r[u.id];if(A===void 0||A.length!==g){A=[];for(let _=0;_<g;_++)A[_]=[_,0];r[u.id]=A}for(let _=0;_<g;_++){const I=A[_];I[0]=_,I[1]=m[_]}A.sort(kU);for(let _=0;_<8;_++)_<g&&A[_][1]?(a[_][0]=A[_][0],a[_][1]=A[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(FU);const v=u.morphAttributes.position,C=u.morphAttributes.normal;let x=0;for(let _=0;_<8;_++){const I=a[_],M=I[0],T=I[1];M!==Number.MAX_SAFE_INTEGER&&T?(v&&u.getAttribute("morphTarget"+_)!==v[M]&&u.setAttribute("morphTarget"+_,v[M]),C&&u.getAttribute("morphNormal"+_)!==C[M]&&u.setAttribute("morphNormal"+_,C[M]),i[_]=T,x+=T):(v&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),C&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const E=u.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",E),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function OU(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const gS=new En,AS=new Oh,vS=new am,yS=new Qh,A4=[],v4=[],y4=new Float32Array(16),x4=new Float32Array(9),C4=new Float32Array(4);function _u(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=A4[i];if(s===void 0&&(s=new Float32Array(i),A4[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function br(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ir(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function um(n,e){let t=v4[e];t===void 0&&(t=new Int32Array(e),v4[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function UU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function GU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(br(t,e))return;n.uniform2fv(this.addr,e),Ir(t,e)}}function QU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(br(t,e))return;n.uniform3fv(this.addr,e),Ir(t,e)}}function HU(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(br(t,e))return;n.uniform4fv(this.addr,e),Ir(t,e)}}function zU(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(br(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ir(t,e)}else{if(br(t,r))return;C4.set(r),n.uniformMatrix2fv(this.addr,!1,C4),Ir(t,r)}}function VU(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(br(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ir(t,e)}else{if(br(t,r))return;x4.set(r),n.uniformMatrix3fv(this.addr,!1,x4),Ir(t,r)}}function WU(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(br(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ir(t,e)}else{if(br(t,r))return;y4.set(r),n.uniformMatrix4fv(this.addr,!1,y4),Ir(t,r)}}function JU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function jU(n,e){const t=this.cache;br(t,e)||(n.uniform2iv(this.addr,e),Ir(t,e))}function KU(n,e){const t=this.cache;br(t,e)||(n.uniform3iv(this.addr,e),Ir(t,e))}function qU(n,e){const t=this.cache;br(t,e)||(n.uniform4iv(this.addr,e),Ir(t,e))}function YU(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function XU(n,e){const t=this.cache;br(t,e)||(n.uniform2uiv(this.addr,e),Ir(t,e))}function $U(n,e){const t=this.cache;br(t,e)||(n.uniform3uiv(this.addr,e),Ir(t,e))}function ZU(n,e){const t=this.cache;br(t,e)||(n.uniform4uiv(this.addr,e),Ir(t,e))}function eG(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||gS,i)}function tG(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||vS,i)}function nG(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||yS,i)}function rG(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||AS,i)}function iG(n){switch(n){case 5126:return UU;case 35664:return GU;case 35665:return QU;case 35666:return HU;case 35674:return zU;case 35675:return VU;case 35676:return WU;case 5124:case 35670:return JU;case 35667:case 35671:return jU;case 35668:case 35672:return KU;case 35669:case 35673:return qU;case 5125:return YU;case 36294:return XU;case 36295:return $U;case 36296:return ZU;case 35678:case 36198:case 36298:case 36306:case 35682:return eG;case 35679:case 36299:case 36307:return tG;case 35680:case 36300:case 36308:case 36293:return nG;case 36289:case 36303:case 36311:case 36292:return rG}}function sG(n,e){n.uniform1fv(this.addr,e)}function oG(n,e){const t=_u(e,this.size,2);n.uniform2fv(this.addr,t)}function aG(n,e){const t=_u(e,this.size,3);n.uniform3fv(this.addr,t)}function lG(n,e){const t=_u(e,this.size,4);n.uniform4fv(this.addr,t)}function cG(n,e){const t=_u(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function uG(n,e){const t=_u(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function fG(n,e){const t=_u(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function hG(n,e){n.uniform1iv(this.addr,e)}function dG(n,e){n.uniform2iv(this.addr,e)}function pG(n,e){n.uniform3iv(this.addr,e)}function mG(n,e){n.uniform4iv(this.addr,e)}function gG(n,e){n.uniform1uiv(this.addr,e)}function AG(n,e){n.uniform2uiv(this.addr,e)}function vG(n,e){n.uniform3uiv(this.addr,e)}function yG(n,e){n.uniform4uiv(this.addr,e)}function xG(n,e,t){const r=e.length,i=um(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2D(e[s]||gS,i[s])}function CG(n,e,t){const r=e.length,i=um(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||vS,i[s])}function EG(n,e,t){const r=e.length,i=um(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTextureCube(e[s]||yS,i[s])}function SG(n,e,t){const r=e.length,i=um(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||AS,i[s])}function _G(n){switch(n){case 5126:return sG;case 35664:return oG;case 35665:return aG;case 35666:return lG;case 35674:return cG;case 35675:return uG;case 35676:return fG;case 5124:case 35670:return hG;case 35667:case 35671:return dG;case 35668:case 35672:return pG;case 35669:case 35673:return mG;case 5125:return gG;case 36294:return AG;case 36295:return vG;case 36296:return yG;case 35678:case 36198:case 36298:case 36306:case 35682:return xG;case 35679:case 36299:case 36307:return CG;case 35680:case 36300:case 36308:case 36293:return EG;case 36289:case 36303:case 36311:case 36292:return SG}}class bG{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=iG(t.type)}}class IG{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=_G(t.type)}}class wG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const QA=/(\w+)(\])?(\[|\.)?/g;function E4(n,e){n.seq.push(e),n.map[e.id]=e}function MG(n,e,t){const r=n.name,i=r.length;for(QA.lastIndex=0;;){const s=QA.exec(r),o=QA.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){E4(t,c===void 0?new bG(a,n,e):new IG(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new wG(a),E4(t,d)),t=d}}}class b0{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);MG(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function S4(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let TG=0;function BG(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function RG(n){switch(n){case ra:return["Linear","( value )"];case an:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function _4(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+BG(n.getShaderSource(e),o)}else return i}function PG(n,e){const t=RG(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function DG(n,e){let t;switch(e){case VE:t="Linear";break;case WE:t="Reinhard";break;case JE:t="OptimizedCineon";break;case j5:t="ACESFilmic";break;case jE:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function LG(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(bf).join(`
`)}function FG(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function kG(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function bf(n){return n!==""}function b4(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function I4(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const NG=/^[ \t]*#include +<([\w\d./]+)>/gm;function B1(n){return n.replace(NG,OG)}function OG(n,e){const t=Tt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return B1(t)}const UG=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,GG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function w4(n){return n.replace(GG,xS).replace(UG,QG)}function QG(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),xS(n,e,t,r)}function xS(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function M4(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function HG(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===em?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Uf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ol&&(e="SHADOWMAP_TYPE_VSM"),e}function zG(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ea:case ta:e="ENVMAP_TYPE_CUBE";break;case Cu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function VG(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ta:e="ENVMAP_MODE_REFRACTION";break}return e}function WG(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Nh:e="ENVMAP_BLENDING_MULTIPLY";break;case HE:e="ENVMAP_BLENDING_MIX";break;case zE:e="ENVMAP_BLENDING_ADD";break}return e}function JG(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function jG(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=HG(t),c=zG(t),u=VG(t),d=WG(t),p=JG(t),m=t.isWebGL2?"":LG(t),g=FG(s),A=i.createProgram();let v,C,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[g].filter(bf).join(`
`),v.length>0&&(v+=`
`),C=[m,g].filter(bf).join(`
`),C.length>0&&(C+=`
`)):(v=[M4(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(bf).join(`
`),C=[m,M4(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$r?"#define TONE_MAPPING":"",t.toneMapping!==$r?Tt.tonemapping_pars_fragment:"",t.toneMapping!==$r?DG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Tt.encodings_pars_fragment,PG("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(bf).join(`
`)),o=B1(o),o=b4(o,t),o=I4(o,t),a=B1(a),a=b4(a,t),a=I4(a,t),o=w4(o),a=w4(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,C=["#define varying in",t.glslVersion===w1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===w1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+C);const E=x+v+o,_=x+C+a,I=S4(i,35633,E),M=S4(i,35632,_);if(i.attachShader(A,I),i.attachShader(A,M),t.index0AttributeName!==void 0?i.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(A,0,"position"),i.linkProgram(A),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(A).trim(),D=i.getShaderInfoLog(I).trim(),P=i.getShaderInfoLog(M).trim();let z=!0,q=!0;if(i.getProgramParameter(A,35714)===!1){z=!1;const k=_4(i,I,"vertex"),Q=_4(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(A,35715)+`

Program Info Log: `+R+`
`+k+`
`+Q)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(D===""||P==="")&&(q=!1);q&&(this.diagnostics={runnable:z,programLog:R,vertexShader:{log:D,prefix:v},fragmentShader:{log:P,prefix:C}})}i.deleteShader(I),i.deleteShader(M);let T;this.getUniforms=function(){return T===void 0&&(T=new b0(i,A)),T};let w;return this.getAttributes=function(){return w===void 0&&(w=kG(i,A)),w},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(A),this.program=void 0},this.name=t.shaderName,this.id=TG++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=I,this.fragmentShader=M,this}let KG=0;class qG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new YG(e);t.set(e,r)}return t.get(e)}}class YG{constructor(e){this.id=KG++,this.code=e,this.usedTimes=0}}function XG(n,e,t,r,i,s,o){const a=new gl,l=new qG,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(w,R,D,P,z){const q=P.fog,k=z.geometry,Q=w.isMeshStandardMaterial?P.environment:null,V=(w.isMeshStandardMaterial?t:e).get(w.envMap||Q),Y=V&&V.mapping===Cu?V.image.height:null,G=g[w.type];w.precision!==null&&(m=i.getMaxPrecision(w.precision),m!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",m,"instead."));const j=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,K=j!==void 0?j.length:0;let ee=0;k.morphAttributes.position!==void 0&&(ee=1),k.morphAttributes.normal!==void 0&&(ee=2),k.morphAttributes.color!==void 0&&(ee=3);let X,ae,Ae,_e;if(G){const xe=Hi[G];X=xe.vertexShader,ae=xe.fragmentShader}else X=w.vertexShader,ae=w.fragmentShader,l.update(w),Ae=l.getVertexShaderID(w),_e=l.getFragmentShaderID(w);const re=n.getRenderTarget(),Ne=w.alphaTest>0,Pe=w.clearcoat>0,Le=w.iridescence>0;return{isWebGL2:u,shaderID:G,shaderName:w.type,vertexShader:X,fragmentShader:ae,defines:w.defines,customVertexShaderID:Ae,customFragmentShaderID:_e,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:m,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:p,outputEncoding:re===null?n.outputEncoding:re.isXRRenderTarget===!0?re.texture.encoding:ra,map:!!w.map,matcap:!!w.matcap,envMap:!!V,envMapMode:V&&V.mapping,envMapCubeUVHeight:Y,lightMap:!!w.lightMap,aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===uS,tangentSpaceNormalMap:w.normalMapType===Ml,decodeVideoTexture:!!w.map&&w.map.isVideoTexture===!0&&w.map.encoding===an,clearcoat:Pe,clearcoatMap:Pe&&!!w.clearcoatMap,clearcoatRoughnessMap:Pe&&!!w.clearcoatRoughnessMap,clearcoatNormalMap:Pe&&!!w.clearcoatNormalMap,iridescence:Le,iridescenceMap:Le&&!!w.iridescenceMap,iridescenceThicknessMap:Le&&!!w.iridescenceThicknessMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,specularIntensityMap:!!w.specularIntensityMap,specularColorMap:!!w.specularColorMap,opaque:w.transparent===!1&&w.blending===Cs,alphaMap:!!w.alphaMap,alphaTest:Ne,gradientMap:!!w.gradientMap,sheen:w.sheen>0,sheenColorMap:!!w.sheenColorMap,sheenRoughnessMap:!!w.sheenRoughnessMap,transmission:w.transmission>0,transmissionMap:!!w.transmissionMap,thicknessMap:!!w.thicknessMap,combine:w.combine,vertexTangents:!!w.normalMap&&!!k.attributes.tangent,vertexColors:w.vertexColors,vertexAlphas:w.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.iridescenceMap||!!w.iridescenceThicknessMap||!!w.displacementMap||!!w.transmissionMap||!!w.thicknessMap||!!w.specularIntensityMap||!!w.specularColorMap||!!w.sheenColorMap||!!w.sheenRoughnessMap,uvsVertexOnly:!(w.map||w.bumpMap||w.normalMap||w.specularMap||w.alphaMap||w.emissiveMap||w.roughnessMap||w.metalnessMap||w.clearcoatNormalMap||w.iridescenceMap||w.iridescenceThicknessMap||w.transmission>0||w.transmissionMap||w.thicknessMap||w.specularIntensityMap||w.specularColorMap||w.sheen>0||w.sheenColorMap||w.sheenRoughnessMap)&&!!w.displacementMap,fog:!!q,useFog:w.fog===!0,fogExp2:q&&q.isFogExp2,flatShading:!!w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:d,skinning:z.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:ee,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:w.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:w.toneMapped?n.toneMapping:$r,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===ro,flipSided:w.side===Nr,useDepthPacking:!!w.depthPacking,depthPacking:w.depthPacking||0,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}}function v(w){const R=[];if(w.shaderID?R.push(w.shaderID):(R.push(w.customVertexShaderID),R.push(w.customFragmentShaderID)),w.defines!==void 0)for(const D in w.defines)R.push(D),R.push(w.defines[D]);return w.isRawShaderMaterial===!1&&(C(R,w),x(R,w),R.push(n.outputEncoding)),R.push(w.customProgramCacheKey),R.join()}function C(w,R){w.push(R.precision),w.push(R.outputEncoding),w.push(R.envMapMode),w.push(R.envMapCubeUVHeight),w.push(R.combine),w.push(R.vertexUvs),w.push(R.fogExp2),w.push(R.sizeAttenuation),w.push(R.morphTargetsCount),w.push(R.morphAttributeCount),w.push(R.numDirLights),w.push(R.numPointLights),w.push(R.numSpotLights),w.push(R.numHemiLights),w.push(R.numRectAreaLights),w.push(R.numDirLightShadows),w.push(R.numPointLightShadows),w.push(R.numSpotLightShadows),w.push(R.shadowMapType),w.push(R.toneMapping),w.push(R.numClippingPlanes),w.push(R.numClipIntersection),w.push(R.depthPacking)}function x(w,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),R.fog&&a.enable(33),w.push(a.mask),a.disableAll(),R.useFog&&a.enable(0),R.flatShading&&a.enable(1),R.logarithmicDepthBuffer&&a.enable(2),R.skinning&&a.enable(3),R.morphTargets&&a.enable(4),R.morphNormals&&a.enable(5),R.morphColors&&a.enable(6),R.premultipliedAlpha&&a.enable(7),R.shadowMapEnabled&&a.enable(8),R.physicallyCorrectLights&&a.enable(9),R.doubleSided&&a.enable(10),R.flipSided&&a.enable(11),R.useDepthPacking&&a.enable(12),R.dithering&&a.enable(13),R.specularIntensityMap&&a.enable(14),R.specularColorMap&&a.enable(15),R.transmission&&a.enable(16),R.transmissionMap&&a.enable(17),R.thicknessMap&&a.enable(18),R.sheen&&a.enable(19),R.sheenColorMap&&a.enable(20),R.sheenRoughnessMap&&a.enable(21),R.decodeVideoTexture&&a.enable(22),R.opaque&&a.enable(23),w.push(a.mask)}function E(w){const R=g[w.type];let D;if(R){const P=Hi[R];D=An.clone(P.uniforms)}else D=w.uniforms;return D}function _(w,R){let D;for(let P=0,z=c.length;P<z;P++){const q=c[P];if(q.cacheKey===R){D=q,++D.usedTimes;break}}return D===void 0&&(D=new jG(n,R,w,s),c.push(D)),D}function I(w){if(--w.usedTimes===0){const R=c.indexOf(w);c[R]=c[c.length-1],c.pop(),w.destroy()}}function M(w){l.remove(w)}function T(){l.dispose()}return{getParameters:A,getProgramCacheKey:v,getUniforms:E,acquireProgram:_,releaseProgram:I,releaseShaderCache:M,programs:c,dispose:T}}function $G(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function ZG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function T4(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function B4(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,p,m,g,A,v){let C=n[e];return C===void 0?(C={id:d.id,object:d,geometry:p,material:m,groupOrder:g,renderOrder:d.renderOrder,z:A,group:v},n[e]=C):(C.id=d.id,C.object=d,C.geometry=p,C.material=m,C.groupOrder=g,C.renderOrder=d.renderOrder,C.z=A,C.group=v),e++,C}function a(d,p,m,g,A,v){const C=o(d,p,m,g,A,v);m.transmission>0?r.push(C):m.transparent===!0?i.push(C):t.push(C)}function l(d,p,m,g,A,v){const C=o(d,p,m,g,A,v);m.transmission>0?r.unshift(C):m.transparent===!0?i.unshift(C):t.unshift(C)}function c(d,p){t.length>1&&t.sort(d||ZG),r.length>1&&r.sort(p||T4),i.length>1&&i.sort(p||T4)}function u(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function eQ(){let n=new WeakMap;function e(r,i){let s;return n.has(r)===!1?(s=new B4,n.set(r,[s])):i>=n.get(r).length?(s=new B4,n.get(r).push(s)):s=n.get(r)[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function tQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new L,color:new Re};break;case"SpotLight":t={position:new L,direction:new L,color:new Re,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new L,color:new Re,distance:0,decay:0};break;case"HemisphereLight":t={direction:new L,skyColor:new Re,groundColor:new Re};break;case"RectAreaLight":t={color:new Re,position:new L,halfWidth:new L,halfHeight:new L};break}return n[e.id]=t,t}}}function nQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new he,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let rQ=0;function iQ(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function sQ(n,e){const t=new tQ,r=nQ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new L);const s=new L,o=new tt,a=new tt;function l(u,d){let p=0,m=0,g=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let A=0,v=0,C=0,x=0,E=0,_=0,I=0,M=0;u.sort(iQ);const T=d!==!0?Math.PI:1;for(let R=0,D=u.length;R<D;R++){const P=u[R],z=P.color,q=P.intensity,k=P.distance,Q=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)p+=z.r*q*T,m+=z.g*q*T,g+=z.b*q*T;else if(P.isLightProbe)for(let V=0;V<9;V++)i.probe[V].addScaledVector(P.sh.coefficients[V],q);else if(P.isDirectionalLight){const V=t.get(P);if(V.color.copy(P.color).multiplyScalar(P.intensity*T),P.castShadow){const Y=P.shadow,G=r.get(P);G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,i.directionalShadow[A]=G,i.directionalShadowMap[A]=Q,i.directionalShadowMatrix[A]=P.shadow.matrix,_++}i.directional[A]=V,A++}else if(P.isSpotLight){const V=t.get(P);if(V.position.setFromMatrixPosition(P.matrixWorld),V.color.copy(z).multiplyScalar(q*T),V.distance=k,V.coneCos=Math.cos(P.angle),V.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),V.decay=P.decay,P.castShadow){const Y=P.shadow,G=r.get(P);G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,i.spotShadow[C]=G,i.spotShadowMap[C]=Q,i.spotShadowMatrix[C]=P.shadow.matrix,M++}i.spot[C]=V,C++}else if(P.isRectAreaLight){const V=t.get(P);V.color.copy(z).multiplyScalar(q),V.halfWidth.set(P.width*.5,0,0),V.halfHeight.set(0,P.height*.5,0),i.rectArea[x]=V,x++}else if(P.isPointLight){const V=t.get(P);if(V.color.copy(P.color).multiplyScalar(P.intensity*T),V.distance=P.distance,V.decay=P.decay,P.castShadow){const Y=P.shadow,G=r.get(P);G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,G.shadowCameraNear=Y.camera.near,G.shadowCameraFar=Y.camera.far,i.pointShadow[v]=G,i.pointShadowMap[v]=Q,i.pointShadowMatrix[v]=P.shadow.matrix,I++}i.point[v]=V,v++}else if(P.isHemisphereLight){const V=t.get(P);V.skyColor.copy(P.color).multiplyScalar(q*T),V.groundColor.copy(P.groundColor).multiplyScalar(q*T),i.hemi[E]=V,E++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const w=i.hash;(w.directionalLength!==A||w.pointLength!==v||w.spotLength!==C||w.rectAreaLength!==x||w.hemiLength!==E||w.numDirectionalShadows!==_||w.numPointShadows!==I||w.numSpotShadows!==M)&&(i.directional.length=A,i.spot.length=C,i.rectArea.length=x,i.point.length=v,i.hemi.length=E,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=I,i.pointShadowMap.length=I,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=I,i.spotShadowMatrix.length=M,w.directionalLength=A,w.pointLength=v,w.spotLength=C,w.rectAreaLength=x,w.hemiLength=E,w.numDirectionalShadows=_,w.numPointShadows=I,w.numSpotShadows=M,i.version=rQ++)}function c(u,d){let p=0,m=0,g=0,A=0,v=0;const C=d.matrixWorldInverse;for(let x=0,E=u.length;x<E;x++){const _=u[x];if(_.isDirectionalLight){const I=i.directional[p];I.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(C),p++}else if(_.isSpotLight){const I=i.spot[g];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(C),I.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(C),g++}else if(_.isRectAreaLight){const I=i.rectArea[A];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(C),a.identity(),o.copy(_.matrixWorld),o.premultiply(C),a.extractRotation(o),I.halfWidth.set(_.width*.5,0,0),I.halfHeight.set(0,_.height*.5,0),I.halfWidth.applyMatrix4(a),I.halfHeight.applyMatrix4(a),A++}else if(_.isPointLight){const I=i.point[m];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(C),m++}else if(_.isHemisphereLight){const I=i.hemi[v];I.direction.setFromMatrixPosition(_.matrixWorld),I.direction.transformDirection(C),v++}}}return{setup:l,setupView:c,state:i}}function R4(n,e){const t=new sQ(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function oQ(n,e){let t=new WeakMap;function r(s,o=0){let a;return t.has(s)===!1?(a=new R4(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new R4(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class fm extends xn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=cS,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class iv extends xn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new L,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const aQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cQ(n,e,t){let r=new cm;const i=new he,s=new he,o=new Nt,a=new fm({depthPacking:X5}),l=new iv,c={},u=t.maxTextureSize,d={0:Nr,1:Zo,2:ro},p=new Ot({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new he},radius:{value:4}},vertexShader:aQ,fragmentShader:lQ}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new mt;g.setAttribute("position",new zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Kt(g,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=em,this.render=function(_,I,M){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||_.length===0)return;const T=n.getRenderTarget(),w=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Bt),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let P=0,z=_.length;P<z;P++){const q=_[P],k=q.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const Q=k.getFrameExtents();if(i.multiply(Q),s.copy(k.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/Q.x),i.x=s.x*Q.x,k.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/Q.y),i.y=s.y*Q.y,k.mapSize.y=s.y)),k.map===null&&!k.isPointLightShadow&&this.type===ol&&(k.map=new Yt(i.x,i.y),k.map.texture.name=q.name+".shadowMap",k.mapPass=new Yt(i.x,i.y),k.camera.updateProjectionMatrix()),k.map===null){const Y={minFilter:At,magFilter:At,format:Bn};k.map=new Yt(i.x,i.y,Y),k.map.texture.name=q.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const V=k.getViewportCount();for(let Y=0;Y<V;Y++){const G=k.getViewport(Y);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),D.viewport(o),k.updateMatrices(q,Y),r=k.getFrustum(),E(I,M,k.camera,q,this.type)}!k.isPointLightShadow&&this.type===ol&&C(k,M),k.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(T,w,R)};function C(_,I){const M=e.update(A);p.defines.VSM_SAMPLES!==_.blurSamples&&(p.defines.VSM_SAMPLES=_.blurSamples,m.defines.VSM_SAMPLES=_.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),p.uniforms.shadow_pass.value=_.map.texture,p.uniforms.resolution.value=_.mapSize,p.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(I,null,M,p,A,null),m.uniforms.shadow_pass.value=_.mapPass.texture,m.uniforms.resolution.value=_.mapSize,m.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(I,null,M,m,A,null)}function x(_,I,M,T,w,R){let D=null;const P=M.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(P!==void 0?D=P:D=M.isPointLight===!0?l:a,n.localClippingEnabled&&I.clipShadows===!0&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0){const z=D.uuid,q=I.uuid;let k=c[z];k===void 0&&(k={},c[z]=k);let Q=k[q];Q===void 0&&(Q=D.clone(),k[q]=Q),D=Q}return D.visible=I.visible,D.wireframe=I.wireframe,R===ol?D.side=I.shadowSide!==null?I.shadowSide:I.side:D.side=I.shadowSide!==null?I.shadowSide:d[I.side],D.alphaMap=I.alphaMap,D.alphaTest=I.alphaTest,D.clipShadows=I.clipShadows,D.clippingPlanes=I.clippingPlanes,D.clipIntersection=I.clipIntersection,D.displacementMap=I.displacementMap,D.displacementScale=I.displacementScale,D.displacementBias=I.displacementBias,D.wireframeLinewidth=I.wireframeLinewidth,D.linewidth=I.linewidth,M.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(M.matrixWorld),D.nearDistance=T,D.farDistance=w),D}function E(_,I,M,T,w){if(_.visible===!1)return;if(_.layers.test(I.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&w===ol)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,_.matrixWorld);const P=e.update(_),z=_.material;if(Array.isArray(z)){const q=P.groups;for(let k=0,Q=q.length;k<Q;k++){const V=q[k],Y=z[V.materialIndex];if(Y&&Y.visible){const G=x(_,Y,T,M.near,M.far,w);n.renderBufferDirect(M,null,P,G,_,V)}}}else if(z.visible){const q=x(_,z,T,M.near,M.far,w);n.renderBufferDirect(M,null,P,q,_,null)}}const D=_.children;for(let P=0,z=D.length;P<z;P++)E(D[P],I,M,T,w)}}function uQ(n,e,t){const r=t.isWebGL2;function i(){let O=!1;const fe=new Nt;let Se=null;const Ke=new Nt(0,0,0,0);return{setMask:function(He){Se!==He&&!O&&(n.colorMask(He,He,He,He),Se=He)},setLocked:function(He){O=He},setClear:function(He,et,De,ot,ht){ht===!0&&(He*=ot,et*=ot,De*=ot),fe.set(He,et,De,ot),Ke.equals(fe)===!1&&(n.clearColor(He,et,De,ot),Ke.copy(fe))},reset:function(){O=!1,Se=null,Ke.set(-1,0,0,0)}}}function s(){let O=!1,fe=null,Se=null,Ke=null;return{setTest:function(He){He?_e(2929):re(2929)},setMask:function(He){fe!==He&&!O&&(n.depthMask(He),fe=He)},setFunc:function(He){if(Se!==He){if(He)switch(He){case FE:n.depthFunc(512);break;case kE:n.depthFunc(519);break;case NE:n.depthFunc(513);break;case z0:n.depthFunc(515);break;case OE:n.depthFunc(514);break;case UE:n.depthFunc(518);break;case GE:n.depthFunc(516);break;case QE:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Se=He}},setLocked:function(He){O=He},setClear:function(He){Ke!==He&&(n.clearDepth(He),Ke=He)},reset:function(){O=!1,fe=null,Se=null,Ke=null}}}function o(){let O=!1,fe=null,Se=null,Ke=null,He=null,et=null,De=null,ot=null,ht=null;return{setTest:function(dt){O||(dt?_e(2960):re(2960))},setMask:function(dt){fe!==dt&&!O&&(n.stencilMask(dt),fe=dt)},setFunc:function(dt,sr,Qr){(Se!==dt||Ke!==sr||He!==Qr)&&(n.stencilFunc(dt,sr,Qr),Se=dt,Ke=sr,He=Qr)},setOp:function(dt,sr,Qr){(et!==dt||De!==sr||ot!==Qr)&&(n.stencilOp(dt,sr,Qr),et=dt,De=sr,ot=Qr)},setLocked:function(dt){O=dt},setClear:function(dt){ht!==dt&&(n.clearStencil(dt),ht=dt)},reset:function(){O=!1,fe=null,Se=null,Ke=null,He=null,et=null,De=null,ot=null,ht=null}}}const a=new i,l=new s,c=new o;let u={},d={},p=new WeakMap,m=[],g=null,A=!1,v=null,C=null,x=null,E=null,_=null,I=null,M=null,T=!1,w=null,R=null,D=null,P=null,z=null;const q=n.getParameter(35661);let k=!1,Q=0;const V=n.getParameter(7938);V.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(V)[1]),k=Q>=1):V.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),k=Q>=2);let Y=null,G={};const j=n.getParameter(3088),K=n.getParameter(2978),ee=new Nt().fromArray(j),X=new Nt().fromArray(K);function ae(O,fe,Se){const Ke=new Uint8Array(4),He=n.createTexture();n.bindTexture(O,He),n.texParameteri(O,10241,9728),n.texParameteri(O,10240,9728);for(let et=0;et<Se;et++)n.texImage2D(fe+et,0,6408,1,1,0,6408,5121,Ke);return He}const Ae={};Ae[3553]=ae(3553,3553,1),Ae[34067]=ae(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),_e(2929),l.setFunc(z0),Ce(!1),Me(a1),_e(2884),oe(Bt);function _e(O){u[O]!==!0&&(n.enable(O),u[O]=!0)}function re(O){u[O]!==!1&&(n.disable(O),u[O]=!1)}function Ne(O,fe){return d[O]!==fe?(n.bindFramebuffer(O,fe),d[O]=fe,r&&(O===36009&&(d[36160]=fe),O===36160&&(d[36009]=fe)),!0):!1}function Pe(O,fe){let Se=m,Ke=!1;if(O)if(Se=p.get(fe),Se===void 0&&(Se=[],p.set(fe,Se)),O.isWebGLMultipleRenderTargets){const He=O.texture;if(Se.length!==He.length||Se[0]!==36064){for(let et=0,De=He.length;et<De;et++)Se[et]=36064+et;Se.length=He.length,Ke=!0}}else Se[0]!==36064&&(Se[0]=36064,Ke=!0);else Se[0]!==1029&&(Se[0]=1029,Ke=!0);Ke&&(t.isWebGL2?n.drawBuffers(Se):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Se))}function Le(O){return g!==O?(n.useProgram(O),g=O,!0):!1}const ve={[Yr]:32774,[wE]:32778,[ME]:32779};if(r)ve[u1]=32775,ve[f1]=32776;else{const O=e.get("EXT_blend_minmax");O!==null&&(ve[u1]=O.MIN_EXT,ve[f1]=O.MAX_EXT)}const xe={[Wc]:0,[TE]:1,[BE]:768,[nh]:770,[LE]:776,[nm]:774,[tm]:772,[RE]:769,[rh]:771,[DE]:775,[PE]:773};function oe(O,fe,Se,Ke,He,et,De,ot){if(O===Bt){A===!0&&(re(3042),A=!1);return}if(A===!1&&(_e(3042),A=!0),O!==th){if(O!==v||ot!==T){if((C!==Yr||_!==Yr)&&(n.blendEquation(32774),C=Yr,_=Yr),ot)switch(O){case Cs:n.blendFuncSeparate(1,771,1,771);break;case eh:n.blendFunc(1,1);break;case l1:n.blendFuncSeparate(0,769,0,1);break;case c1:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",O);break}else switch(O){case Cs:n.blendFuncSeparate(770,771,1,771);break;case eh:n.blendFunc(770,1);break;case l1:n.blendFuncSeparate(0,769,0,1);break;case c1:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",O);break}x=null,E=null,I=null,M=null,v=O,T=ot}return}He=He||fe,et=et||Se,De=De||Ke,(fe!==C||He!==_)&&(n.blendEquationSeparate(ve[fe],ve[He]),C=fe,_=He),(Se!==x||Ke!==E||et!==I||De!==M)&&(n.blendFuncSeparate(xe[Se],xe[Ke],xe[et],xe[De]),x=Se,E=Ke,I=et,M=De),v=O,T=null}function ne(O,fe){O.side===ro?re(2884):_e(2884);let Se=O.side===Nr;fe&&(Se=!Se),Ce(Se),O.blending===Cs&&O.transparent===!1?oe(Bt):oe(O.blending,O.blendEquation,O.blendSrc,O.blendDst,O.blendEquationAlpha,O.blendSrcAlpha,O.blendDstAlpha,O.premultipliedAlpha),l.setFunc(O.depthFunc),l.setTest(O.depthTest),l.setMask(O.depthWrite),a.setMask(O.colorWrite);const Ke=O.stencilWrite;c.setTest(Ke),Ke&&(c.setMask(O.stencilWriteMask),c.setFunc(O.stencilFunc,O.stencilRef,O.stencilFuncMask),c.setOp(O.stencilFail,O.stencilZFail,O.stencilZPass)),qe(O.polygonOffset,O.polygonOffsetFactor,O.polygonOffsetUnits),O.alphaToCoverage===!0?_e(32926):re(32926)}function Ce(O){w!==O&&(O?n.frontFace(2304):n.frontFace(2305),w=O)}function Me(O){O!==SE?(_e(2884),O!==R&&(O===a1?n.cullFace(1029):O===_E?n.cullFace(1028):n.cullFace(1032))):re(2884),R=O}function Fe(O){O!==D&&(k&&n.lineWidth(O),D=O)}function qe(O,fe,Se){O?(_e(32823),(P!==fe||z!==Se)&&(n.polygonOffset(fe,Se),P=fe,z=Se)):re(32823)}function je(O){O?_e(3089):re(3089)}function ze(O){O===void 0&&(O=33984+q-1),Y!==O&&(n.activeTexture(O),Y=O)}function ct(O,fe){Y===null&&ze();let Se=G[Y];Se===void 0&&(Se={type:void 0,texture:void 0},G[Y]=Se),(Se.type!==O||Se.texture!==fe)&&(n.bindTexture(O,fe||Ae[O]),Se.type=O,Se.texture=fe)}function rt(){const O=G[Y];O!==void 0&&O.type!==void 0&&(n.bindTexture(O.type,null),O.type=void 0,O.texture=void 0)}function W(){try{n.compressedTexImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function N(){try{n.texSubImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function se(){try{n.texSubImage3D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function we(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function Te(){try{n.texStorage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function Be(){try{n.texStorage3D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function Ue(){try{n.texImage2D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function ue(){try{n.texImage3D.apply(n,arguments)}catch(O){console.error("THREE.WebGLState:",O)}}function We(O){ee.equals(O)===!1&&(n.scissor(O.x,O.y,O.z,O.w),ee.copy(O))}function Oe(O){X.equals(O)===!1&&(n.viewport(O.x,O.y,O.z,O.w),X.copy(O))}function U(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},Y=null,G={},d={},p=new WeakMap,m=[],g=null,A=!1,v=null,C=null,x=null,E=null,_=null,I=null,M=null,T=!1,w=null,R=null,D=null,P=null,z=null,ee.set(0,0,n.canvas.width,n.canvas.height),X.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:_e,disable:re,bindFramebuffer:Ne,drawBuffers:Pe,useProgram:Le,setBlending:oe,setMaterial:ne,setFlipSided:Ce,setCullFace:Me,setLineWidth:Fe,setPolygonOffset:qe,setScissorTest:je,activeTexture:ze,bindTexture:ct,unbindTexture:rt,compressedTexImage2D:W,texImage2D:Ue,texImage3D:ue,texStorage2D:Te,texStorage3D:Be,texSubImage2D:N,texSubImage3D:se,compressedTexSubImage2D:we,scissor:We,viewport:Oe,reset:U}}function fQ(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let A;const v=new WeakMap;let C=!1;try{C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(W,N){return C?new OffscreenCanvas(W,N):gh("canvas")}function E(W,N,se,we){let Te=1;if((W.width>we||W.height>we)&&(Te=we/Math.max(W.width,W.height)),Te<1||N===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Be=N?j0:Math.floor,Ue=Be(Te*W.width),ue=Be(Te*W.height);A===void 0&&(A=x(Ue,ue));const We=se?x(Ue,ue):A;return We.width=Ue,We.height=ue,We.getContext("2d").drawImage(W,0,0,Ue,ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+Ue+"x"+ue+")."),We}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function _(W){return M1(W.width)&&M1(W.height)}function I(W){return a?!1:W.wrapS!==Mn||W.wrapT!==Mn||W.minFilter!==At&&W.minFilter!==tn}function M(W,N){return W.generateMipmaps&&N&&W.minFilter!==At&&W.minFilter!==tn}function T(W){n.generateMipmap(W)}function w(W,N,se,we,Te=!1){if(a===!1)return N;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Be=N;return N===6403&&(se===5126&&(Be=33326),se===5131&&(Be=33325),se===5121&&(Be=33321)),N===33319&&(se===5126&&(Be=33328),se===5131&&(Be=33327),se===5121&&(Be=33323)),N===6408&&(se===5126&&(Be=34836),se===5131&&(Be=34842),se===5121&&(Be=we===an&&Te===!1?35907:32856),se===32819&&(Be=32854),se===32820&&(Be=32855)),(Be===33325||Be===33326||Be===33327||Be===33328||Be===34842||Be===34836)&&e.get("EXT_color_buffer_float"),Be}function R(W,N,se){return M(W,se)===!0||W.isFramebufferTexture&&W.minFilter!==At&&W.minFilter!==tn?Math.log2(Math.max(N.width,N.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?N.mipmaps.length:1}function D(W){return W===At||W===oh||W===ah?9728:9729}function P(W){const N=W.target;N.removeEventListener("dispose",P),q(N),N.isVideoTexture&&g.delete(N)}function z(W){const N=W.target;N.removeEventListener("dispose",z),Q(N)}function q(W){const N=r.get(W);if(N.__webglInit===void 0)return;const se=W.source,we=v.get(se);if(we){const Te=we[N.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&k(W),Object.keys(we).length===0&&v.delete(se)}r.remove(W)}function k(W){const N=r.get(W);n.deleteTexture(N.__webglTexture);const se=W.source,we=v.get(se);delete we[N.__cacheKey],o.memory.textures--}function Q(W){const N=W.texture,se=r.get(W),we=r.get(N);if(we.__webglTexture!==void 0&&(n.deleteTexture(we.__webglTexture),o.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)n.deleteFramebuffer(se.__webglFramebuffer[Te]),se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer[Te]);else{if(n.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&n.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let Te=0;Te<se.__webglColorRenderbuffer.length;Te++)se.__webglColorRenderbuffer[Te]&&n.deleteRenderbuffer(se.__webglColorRenderbuffer[Te]);se.__webglDepthRenderbuffer&&n.deleteRenderbuffer(se.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let Te=0,Be=N.length;Te<Be;Te++){const Ue=r.get(N[Te]);Ue.__webglTexture&&(n.deleteTexture(Ue.__webglTexture),o.memory.textures--),r.remove(N[Te])}r.remove(N),r.remove(W)}let V=0;function Y(){V=0}function G(){const W=V;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),V+=1,W}function j(W){const N=[];return N.push(W.wrapS),N.push(W.wrapT),N.push(W.magFilter),N.push(W.minFilter),N.push(W.anisotropy),N.push(W.internalFormat),N.push(W.format),N.push(W.type),N.push(W.generateMipmaps),N.push(W.premultiplyAlpha),N.push(W.flipY),N.push(W.unpackAlignment),N.push(W.encoding),N.join()}function K(W,N){const se=r.get(W);if(W.isVideoTexture&&ct(W),W.isRenderTargetTexture===!1&&W.version>0&&se.__version!==W.version){const we=W.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Pe(se,W,N);return}}t.activeTexture(33984+N),t.bindTexture(3553,se.__webglTexture)}function ee(W,N){const se=r.get(W);if(W.version>0&&se.__version!==W.version){Pe(se,W,N);return}t.activeTexture(33984+N),t.bindTexture(35866,se.__webglTexture)}function X(W,N){const se=r.get(W);if(W.version>0&&se.__version!==W.version){Pe(se,W,N);return}t.activeTexture(33984+N),t.bindTexture(32879,se.__webglTexture)}function ae(W,N){const se=r.get(W);if(W.version>0&&se.__version!==W.version){Le(se,W,N);return}t.activeTexture(33984+N),t.bindTexture(34067,se.__webglTexture)}const Ae={[wi]:10497,[Mn]:33071,[Jc]:33648},_e={[At]:9728,[oh]:9984,[ah]:9986,[tn]:9729,[im]:9985,[Yi]:9987};function re(W,N,se){if(se?(n.texParameteri(W,10242,Ae[N.wrapS]),n.texParameteri(W,10243,Ae[N.wrapT]),(W===32879||W===35866)&&n.texParameteri(W,32882,Ae[N.wrapR]),n.texParameteri(W,10240,_e[N.magFilter]),n.texParameteri(W,10241,_e[N.minFilter])):(n.texParameteri(W,10242,33071),n.texParameteri(W,10243,33071),(W===32879||W===35866)&&n.texParameteri(W,32882,33071),(N.wrapS!==Mn||N.wrapT!==Mn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,10240,D(N.magFilter)),n.texParameteri(W,10241,D(N.minFilter)),N.minFilter!==At&&N.minFilter!==tn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const we=e.get("EXT_texture_filter_anisotropic");if(N.type===Fr&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===kn&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||r.get(N).__currentAnisotropy)&&(n.texParameterf(W,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy)}}function Ne(W,N){let se=!1;W.__webglInit===void 0&&(W.__webglInit=!0,N.addEventListener("dispose",P));const we=N.source;let Te=v.get(we);Te===void 0&&(Te={},v.set(we,Te));const Be=j(N);if(Be!==W.__cacheKey){Te[Be]===void 0&&(Te[Be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,se=!0),Te[Be].usedTimes++;const Ue=Te[W.__cacheKey];Ue!==void 0&&(Te[W.__cacheKey].usedTimes--,Ue.usedTimes===0&&k(N)),W.__cacheKey=Be,W.__webglTexture=Te[Be].texture}return se}function Pe(W,N,se){let we=3553;N.isDataArrayTexture&&(we=35866),N.isData3DTexture&&(we=32879);const Te=Ne(W,N),Be=N.source;if(t.activeTexture(33984+se),t.bindTexture(we,W.__webglTexture),Be.version!==Be.__currentVersion||Te===!0){n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const Ue=I(N)&&_(N.image)===!1;let ue=E(N.image,Ue,!1,u);ue=rt(N,ue);const We=_(ue)||a,Oe=s.convert(N.format,N.encoding);let U=s.convert(N.type),O=w(N.internalFormat,Oe,U,N.encoding,N.isVideoTexture);re(we,N,We);let fe;const Se=N.mipmaps,Ke=a&&N.isVideoTexture!==!0,He=Be.__currentVersion===void 0||Te===!0,et=R(N,ue,We);if(N.isDepthTexture)O=6402,a?N.type===Fr?O=36012:N.type===Vo?O=33190:N.type===jo?O=35056:O=33189:N.type===Fr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===Ko&&O===6402&&N.type!==Eu&&N.type!==Vo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=Vo,U=s.convert(N.type)),N.format===na&&O===6402&&(O=34041,N.type!==jo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=jo,U=s.convert(N.type))),He&&(Ke?t.texStorage2D(3553,1,O,ue.width,ue.height):t.texImage2D(3553,0,O,ue.width,ue.height,0,Oe,U,null));else if(N.isDataTexture)if(Se.length>0&&We){Ke&&He&&t.texStorage2D(3553,et,O,Se[0].width,Se[0].height);for(let De=0,ot=Se.length;De<ot;De++)fe=Se[De],Ke?t.texSubImage2D(3553,De,0,0,fe.width,fe.height,Oe,U,fe.data):t.texImage2D(3553,De,O,fe.width,fe.height,0,Oe,U,fe.data);N.generateMipmaps=!1}else Ke?(He&&t.texStorage2D(3553,et,O,ue.width,ue.height),t.texSubImage2D(3553,0,0,0,ue.width,ue.height,Oe,U,ue.data)):t.texImage2D(3553,0,O,ue.width,ue.height,0,Oe,U,ue.data);else if(N.isCompressedTexture){Ke&&He&&t.texStorage2D(3553,et,O,Se[0].width,Se[0].height);for(let De=0,ot=Se.length;De<ot;De++)fe=Se[De],N.format!==Bn?Oe!==null?Ke?t.compressedTexSubImage2D(3553,De,0,0,fe.width,fe.height,Oe,fe.data):t.compressedTexImage2D(3553,De,O,fe.width,fe.height,0,fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?t.texSubImage2D(3553,De,0,0,fe.width,fe.height,Oe,U,fe.data):t.texImage2D(3553,De,O,fe.width,fe.height,0,Oe,U,fe.data)}else if(N.isDataArrayTexture)Ke?(He&&t.texStorage3D(35866,et,O,ue.width,ue.height,ue.depth),t.texSubImage3D(35866,0,0,0,0,ue.width,ue.height,ue.depth,Oe,U,ue.data)):t.texImage3D(35866,0,O,ue.width,ue.height,ue.depth,0,Oe,U,ue.data);else if(N.isData3DTexture)Ke?(He&&t.texStorage3D(32879,et,O,ue.width,ue.height,ue.depth),t.texSubImage3D(32879,0,0,0,0,ue.width,ue.height,ue.depth,Oe,U,ue.data)):t.texImage3D(32879,0,O,ue.width,ue.height,ue.depth,0,Oe,U,ue.data);else if(N.isFramebufferTexture){if(He)if(Ke)t.texStorage2D(3553,et,O,ue.width,ue.height);else{let De=ue.width,ot=ue.height;for(let ht=0;ht<et;ht++)t.texImage2D(3553,ht,O,De,ot,0,Oe,U,null),De>>=1,ot>>=1}}else if(Se.length>0&&We){Ke&&He&&t.texStorage2D(3553,et,O,Se[0].width,Se[0].height);for(let De=0,ot=Se.length;De<ot;De++)fe=Se[De],Ke?t.texSubImage2D(3553,De,0,0,Oe,U,fe):t.texImage2D(3553,De,O,Oe,U,fe);N.generateMipmaps=!1}else Ke?(He&&t.texStorage2D(3553,et,O,ue.width,ue.height),t.texSubImage2D(3553,0,0,0,Oe,U,ue)):t.texImage2D(3553,0,O,Oe,U,ue);M(N,We)&&T(we),Be.__currentVersion=Be.version,N.onUpdate&&N.onUpdate(N)}W.__version=N.version}function Le(W,N,se){if(N.image.length!==6)return;const we=Ne(W,N),Te=N.source;if(t.activeTexture(33984+se),t.bindTexture(34067,W.__webglTexture),Te.version!==Te.__currentVersion||we===!0){n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const Be=N.isCompressedTexture||N.image[0].isCompressedTexture,Ue=N.image[0]&&N.image[0].isDataTexture,ue=[];for(let De=0;De<6;De++)!Be&&!Ue?ue[De]=E(N.image[De],!1,!0,c):ue[De]=Ue?N.image[De].image:N.image[De],ue[De]=rt(N,ue[De]);const We=ue[0],Oe=_(We)||a,U=s.convert(N.format,N.encoding),O=s.convert(N.type),fe=w(N.internalFormat,U,O,N.encoding),Se=a&&N.isVideoTexture!==!0,Ke=Te.__currentVersion===void 0||we===!0;let He=R(N,We,Oe);re(34067,N,Oe);let et;if(Be){Se&&Ke&&t.texStorage2D(34067,He,fe,We.width,We.height);for(let De=0;De<6;De++){et=ue[De].mipmaps;for(let ot=0;ot<et.length;ot++){const ht=et[ot];N.format!==Bn?U!==null?Se?t.compressedTexSubImage2D(34069+De,ot,0,0,ht.width,ht.height,U,ht.data):t.compressedTexImage2D(34069+De,ot,fe,ht.width,ht.height,0,ht.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Se?t.texSubImage2D(34069+De,ot,0,0,ht.width,ht.height,U,O,ht.data):t.texImage2D(34069+De,ot,fe,ht.width,ht.height,0,U,O,ht.data)}}}else{et=N.mipmaps,Se&&Ke&&(et.length>0&&He++,t.texStorage2D(34067,He,fe,ue[0].width,ue[0].height));for(let De=0;De<6;De++)if(Ue){Se?t.texSubImage2D(34069+De,0,0,0,ue[De].width,ue[De].height,U,O,ue[De].data):t.texImage2D(34069+De,0,fe,ue[De].width,ue[De].height,0,U,O,ue[De].data);for(let ot=0;ot<et.length;ot++){const dt=et[ot].image[De].image;Se?t.texSubImage2D(34069+De,ot+1,0,0,dt.width,dt.height,U,O,dt.data):t.texImage2D(34069+De,ot+1,fe,dt.width,dt.height,0,U,O,dt.data)}}else{Se?t.texSubImage2D(34069+De,0,0,0,U,O,ue[De]):t.texImage2D(34069+De,0,fe,U,O,ue[De]);for(let ot=0;ot<et.length;ot++){const ht=et[ot];Se?t.texSubImage2D(34069+De,ot+1,0,0,U,O,ht.image[De]):t.texImage2D(34069+De,ot+1,fe,U,O,ht.image[De])}}}M(N,Oe)&&T(34067),Te.__currentVersion=Te.version,N.onUpdate&&N.onUpdate(N)}W.__version=N.version}function ve(W,N,se,we,Te){const Be=s.convert(se.format,se.encoding),Ue=s.convert(se.type),ue=w(se.internalFormat,Be,Ue,se.encoding);r.get(N).__hasExternalTextures||(Te===32879||Te===35866?t.texImage3D(Te,0,ue,N.width,N.height,N.depth,0,Be,Ue,null):t.texImage2D(Te,0,ue,N.width,N.height,0,Be,Ue,null)),t.bindFramebuffer(36160,W),ze(N)?p.framebufferTexture2DMultisampleEXT(36160,we,Te,r.get(se).__webglTexture,0,je(N)):n.framebufferTexture2D(36160,we,Te,r.get(se).__webglTexture,0),t.bindFramebuffer(36160,null)}function xe(W,N,se){if(n.bindRenderbuffer(36161,W),N.depthBuffer&&!N.stencilBuffer){let we=33189;if(se||ze(N)){const Te=N.depthTexture;Te&&Te.isDepthTexture&&(Te.type===Fr?we=36012:Te.type===Vo&&(we=33190));const Be=je(N);ze(N)?p.renderbufferStorageMultisampleEXT(36161,Be,we,N.width,N.height):n.renderbufferStorageMultisample(36161,Be,we,N.width,N.height)}else n.renderbufferStorage(36161,we,N.width,N.height);n.framebufferRenderbuffer(36160,36096,36161,W)}else if(N.depthBuffer&&N.stencilBuffer){const we=je(N);se&&ze(N)===!1?n.renderbufferStorageMultisample(36161,we,35056,N.width,N.height):ze(N)?p.renderbufferStorageMultisampleEXT(36161,we,35056,N.width,N.height):n.renderbufferStorage(36161,34041,N.width,N.height),n.framebufferRenderbuffer(36160,33306,36161,W)}else{const we=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Te=0;Te<we.length;Te++){const Be=we[Te],Ue=s.convert(Be.format,Be.encoding),ue=s.convert(Be.type),We=w(Be.internalFormat,Ue,ue,Be.encoding),Oe=je(N);se&&ze(N)===!1?n.renderbufferStorageMultisample(36161,Oe,We,N.width,N.height):ze(N)?p.renderbufferStorageMultisampleEXT(36161,Oe,We,N.width,N.height):n.renderbufferStorage(36161,We,N.width,N.height)}}n.bindRenderbuffer(36161,null)}function oe(W,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,W),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),K(N.depthTexture,0);const we=r.get(N.depthTexture).__webglTexture,Te=je(N);if(N.depthTexture.format===Ko)ze(N)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,we,0,Te):n.framebufferTexture2D(36160,36096,3553,we,0);else if(N.depthTexture.format===na)ze(N)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,we,0,Te):n.framebufferTexture2D(36160,33306,3553,we,0);else throw new Error("Unknown depthTexture format")}function ne(W){const N=r.get(W),se=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!N.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");oe(N.__webglFramebuffer,W)}else if(se){N.__webglDepthbuffer=[];for(let we=0;we<6;we++)t.bindFramebuffer(36160,N.__webglFramebuffer[we]),N.__webglDepthbuffer[we]=n.createRenderbuffer(),xe(N.__webglDepthbuffer[we],W,!1)}else t.bindFramebuffer(36160,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),xe(N.__webglDepthbuffer,W,!1);t.bindFramebuffer(36160,null)}function Ce(W,N,se){const we=r.get(W);N!==void 0&&ve(we.__webglFramebuffer,W,W.texture,36064,3553),se!==void 0&&ne(W)}function Me(W){const N=W.texture,se=r.get(W),we=r.get(N);W.addEventListener("dispose",z),W.isWebGLMultipleRenderTargets!==!0&&(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=N.version,o.memory.textures++);const Te=W.isWebGLCubeRenderTarget===!0,Be=W.isWebGLMultipleRenderTargets===!0,Ue=_(W)||a;if(Te){se.__webglFramebuffer=[];for(let ue=0;ue<6;ue++)se.__webglFramebuffer[ue]=n.createFramebuffer()}else{if(se.__webglFramebuffer=n.createFramebuffer(),Be)if(i.drawBuffers){const ue=W.texture;for(let We=0,Oe=ue.length;We<Oe;We++){const U=r.get(ue[We]);U.__webglTexture===void 0&&(U.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&W.samples>0&&ze(W)===!1){const ue=Be?N:[N];se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,se.__webglMultisampledFramebuffer);for(let We=0;We<ue.length;We++){const Oe=ue[We];se.__webglColorRenderbuffer[We]=n.createRenderbuffer(),n.bindRenderbuffer(36161,se.__webglColorRenderbuffer[We]);const U=s.convert(Oe.format,Oe.encoding),O=s.convert(Oe.type),fe=w(Oe.internalFormat,U,O,Oe.encoding),Se=je(W);n.renderbufferStorageMultisample(36161,Se,fe,W.width,W.height),n.framebufferRenderbuffer(36160,36064+We,36161,se.__webglColorRenderbuffer[We])}n.bindRenderbuffer(36161,null),W.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),xe(se.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(36160,null)}}if(Te){t.bindTexture(34067,we.__webglTexture),re(34067,N,Ue);for(let ue=0;ue<6;ue++)ve(se.__webglFramebuffer[ue],W,N,36064,34069+ue);M(N,Ue)&&T(34067),t.unbindTexture()}else if(Be){const ue=W.texture;for(let We=0,Oe=ue.length;We<Oe;We++){const U=ue[We],O=r.get(U);t.bindTexture(3553,O.__webglTexture),re(3553,U,Ue),ve(se.__webglFramebuffer,W,U,36064+We,3553),M(U,Ue)&&T(3553)}t.unbindTexture()}else{let ue=3553;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(a?ue=W.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ue,we.__webglTexture),re(ue,N,Ue),ve(se.__webglFramebuffer,W,N,36064,ue),M(N,Ue)&&T(ue),t.unbindTexture()}W.depthBuffer&&ne(W)}function Fe(W){const N=_(W)||a,se=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let we=0,Te=se.length;we<Te;we++){const Be=se[we];if(M(Be,N)){const Ue=W.isWebGLCubeRenderTarget?34067:3553,ue=r.get(Be).__webglTexture;t.bindTexture(Ue,ue),T(Ue),t.unbindTexture()}}}function qe(W){if(a&&W.samples>0&&ze(W)===!1){const N=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],se=W.width,we=W.height;let Te=16384;const Be=[],Ue=W.stencilBuffer?33306:36096,ue=r.get(W),We=W.isWebGLMultipleRenderTargets===!0;if(We)for(let Oe=0;Oe<N.length;Oe++)t.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Oe,36161,null),t.bindFramebuffer(36160,ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Oe,3553,null,0);t.bindFramebuffer(36008,ue.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ue.__webglFramebuffer);for(let Oe=0;Oe<N.length;Oe++){Be.push(36064+Oe),W.depthBuffer&&Be.push(Ue);const U=ue.__ignoreDepthValues!==void 0?ue.__ignoreDepthValues:!1;if(U===!1&&(W.depthBuffer&&(Te|=256),W.stencilBuffer&&(Te|=1024)),We&&n.framebufferRenderbuffer(36008,36064,36161,ue.__webglColorRenderbuffer[Oe]),U===!0&&(n.invalidateFramebuffer(36008,[Ue]),n.invalidateFramebuffer(36009,[Ue])),We){const O=r.get(N[Oe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,O,0)}n.blitFramebuffer(0,0,se,we,0,0,se,we,Te,9728),m&&n.invalidateFramebuffer(36008,Be)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),We)for(let Oe=0;Oe<N.length;Oe++){t.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Oe,36161,ue.__webglColorRenderbuffer[Oe]);const U=r.get(N[Oe]).__webglTexture;t.bindFramebuffer(36160,ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Oe,3553,U,0)}t.bindFramebuffer(36009,ue.__webglMultisampledFramebuffer)}}function je(W){return Math.min(d,W.samples)}function ze(W){const N=r.get(W);return a&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function ct(W){const N=o.render.frame;g.get(W)!==N&&(g.set(W,N),W.update())}function rt(W,N){const se=W.encoding,we=W.format,Te=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===J0||se!==ra&&(se===an?a===!1?e.has("EXT_sRGB")===!0&&we===Bn?(W.format=J0,W.minFilter=tn,W.generateMipmaps=!1):N=Z5.sRGBToLinear(N):(we!==Bn||Te!==er)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",se)),N}this.allocateTextureUnit=G,this.resetTextureUnits=Y,this.setTexture2D=K,this.setTexture2DArray=ee,this.setTexture3D=X,this.setTextureCube=ae,this.rebindTextures=Ce,this.setupRenderTarget=Me,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=qe,this.setupDepthRenderbuffer=ne,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=ze}function CS(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===er)return 5121;if(s===XE)return 32819;if(s===$E)return 32820;if(s===KE)return 5120;if(s===qE)return 5122;if(s===Eu)return 5123;if(s===YE)return 5124;if(s===Vo)return 5125;if(s===Fr)return 5126;if(s===kn)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===ZE)return 6406;if(s===Bn)return 6408;if(s===K5)return 6409;if(s===tS)return 6410;if(s===Ko)return 6402;if(s===na)return 34041;if(s===al)return 6403;if(s===eS)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===J0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===nS)return 36244;if(s===wc)return 33319;if(s===rS)return 33320;if(s===iS)return 36249;if(s===kc||s===y0||s===x0||s===Nc)if(o===an)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===kc)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===y0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===x0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Nc)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===kc)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===y0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===x0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Nc)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===lh||s===h1||s===ch||s===d1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===lh)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===h1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===ch)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===d1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===sm)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===uh||s===fh)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===uh)return o===an?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===fh)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===hh||s===p1||s===m1||s===g1||s===A1||s===v1||s===y1||s===x1||s===C1||s===E1||s===S1||s===_1||s===b1||s===I1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===hh)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===p1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===m1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===g1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===A1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===v1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===y1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===x1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===C1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===E1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===S1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===_1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===b1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===I1)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===dh)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===dh)return o===an?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===jo?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class ES extends $t{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Zs extends Vt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hQ={type:"move"};class HA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new L,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new L),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new L,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new L),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(hQ))),c&&e.hand){o=!0;for(const A of e.hand.values()){const v=t.getJointPose(A,r);if(c.joints[A.jointName]===void 0){const x=new Zs;x.matrixAutoUpdate=!1,x.visible=!1,c.joints[A.jointName]=x,c.add(x)}const C=c.joints[A.jointName];v!==null&&(C.matrix.fromArray(v.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.jointRadius=v.radius),C.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,g=.005;c.inputState.pinching&&p>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class bu extends En{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Ko,u!==Ko&&u!==na)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Ko&&(r=Vo),r===void 0&&u===na&&(r=jo),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:At,this.minFilter=l!==void 0?l:At,this.flipY=!1,this.generateMipmaps=!1}}class dQ extends co{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,p=null,m=null;const g=t.getContextAttributes();let A=null,v=null;const C=[],x=new Map,E=new $t;E.layers.enable(1),E.viewport=new Nt;const _=new $t;_.layers.enable(2),_.viewport=new Nt;const I=[E,_],M=new ES;M.layers.enable(1),M.layers.enable(2);let T=null,w=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let K=C[j];return K===void 0&&(K=new HA,C[j]=K),K.getTargetRaySpace()},this.getControllerGrip=function(j){let K=C[j];return K===void 0&&(K=new HA,C[j]=K),K.getGripSpace()},this.getHand=function(j){let K=C[j];return K===void 0&&(K=new HA,C[j]=K),K.getHandSpace()};function R(j){const K=x.get(j.inputSource);K!==void 0&&K.dispatchEvent({type:j.type,data:j.inputSource})}function D(){i.removeEventListener("select",R),i.removeEventListener("selectstart",R),i.removeEventListener("selectend",R),i.removeEventListener("squeeze",R),i.removeEventListener("squeezestart",R),i.removeEventListener("squeezeend",R),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",P),x.forEach(function(j,K){j!==void 0&&j.disconnect(K)}),x.clear(),T=null,w=null,e.setRenderTarget(A),p=null,d=null,u=null,i=null,v=null,G.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){s=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){a=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(j){l=j},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(j){if(i=j,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",D),i.addEventListener("inputsourceschange",P),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const K={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,K),i.updateRenderState({baseLayer:p}),v=new Yt(p.framebufferWidth,p.framebufferHeight,{format:Bn,type:er,encoding:e.outputEncoding})}else{let K=null,ee=null,X=null;g.depth&&(X=g.stencil?35056:33190,K=g.stencil?na:Ko,ee=g.stencil?jo:Vo);const ae={colorFormat:e.outputEncoding===an?35907:32856,depthFormat:X,scaleFactor:s};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(ae),i.updateRenderState({layers:[d]}),v=new Yt(d.textureWidth,d.textureHeight,{format:Bn,type:er,depthTexture:new bu(d.textureWidth,d.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,K),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Ae=e.properties.get(v);Ae.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),G.setContext(i),G.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function P(j){const K=i.inputSources;for(let ee=0;ee<K.length;ee++){const X=K[ee].handedness==="right"?1:0;x.set(K[ee],C[X])}for(let ee=0;ee<j.removed.length;ee++){const X=j.removed[ee],ae=x.get(X);ae&&(ae.dispatchEvent({type:"disconnected",data:X}),x.delete(X))}for(let ee=0;ee<j.added.length;ee++){const X=j.added[ee],ae=x.get(X);ae&&ae.dispatchEvent({type:"connected",data:X})}}const z=new L,q=new L;function k(j,K,ee){z.setFromMatrixPosition(K.matrixWorld),q.setFromMatrixPosition(ee.matrixWorld);const X=z.distanceTo(q),ae=K.projectionMatrix.elements,Ae=ee.projectionMatrix.elements,_e=ae[14]/(ae[10]-1),re=ae[14]/(ae[10]+1),Ne=(ae[9]+1)/ae[5],Pe=(ae[9]-1)/ae[5],Le=(ae[8]-1)/ae[0],ve=(Ae[8]+1)/Ae[0],xe=_e*Le,oe=_e*ve,ne=X/(-Le+ve),Ce=ne*-Le;K.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Ce),j.translateZ(ne),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const Me=_e+ne,Fe=re+ne,qe=xe-Ce,je=oe+(X-Ce),ze=Ne*re/Fe*Me,ct=Pe*re/Fe*Me;j.projectionMatrix.makePerspective(qe,je,ze,ct,Me,Fe)}function Q(j,K){K===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(K.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(i===null)return;M.near=_.near=E.near=j.near,M.far=_.far=E.far=j.far,(T!==M.near||w!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),T=M.near,w=M.far);const K=j.parent,ee=M.cameras;Q(M,K);for(let ae=0;ae<ee.length;ae++)Q(ee[ae],K);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),j.position.copy(M.position),j.quaternion.copy(M.quaternion),j.scale.copy(M.scale),j.matrix.copy(M.matrix),j.matrixWorld.copy(M.matrixWorld);const X=j.children;for(let ae=0,Ae=X.length;ae<Ae;ae++)X[ae].updateMatrixWorld(!0);ee.length===2?k(M,E,_):M.projectionMatrix.copy(E.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(j){d!==null&&(d.fixedFoveation=j),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=j)};let V=null;function Y(j,K){if(c=K.getViewerPose(l||o),m=K,c!==null){const X=c.views;p!==null&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let ae=!1;X.length!==M.cameras.length&&(M.cameras.length=0,ae=!0);for(let Ae=0;Ae<X.length;Ae++){const _e=X[Ae];let re=null;if(p!==null)re=p.getViewport(_e);else{const Pe=u.getViewSubImage(d,_e);re=Pe.viewport,Ae===0&&(e.setRenderTargetTextures(v,Pe.colorTexture,d.ignoreDepthValues?void 0:Pe.depthStencilTexture),e.setRenderTarget(v))}let Ne=I[Ae];Ne===void 0&&(Ne=new $t,Ne.layers.enable(Ae),Ne.viewport=new Nt,I[Ae]=Ne),Ne.matrix.fromArray(_e.transform.matrix),Ne.projectionMatrix.fromArray(_e.projectionMatrix),Ne.viewport.set(re.x,re.y,re.width,re.height),Ae===0&&M.matrix.copy(Ne.matrix),ae===!0&&M.cameras.push(Ne)}}const ee=i.inputSources;for(let X=0;X<C.length;X++){const ae=ee[X],Ae=x.get(ae);Ae!==void 0&&Ae.update(ae,K,l||o)}V&&V(j,K),m=null}const G=new mS;G.setAnimationLoop(Y),this.setAnimationLoop=function(j){V=j},this.dispose=function(){}}}function pQ(n,e){function t(A,v){A.fogColor.value.copy(v.color),v.isFog?(A.fogNear.value=v.near,A.fogFar.value=v.far):v.isFogExp2&&(A.fogDensity.value=v.density)}function r(A,v,C,x,E){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(A,v):v.isMeshToonMaterial?(i(A,v),u(A,v)):v.isMeshPhongMaterial?(i(A,v),c(A,v)):v.isMeshStandardMaterial?(i(A,v),d(A,v),v.isMeshPhysicalMaterial&&p(A,v,E)):v.isMeshMatcapMaterial?(i(A,v),m(A,v)):v.isMeshDepthMaterial?i(A,v):v.isMeshDistanceMaterial?(i(A,v),g(A,v)):v.isMeshNormalMaterial?i(A,v):v.isLineBasicMaterial?(s(A,v),v.isLineDashedMaterial&&o(A,v)):v.isPointsMaterial?a(A,v,C,x):v.isSpriteMaterial?l(A,v):v.isShadowMaterial?(A.color.value.copy(v.color),A.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(A,v){A.opacity.value=v.opacity,v.color&&A.diffuse.value.copy(v.color),v.emissive&&A.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(A.map.value=v.map),v.alphaMap&&(A.alphaMap.value=v.alphaMap),v.bumpMap&&(A.bumpMap.value=v.bumpMap,A.bumpScale.value=v.bumpScale,v.side===Nr&&(A.bumpScale.value*=-1)),v.displacementMap&&(A.displacementMap.value=v.displacementMap,A.displacementScale.value=v.displacementScale,A.displacementBias.value=v.displacementBias),v.emissiveMap&&(A.emissiveMap.value=v.emissiveMap),v.normalMap&&(A.normalMap.value=v.normalMap,A.normalScale.value.copy(v.normalScale),v.side===Nr&&A.normalScale.value.negate()),v.specularMap&&(A.specularMap.value=v.specularMap),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest);const C=e.get(v).envMap;if(C&&(A.envMap.value=C,A.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=v.reflectivity,A.ior.value=v.ior,A.refractionRatio.value=v.refractionRatio),v.lightMap){A.lightMap.value=v.lightMap;const _=n.physicallyCorrectLights!==!0?Math.PI:1;A.lightMapIntensity.value=v.lightMapIntensity*_}v.aoMap&&(A.aoMap.value=v.aoMap,A.aoMapIntensity.value=v.aoMapIntensity);let x;v.map?x=v.map:v.specularMap?x=v.specularMap:v.displacementMap?x=v.displacementMap:v.normalMap?x=v.normalMap:v.bumpMap?x=v.bumpMap:v.roughnessMap?x=v.roughnessMap:v.metalnessMap?x=v.metalnessMap:v.alphaMap?x=v.alphaMap:v.emissiveMap?x=v.emissiveMap:v.clearcoatMap?x=v.clearcoatMap:v.clearcoatNormalMap?x=v.clearcoatNormalMap:v.clearcoatRoughnessMap?x=v.clearcoatRoughnessMap:v.iridescenceMap?x=v.iridescenceMap:v.iridescenceThicknessMap?x=v.iridescenceThicknessMap:v.specularIntensityMap?x=v.specularIntensityMap:v.specularColorMap?x=v.specularColorMap:v.transmissionMap?x=v.transmissionMap:v.thicknessMap?x=v.thicknessMap:v.sheenColorMap?x=v.sheenColorMap:v.sheenRoughnessMap&&(x=v.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),A.uvTransform.value.copy(x.matrix));let E;v.aoMap?E=v.aoMap:v.lightMap&&(E=v.lightMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),A.uv2Transform.value.copy(E.matrix))}function s(A,v){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity}function o(A,v){A.dashSize.value=v.dashSize,A.totalSize.value=v.dashSize+v.gapSize,A.scale.value=v.scale}function a(A,v,C,x){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity,A.size.value=v.size*C,A.scale.value=x*.5,v.map&&(A.map.value=v.map),v.alphaMap&&(A.alphaMap.value=v.alphaMap),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest);let E;v.map?E=v.map:v.alphaMap&&(E=v.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),A.uvTransform.value.copy(E.matrix))}function l(A,v){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity,A.rotation.value=v.rotation,v.map&&(A.map.value=v.map),v.alphaMap&&(A.alphaMap.value=v.alphaMap),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest);let C;v.map?C=v.map:v.alphaMap&&(C=v.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),A.uvTransform.value.copy(C.matrix))}function c(A,v){A.specular.value.copy(v.specular),A.shininess.value=Math.max(v.shininess,1e-4)}function u(A,v){v.gradientMap&&(A.gradientMap.value=v.gradientMap)}function d(A,v){A.roughness.value=v.roughness,A.metalness.value=v.metalness,v.roughnessMap&&(A.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(A.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(A.envMapIntensity.value=v.envMapIntensity)}function p(A,v,C){A.ior.value=v.ior,v.sheen>0&&(A.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),A.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(A.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(A.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(A.clearcoat.value=v.clearcoat,A.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(A.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),A.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===Nr&&A.clearcoatNormalScale.value.negate())),v.iridescence>0&&(A.iridescence.value=v.iridescence,A.iridescenceIOR.value=v.iridescenceIOR,A.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(A.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(A.transmission.value=v.transmission,A.transmissionSamplerMap.value=C.texture,A.transmissionSamplerSize.value.set(C.width,C.height),v.transmissionMap&&(A.transmissionMap.value=v.transmissionMap),A.thickness.value=v.thickness,v.thicknessMap&&(A.thicknessMap.value=v.thicknessMap),A.attenuationDistance.value=v.attenuationDistance,A.attenuationColor.value.copy(v.attenuationColor)),A.specularIntensity.value=v.specularIntensity,A.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(A.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(A.specularColorMap.value=v.specularColorMap)}function m(A,v){v.matcap&&(A.matcap.value=v.matcap)}function g(A,v){A.referencePosition.value.copy(v.referencePosition),A.nearDistance.value=v.nearDistance,A.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function mQ(){const n=gh("canvas");return n.style.display="block",n}function hm(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:mQ(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,p=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ra,this.physicallyCorrectLights=!1,this.toneMapping=$r,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const A=this;let v=!1,C=0,x=0,E=null,_=-1,I=null;const M=new Nt,T=new Nt;let w=null,R=e.width,D=e.height,P=1,z=null,q=null;const k=new Nt(0,0,R,D),Q=new Nt(0,0,R,D);let V=!1;const Y=new cm;let G=!1,j=!1,K=null;const ee=new tt,X=new he,ae=new L,Ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return E===null?P:1}let re=t;function Ne(H,ce){for(let me=0;me<H.length;me++){const de=H[me],be=e.getContext(de,ce);if(be!==null)return be}return null}try{const H={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${lo}`),e.addEventListener("webglcontextlost",O,!1),e.addEventListener("webglcontextrestored",fe,!1),e.addEventListener("webglcontextcreationerror",Se,!1),re===null){const ce=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&ce.shift(),re=Ne(ce,H),re===null)throw Ne(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}re.getShaderPrecisionFormat===void 0&&(re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let Pe,Le,ve,xe,oe,ne,Ce,Me,Fe,qe,je,ze,ct,rt,W,N,se,we,Te,Be,Ue,ue,We;function Oe(){Pe=new RU(re),Le=new bU(re,Pe,n),Pe.init(Le),ue=new CS(re,Pe,Le),ve=new uQ(re,Pe,Le),xe=new LU,oe=new $G,ne=new fQ(re,Pe,ve,oe,Le,ue,xe),Ce=new wU(A),Me=new BU(A),Fe=new Jk(re,Le),We=new SU(re,Pe,Fe,Le),qe=new PU(re,Fe,xe,We),je=new OU(re,qe,Fe,xe),Te=new NU(re,Le,ne),N=new IU(oe),ze=new XG(A,Ce,Me,Pe,Le,We,N),ct=new pQ(A,oe),rt=new eQ,W=new oQ(Pe,Le),we=new EU(A,Ce,ve,je,u,o),se=new cQ(A,je,Le),Be=new _U(re,Pe,xe,Le),Ue=new DU(re,Pe,xe,Le),xe.programs=ze.programs,A.capabilities=Le,A.extensions=Pe,A.properties=oe,A.renderLists=rt,A.shadowMap=se,A.state=ve,A.info=xe}Oe();const U=new dQ(A,re);this.xr=U,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const H=Pe.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Pe.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(H){H!==void 0&&(P=H,this.setSize(R,D,!1))},this.getSize=function(H){return H.set(R,D)},this.setSize=function(H,ce,me){if(U.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=H,D=ce,e.width=Math.floor(H*P),e.height=Math.floor(ce*P),me!==!1&&(e.style.width=H+"px",e.style.height=ce+"px"),this.setViewport(0,0,H,ce)},this.getDrawingBufferSize=function(H){return H.set(R*P,D*P).floor()},this.setDrawingBufferSize=function(H,ce,me){R=H,D=ce,P=me,e.width=Math.floor(H*me),e.height=Math.floor(ce*me),this.setViewport(0,0,H,ce)},this.getCurrentViewport=function(H){return H.copy(M)},this.getViewport=function(H){return H.copy(k)},this.setViewport=function(H,ce,me,de){H.isVector4?k.set(H.x,H.y,H.z,H.w):k.set(H,ce,me,de),ve.viewport(M.copy(k).multiplyScalar(P).floor())},this.getScissor=function(H){return H.copy(Q)},this.setScissor=function(H,ce,me,de){H.isVector4?Q.set(H.x,H.y,H.z,H.w):Q.set(H,ce,me,de),ve.scissor(T.copy(Q).multiplyScalar(P).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(H){ve.setScissorTest(V=H)},this.setOpaqueSort=function(H){z=H},this.setTransparentSort=function(H){q=H},this.getClearColor=function(H){return H.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(H=!0,ce=!0,me=!0){let de=0;H&&(de|=16384),ce&&(de|=256),me&&(de|=1024),re.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",O,!1),e.removeEventListener("webglcontextrestored",fe,!1),e.removeEventListener("webglcontextcreationerror",Se,!1),rt.dispose(),W.dispose(),oe.dispose(),Ce.dispose(),Me.dispose(),je.dispose(),We.dispose(),ze.dispose(),U.dispose(),U.removeEventListener("sessionstart",ht),U.removeEventListener("sessionend",dt),K&&(K.dispose(),K=null),sr.stop()};function O(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function fe(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const H=xe.autoReset,ce=se.enabled,me=se.autoUpdate,de=se.needsUpdate,be=se.type;Oe(),xe.autoReset=H,se.enabled=ce,se.autoUpdate=me,se.needsUpdate=de,se.type=be}function Se(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function Ke(H){const ce=H.target;ce.removeEventListener("dispose",Ke),He(ce)}function He(H){et(H),oe.remove(H)}function et(H){const ce=oe.get(H).programs;ce!==void 0&&(ce.forEach(function(me){ze.releaseProgram(me)}),H.isShaderMaterial&&ze.releaseShaderCache(H))}this.renderBufferDirect=function(H,ce,me,de,be,pt){ce===null&&(ce=Ae);const yt=be.isMesh&&be.matrixWorld.determinant()<0,It=eg(H,ce,me,de,be);ve.setMaterial(de,yt);let bt=me.index;const Wt=me.attributes.position;if(bt===null){if(Wt===void 0||Wt.count===0)return}else if(bt.count===0)return;let Rt=1;de.wireframe===!0&&(bt=qe.getWireframeAttribute(me),Rt=2),We.setup(be,de,It,me,bt);let Lt,hn=Be;bt!==null&&(Lt=Fe.get(bt),hn=Ue,hn.setIndex(Lt));const Os=bt!==null?bt.count:Wt.count,mo=me.drawRange.start*Rt,go=me.drawRange.count*Rt,ai=pt!==null?pt.start*Rt:0,Ft=pt!==null?pt.count*Rt:1/0,li=Math.max(mo,ai),dn=Math.min(Os,mo+go,ai+Ft)-1,Tr=Math.max(0,dn-li+1);if(Tr!==0){if(be.isMesh)de.wireframe===!0?(ve.setLineWidth(de.wireframeLinewidth*_e()),hn.setMode(1)):hn.setMode(4);else if(be.isLine){let ss=de.linewidth;ss===void 0&&(ss=1),ve.setLineWidth(ss*_e()),be.isLineSegments?hn.setMode(1):be.isLineLoop?hn.setMode(2):hn.setMode(3)}else be.isPoints?hn.setMode(0):be.isSprite&&hn.setMode(4);if(be.isInstancedMesh)hn.renderInstances(li,Tr,be.count);else if(me.isInstancedBufferGeometry){const ss=Math.min(me.instanceCount,me._maxInstanceCount);hn.renderInstances(li,Tr,ss)}else hn.render(li,Tr)}},this.compile=function(H,ce){p=W.get(H),p.init(),g.push(p),H.traverseVisible(function(me){me.isLight&&me.layers.test(ce.layers)&&(p.pushLight(me),me.castShadow&&p.pushShadow(me))}),p.setupLights(A.physicallyCorrectLights),H.traverse(function(me){const de=me.material;if(de)if(Array.isArray(de))for(let be=0;be<de.length;be++){const pt=de[be];Fl(pt,H,me)}else Fl(de,H,me)}),g.pop(),p=null};let De=null;function ot(H){De&&De(H)}function ht(){sr.stop()}function dt(){sr.start()}const sr=new mS;sr.setAnimationLoop(ot),typeof self<"u"&&sr.setContext(self),this.setAnimationLoop=function(H){De=H,U.setAnimationLoop(H),H===null?sr.stop():sr.start()},U.addEventListener("sessionstart",ht),U.addEventListener("sessionend",dt),this.render=function(H,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;H.autoUpdate===!0&&H.updateMatrixWorld(),ce.parent===null&&ce.updateMatrixWorld(),U.enabled===!0&&U.isPresenting===!0&&(U.cameraAutoUpdate===!0&&U.updateCamera(ce),ce=U.getCamera()),H.isScene===!0&&H.onBeforeRender(A,H,ce,E),p=W.get(H,g.length),p.init(),g.push(p),ee.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),Y.setFromProjectionMatrix(ee),j=this.localClippingEnabled,G=N.init(this.clippingPlanes,j,ce),d=rt.get(H,m.length),d.init(),m.push(d),Qr(H,ce,0,A.sortObjects),d.finish(),A.sortObjects===!0&&d.sort(z,q),G===!0&&N.beginShadows();const me=p.state.shadowsArray;if(se.render(me,H,ce),G===!0&&N.endShadows(),this.info.autoReset===!0&&this.info.reset(),we.render(d,H),p.setupLights(A.physicallyCorrectLights),ce.isArrayCamera){const de=ce.cameras;for(let be=0,pt=de.length;be<pt;be++){const yt=de[be];Du(d,H,yt,yt.viewport)}}else Du(d,H,ce);E!==null&&(ne.updateMultisampleRenderTarget(E),ne.updateRenderTargetMipmap(E)),H.isScene===!0&&H.onAfterRender(A,H,ce),We.resetDefaultState(),_=-1,I=null,g.pop(),g.length>0?p=g[g.length-1]:p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function Qr(H,ce,me,de){if(H.visible===!1)return;if(H.layers.test(ce.layers)){if(H.isGroup)me=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ce);else if(H.isLight)p.pushLight(H),H.castShadow&&p.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||Y.intersectsSprite(H)){de&&ae.setFromMatrixPosition(H.matrixWorld).applyMatrix4(ee);const yt=je.update(H),It=H.material;It.visible&&d.push(H,yt,It,me,ae.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(H.isSkinnedMesh&&H.skeleton.frame!==xe.render.frame&&(H.skeleton.update(),H.skeleton.frame=xe.render.frame),!H.frustumCulled||Y.intersectsObject(H))){de&&ae.setFromMatrixPosition(H.matrixWorld).applyMatrix4(ee);const yt=je.update(H),It=H.material;if(Array.isArray(It)){const bt=yt.groups;for(let Wt=0,Rt=bt.length;Wt<Rt;Wt++){const Lt=bt[Wt],hn=It[Lt.materialIndex];hn&&hn.visible&&d.push(H,yt,hn,me,ae.z,Lt)}}else It.visible&&d.push(H,yt,It,me,ae.z,null)}}const pt=H.children;for(let yt=0,It=pt.length;yt<It;yt++)Qr(pt[yt],ce,me,de)}function Du(H,ce,me,de){const be=H.opaque,pt=H.transmissive,yt=H.transparent;p.setupLightsView(me),pt.length>0&&Zm(be,ce,me),de&&ve.viewport(M.copy(de)),be.length>0&&_a(be,ce,me),pt.length>0&&_a(pt,ce,me),yt.length>0&&_a(yt,ce,me),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function Zm(H,ce,me){const de=Le.isWebGL2;K===null&&(K=new Yt(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")?kn:er,minFilter:Yi,samples:de&&s===!0?4:0})),A.getDrawingBufferSize(X),de?K.setSize(X.x,X.y):K.setSize(j0(X.x),j0(X.y));const be=A.getRenderTarget();A.setRenderTarget(K),A.clear();const pt=A.toneMapping;A.toneMapping=$r,_a(H,ce,me),A.toneMapping=pt,ne.updateMultisampleRenderTarget(K),ne.updateRenderTargetMipmap(K),A.setRenderTarget(be)}function _a(H,ce,me){const de=ce.isScene===!0?ce.overrideMaterial:null;for(let be=0,pt=H.length;be<pt;be++){const yt=H[be],It=yt.object,bt=yt.geometry,Wt=de===null?yt.material:de,Rt=yt.group;It.layers.test(me.layers)&&dd(It,ce,me,bt,Wt,Rt)}}function dd(H,ce,me,de,be,pt){H.onBeforeRender(A,ce,me,de,be,pt),H.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),be.onBeforeRender(A,ce,me,de,H,pt),be.transparent===!0&&be.side===ro?(be.side=Nr,be.needsUpdate=!0,A.renderBufferDirect(me,ce,de,be,H,pt),be.side=Zo,be.needsUpdate=!0,A.renderBufferDirect(me,ce,de,be,H,pt),be.side=ro):A.renderBufferDirect(me,ce,de,be,H,pt),H.onAfterRender(A,ce,me,de,be,pt)}function Fl(H,ce,me){ce.isScene!==!0&&(ce=Ae);const de=oe.get(H),be=p.state.lights,pt=p.state.shadowsArray,yt=be.state.version,It=ze.getParameters(H,be.state,pt,ce,me),bt=ze.getProgramCacheKey(It);let Wt=de.programs;de.environment=H.isMeshStandardMaterial?ce.environment:null,de.fog=ce.fog,de.envMap=(H.isMeshStandardMaterial?Me:Ce).get(H.envMap||de.environment),Wt===void 0&&(H.addEventListener("dispose",Ke),Wt=new Map,de.programs=Wt);let Rt=Wt.get(bt);if(Rt!==void 0){if(de.currentProgram===Rt&&de.lightsStateVersion===yt)return pd(H,It),Rt}else It.uniforms=ze.getUniforms(H),H.onBuild(me,It,A),H.onBeforeCompile(It,A),Rt=ze.acquireProgram(It,bt),Wt.set(bt,Rt),de.uniforms=It.uniforms;const Lt=de.uniforms;(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Lt.clippingPlanes=N.uniform),pd(H,It),de.needsLights=md(H),de.lightsStateVersion=yt,de.needsLights&&(Lt.ambientLightColor.value=be.state.ambient,Lt.lightProbe.value=be.state.probe,Lt.directionalLights.value=be.state.directional,Lt.directionalLightShadows.value=be.state.directionalShadow,Lt.spotLights.value=be.state.spot,Lt.spotLightShadows.value=be.state.spotShadow,Lt.rectAreaLights.value=be.state.rectArea,Lt.ltc_1.value=be.state.rectAreaLTC1,Lt.ltc_2.value=be.state.rectAreaLTC2,Lt.pointLights.value=be.state.point,Lt.pointLightShadows.value=be.state.pointShadow,Lt.hemisphereLights.value=be.state.hemi,Lt.directionalShadowMap.value=be.state.directionalShadowMap,Lt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Lt.spotShadowMap.value=be.state.spotShadowMap,Lt.spotShadowMatrix.value=be.state.spotShadowMatrix,Lt.pointShadowMap.value=be.state.pointShadowMap,Lt.pointShadowMatrix.value=be.state.pointShadowMatrix);const hn=Rt.getUniforms(),Os=b0.seqWithValue(hn.seq,Lt);return de.currentProgram=Rt,de.uniformsList=Os,Rt}function pd(H,ce){const me=oe.get(H);me.outputEncoding=ce.outputEncoding,me.instancing=ce.instancing,me.skinning=ce.skinning,me.morphTargets=ce.morphTargets,me.morphNormals=ce.morphNormals,me.morphColors=ce.morphColors,me.morphTargetsCount=ce.morphTargetsCount,me.numClippingPlanes=ce.numClippingPlanes,me.numIntersection=ce.numClipIntersection,me.vertexAlphas=ce.vertexAlphas,me.vertexTangents=ce.vertexTangents,me.toneMapping=ce.toneMapping}function eg(H,ce,me,de,be){ce.isScene!==!0&&(ce=Ae),ne.resetTextureUnits();const pt=ce.fog,yt=de.isMeshStandardMaterial?ce.environment:null,It=E===null?A.outputEncoding:E.isXRRenderTarget===!0?E.texture.encoding:ra,bt=(de.isMeshStandardMaterial?Me:Ce).get(de.envMap||yt),Wt=de.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,Rt=!!de.normalMap&&!!me.attributes.tangent,Lt=!!me.morphAttributes.position,hn=!!me.morphAttributes.normal,Os=!!me.morphAttributes.color,mo=de.toneMapped?A.toneMapping:$r,go=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,ai=go!==void 0?go.length:0,Ft=oe.get(de),li=p.state.lights;if(G===!0&&(j===!0||H!==I)){const Gn=H===I&&de.id===_;N.setState(de,H,Gn)}let dn=!1;de.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==li.state.version||Ft.outputEncoding!==It||be.isInstancedMesh&&Ft.instancing===!1||!be.isInstancedMesh&&Ft.instancing===!0||be.isSkinnedMesh&&Ft.skinning===!1||!be.isSkinnedMesh&&Ft.skinning===!0||Ft.envMap!==bt||de.fog===!0&&Ft.fog!==pt||Ft.numClippingPlanes!==void 0&&(Ft.numClippingPlanes!==N.numPlanes||Ft.numIntersection!==N.numIntersection)||Ft.vertexAlphas!==Wt||Ft.vertexTangents!==Rt||Ft.morphTargets!==Lt||Ft.morphNormals!==hn||Ft.morphColors!==Os||Ft.toneMapping!==mo||Le.isWebGL2===!0&&Ft.morphTargetsCount!==ai)&&(dn=!0):(dn=!0,Ft.__version=de.version);let Tr=Ft.currentProgram;dn===!0&&(Tr=Fl(de,ce,be));let ss=!1,Us=!1,os=!1;const pn=Tr.getUniforms(),Jt=Ft.uniforms;if(ve.useProgram(Tr.program)&&(ss=!0,Us=!0,os=!0),de.id!==_&&(_=de.id,Us=!0),ss||I!==H){if(pn.setValue(re,"projectionMatrix",H.projectionMatrix),Le.logarithmicDepthBuffer&&pn.setValue(re,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),I!==H&&(I=H,Us=!0,os=!0),de.isShaderMaterial||de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshStandardMaterial||de.envMap){const Gn=pn.map.cameraPosition;Gn!==void 0&&Gn.setValue(re,ae.setFromMatrixPosition(H.matrixWorld))}(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&pn.setValue(re,"isOrthographic",H.isOrthographicCamera===!0),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial||de.isShadowMaterial||be.isSkinnedMesh)&&pn.setValue(re,"viewMatrix",H.matrixWorldInverse)}if(be.isSkinnedMesh){pn.setOptional(re,be,"bindMatrix"),pn.setOptional(re,be,"bindMatrixInverse");const Gn=be.skeleton;Gn&&(Le.floatVertexTextures?(Gn.boneTexture===null&&Gn.computeBoneTexture(),pn.setValue(re,"boneTexture",Gn.boneTexture,ne),pn.setValue(re,"boneTextureSize",Gn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const jt=me.morphAttributes;return(jt.position!==void 0||jt.normal!==void 0||jt.color!==void 0&&Le.isWebGL2===!0)&&Te.update(be,me,de,Tr),(Us||Ft.receiveShadow!==be.receiveShadow)&&(Ft.receiveShadow=be.receiveShadow,pn.setValue(re,"receiveShadow",be.receiveShadow)),Us&&(pn.setValue(re,"toneMappingExposure",A.toneMappingExposure),Ft.needsLights&&tg(Jt,os),pt&&de.fog===!0&&ct.refreshFogUniforms(Jt,pt),ct.refreshMaterialUniforms(Jt,de,P,D,K),b0.upload(re,Ft.uniformsList,Jt,ne)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(b0.upload(re,Ft.uniformsList,Jt,ne),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&pn.setValue(re,"center",be.center),pn.setValue(re,"modelViewMatrix",be.modelViewMatrix),pn.setValue(re,"normalMatrix",be.normalMatrix),pn.setValue(re,"modelMatrix",be.matrixWorld),Tr}function tg(H,ce){H.ambientLightColor.needsUpdate=ce,H.lightProbe.needsUpdate=ce,H.directionalLights.needsUpdate=ce,H.directionalLightShadows.needsUpdate=ce,H.pointLights.needsUpdate=ce,H.pointLightShadows.needsUpdate=ce,H.spotLights.needsUpdate=ce,H.spotLightShadows.needsUpdate=ce,H.rectAreaLights.needsUpdate=ce,H.hemisphereLights.needsUpdate=ce}function md(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(H,ce,me){oe.get(H.texture).__webglTexture=ce,oe.get(H.depthTexture).__webglTexture=me;const de=oe.get(H);de.__hasExternalTextures=!0,de.__hasExternalTextures&&(de.__autoAllocateDepthBuffer=me===void 0,de.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),de.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,ce){const me=oe.get(H);me.__webglFramebuffer=ce,me.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function(H,ce=0,me=0){E=H,C=ce,x=me;let de=!0;if(H){const bt=oe.get(H);bt.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(36160,null),de=!1):bt.__webglFramebuffer===void 0?ne.setupRenderTarget(H):bt.__hasExternalTextures&&ne.rebindTextures(H,oe.get(H.texture).__webglTexture,oe.get(H.depthTexture).__webglTexture)}let be=null,pt=!1,yt=!1;if(H){const bt=H.texture;(bt.isData3DTexture||bt.isDataArrayTexture)&&(yt=!0);const Wt=oe.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(be=Wt[ce],pt=!0):Le.isWebGL2&&H.samples>0&&ne.useMultisampledRTT(H)===!1?be=oe.get(H).__webglMultisampledFramebuffer:be=Wt,M.copy(H.viewport),T.copy(H.scissor),w=H.scissorTest}else M.copy(k).multiplyScalar(P).floor(),T.copy(Q).multiplyScalar(P).floor(),w=V;if(ve.bindFramebuffer(36160,be)&&Le.drawBuffers&&de&&ve.drawBuffers(H,be),ve.viewport(M),ve.scissor(T),ve.setScissorTest(w),pt){const bt=oe.get(H.texture);re.framebufferTexture2D(36160,36064,34069+ce,bt.__webglTexture,me)}else if(yt){const bt=oe.get(H.texture),Wt=ce||0;re.framebufferTextureLayer(36160,36064,bt.__webglTexture,me||0,Wt)}_=-1},this.readRenderTargetPixels=function(H,ce,me,de,be,pt,yt){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let It=oe.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&yt!==void 0&&(It=It[yt]),It){ve.bindFramebuffer(36160,It);try{const bt=H.texture,Wt=bt.format,Rt=bt.type;if(Wt!==Bn&&ue.convert(Wt)!==re.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Lt=Rt===kn&&(Pe.has("EXT_color_buffer_half_float")||Le.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(Rt!==er&&ue.convert(Rt)!==re.getParameter(35738)&&!(Rt===Fr&&(Le.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!Lt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=H.width-de&&me>=0&&me<=H.height-be&&re.readPixels(ce,me,de,be,ue.convert(Wt),ue.convert(Rt),pt)}finally{const bt=E!==null?oe.get(E).__webglFramebuffer:null;ve.bindFramebuffer(36160,bt)}}},this.copyFramebufferToTexture=function(H,ce,me=0){const de=Math.pow(2,-me),be=Math.floor(ce.image.width*de),pt=Math.floor(ce.image.height*de);ne.setTexture2D(ce,0),re.copyTexSubImage2D(3553,me,0,0,H.x,H.y,be,pt),ve.unbindTexture()},this.copyTextureToTexture=function(H,ce,me,de=0){const be=ce.image.width,pt=ce.image.height,yt=ue.convert(me.format),It=ue.convert(me.type);ne.setTexture2D(me,0),re.pixelStorei(37440,me.flipY),re.pixelStorei(37441,me.premultiplyAlpha),re.pixelStorei(3317,me.unpackAlignment),ce.isDataTexture?re.texSubImage2D(3553,de,H.x,H.y,be,pt,yt,It,ce.image.data):ce.isCompressedTexture?re.compressedTexSubImage2D(3553,de,H.x,H.y,ce.mipmaps[0].width,ce.mipmaps[0].height,yt,ce.mipmaps[0].data):re.texSubImage2D(3553,de,H.x,H.y,yt,It,ce.image),de===0&&me.generateMipmaps&&re.generateMipmap(3553),ve.unbindTexture()},this.copyTextureToTexture3D=function(H,ce,me,de,be=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const pt=H.max.x-H.min.x+1,yt=H.max.y-H.min.y+1,It=H.max.z-H.min.z+1,bt=ue.convert(de.format),Wt=ue.convert(de.type);let Rt;if(de.isData3DTexture)ne.setTexture3D(de,0),Rt=32879;else if(de.isDataArrayTexture)ne.setTexture2DArray(de,0),Rt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}re.pixelStorei(37440,de.flipY),re.pixelStorei(37441,de.premultiplyAlpha),re.pixelStorei(3317,de.unpackAlignment);const Lt=re.getParameter(3314),hn=re.getParameter(32878),Os=re.getParameter(3316),mo=re.getParameter(3315),go=re.getParameter(32877),ai=me.isCompressedTexture?me.mipmaps[0]:me.image;re.pixelStorei(3314,ai.width),re.pixelStorei(32878,ai.height),re.pixelStorei(3316,H.min.x),re.pixelStorei(3315,H.min.y),re.pixelStorei(32877,H.min.z),me.isDataTexture||me.isData3DTexture?re.texSubImage3D(Rt,be,ce.x,ce.y,ce.z,pt,yt,It,bt,Wt,ai.data):me.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),re.compressedTexSubImage3D(Rt,be,ce.x,ce.y,ce.z,pt,yt,It,bt,ai.data)):re.texSubImage3D(Rt,be,ce.x,ce.y,ce.z,pt,yt,It,bt,Wt,ai),re.pixelStorei(3314,Lt),re.pixelStorei(32878,hn),re.pixelStorei(3316,Os),re.pixelStorei(3315,mo),re.pixelStorei(32877,go),be===0&&de.generateMipmaps&&re.generateMipmap(Rt),ve.unbindTexture()},this.initTexture=function(H){ne.setTexture2D(H,0),ve.unbindTexture()},this.resetState=function(){C=0,x=0,E=null,ve.reset(),We.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class SS extends hm{}SS.prototype.isWebGL1Renderer=!0;class dm{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Re(e),this.density=t}clone(){return new dm(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class pm{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Re(e),this.near=t,this.far=r}clone(){return new pm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Ah extends Vt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}class Hh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=W0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Er=new L;class sa{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Er.fromBufferAttribute(this,t),Er.applyMatrix4(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Er.fromBufferAttribute(this,t),Er.applyNormalMatrix(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Er.fromBufferAttribute(this,t),Er.transformDirection(e),this.setXYZ(t,Er.x,Er.y,Er.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new zt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new sa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sv extends xn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let pc;const lf=new L,mc=new L,gc=new L,Ac=new he,cf=new he,_S=new tt,Rp=new L,uf=new L,Pp=new L,P4=new he,zA=new he,D4=new he;class bS extends Vt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",pc===void 0){pc=new mt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Hh(t,5);pc.setIndex([0,1,2,0,2,3]),pc.setAttribute("position",new sa(r,3,0,!1)),pc.setAttribute("uv",new sa(r,2,3,!1))}this.geometry=pc,this.material=e!==void 0?e:new sv,this.center=new he(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),mc.setFromMatrixScale(this.matrixWorld),_S.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&mc.multiplyScalar(-gc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Dp(Rp.set(-.5,-.5,0),gc,o,mc,i,s),Dp(uf.set(.5,-.5,0),gc,o,mc,i,s),Dp(Pp.set(.5,.5,0),gc,o,mc,i,s),P4.set(0,0),zA.set(1,0),D4.set(1,1);let a=e.ray.intersectTriangle(Rp,uf,Pp,!1,lf);if(a===null&&(Dp(uf.set(-.5,.5,0),gc,o,mc,i,s),zA.set(0,1),a=e.ray.intersectTriangle(Rp,Pp,uf,!1,lf),a===null))return;const l=e.ray.origin.distanceTo(lf);l<e.near||l>e.far||t.push({distance:l,point:lf.clone(),uv:Ei.getUV(lf,Rp,uf,Pp,P4,zA,D4,new he),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Dp(n,e,t,r,i,s){Ac.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(cf.x=s*Ac.x-i*Ac.y,cf.y=i*Ac.x+s*Ac.y):cf.copy(Ac),n.copy(e),n.x+=cf.x,n.y+=cf.y,n.applyMatrix4(_S)}const Lp=new L,L4=new L;class IS extends Vt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Lp.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Lp);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Lp.setFromMatrixPosition(e.matrixWorld),L4.setFromMatrixPosition(this.matrixWorld);const r=Lp.distanceTo(L4)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const F4=new L,k4=new Nt,N4=new Nt,gQ=new L,O4=new tt;class ov extends Kt{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new tt,this.bindMatrixInverse=new tt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Nt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;k4.fromBufferAttribute(i.attributes.skinIndex,e),N4.fromBufferAttribute(i.attributes.skinWeight,e),F4.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=N4.getComponent(s);if(o!==0){const a=k4.getComponent(s);O4.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(gQ.copy(F4).applyMatrix4(O4),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class mm extends Vt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Es extends En{constructor(e=null,t=1,r=1,i,s,o,a,l,c=At,u=At,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const U4=new tt,AQ=new tt;class zh{constructor(e=[],t=[]){this.uuid=Zr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new tt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new tt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:AQ;U4.multiplyMatrices(a,t[s]),U4.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new zh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=hS(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Es(t,e,e,Bn,Fr);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new mm),this.bones.push(o),this.boneInverses.push(new tt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class qc extends zt{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const G4=new tt,Q4=new tt,Fp=[],ff=new Kt;class av extends Kt{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new qc(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(ff.geometry=this.geometry,ff.material=this.material,ff.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,G4),Q4.multiplyMatrices(r,G4),ff.matrixWorld=Q4,ff.raycast(e,Fp);for(let o=0,a=Fp.length;o<a;o++){const l=Fp[o];l.instanceId=s,l.object=this,t.push(l)}Fp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new qc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class yr extends xn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Re(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const H4=new L,z4=new L,V4=new tt,VA=new Uh,kp=new va;class io extends Vt{constructor(e=new mt,t=new yr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)H4.fromBufferAttribute(t,i-1),z4.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=H4.distanceTo(z4);e.setAttribute("lineDistance",new Ze(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),kp.copy(r.boundingSphere),kp.applyMatrix4(i),kp.radius+=s,e.ray.intersectsSphere(kp)===!1)return;V4.copy(i).invert(),VA.copy(e.ray).applyMatrix4(V4);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new L,u=new L,d=new L,p=new L,m=this.isLineSegments?2:1,g=r.index,v=r.attributes.position;if(g!==null){const C=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let E=C,_=x-1;E<_;E+=m){const I=g.getX(E),M=g.getX(E+1);if(c.fromBufferAttribute(v,I),u.fromBufferAttribute(v,M),VA.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(p);w<e.near||w>e.far||t.push({distance:w,point:d.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const C=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let E=C,_=x-1;E<_;E+=m){if(c.fromBufferAttribute(v,E),u.fromBufferAttribute(v,E+1),VA.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(p);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const W4=new L,J4=new L;class Xi extends io{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)W4.fromBufferAttribute(t,i),J4.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+W4.distanceTo(J4);e.setAttribute("lineDistance",new Ze(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class lv extends io{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class gm extends xn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const j4=new tt,R1=new Uh,Np=new va,Op=new L;class Am extends Vt{constructor(e=new mt,t=new gm){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Np.copy(r.boundingSphere),Np.applyMatrix4(i),Np.radius+=s,e.ray.intersectsSphere(Np)===!1)return;j4.copy(i).invert(),R1.copy(e.ray).applyMatrix4(j4);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=p,A=m;g<A;g++){const v=c.getX(g);Op.fromBufferAttribute(d,v),K4(Op,v,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=p,A=m;g<A;g++)Op.fromBufferAttribute(d,g),K4(Op,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function K4(n,e,t,r,i,s,o){const a=R1.distanceSqToPoint(n);if(a<t){const l=new L;R1.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class vQ extends En{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:tn,this.magFilter=s!==void 0?s:tn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yQ extends En{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=At,this.minFilter=At,this.generateMipmaps=!1,this.needsUpdate=!0}}class Yc extends En{constructor(e,t,r,i,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xQ extends En{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $i{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new he:new L);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new L,i=[],s=[],o=[],a=new L,l=new tt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new L)}s[0]=new L,o[0]=new L;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Fn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Fn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class vm extends $i{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new he,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wS extends vm{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function cv(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Up=new L,WA=new cv,JA=new cv,jA=new cv;class MS extends $i{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new L){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Up.subVectors(i[0],i[1]).add(i[0]),c=Up);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Up.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Up),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),m),A=Math.pow(d.distanceToSquared(p),m),v=Math.pow(p.distanceToSquared(u),m);A<1e-4&&(A=1),g<1e-4&&(g=A),v<1e-4&&(v=A),WA.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,g,A,v),JA.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,g,A,v),jA.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,g,A,v)}else this.curveType==="catmullrom"&&(WA.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),JA.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),jA.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return r.set(WA.calc(l),JA.calc(l),jA.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new L().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function q4(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function CQ(n,e){const t=1-n;return t*t*e}function EQ(n,e){return 2*(1-n)*n*e}function SQ(n,e){return n*n*e}function Qf(n,e,t,r){return CQ(n,e)+EQ(n,t)+SQ(n,r)}function _Q(n,e){const t=1-n;return t*t*t*e}function bQ(n,e){const t=1-n;return 3*t*t*n*e}function IQ(n,e){return 3*(1-n)*n*n*e}function wQ(n,e){return n*n*n*e}function Hf(n,e,t,r,i){return _Q(n,e)+bQ(n,t)+IQ(n,r)+wQ(n,i)}class uv extends $i{constructor(e=new he,t=new he,r=new he,i=new he){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new he){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Hf(e,i.x,s.x,o.x,a.x),Hf(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TS extends $i{constructor(e=new L,t=new L,r=new L,i=new L){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new L){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Hf(e,i.x,s.x,o.x,a.x),Hf(e,i.y,s.y,o.y,a.y),Hf(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ym extends $i{constructor(e=new he,t=new he){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new he){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new he;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BS extends $i{constructor(e=new L,t=new L){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new L){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fv extends $i{constructor(e=new he,t=new he,r=new he){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new he){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Qf(e,i.x,s.x,o.x),Qf(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hv extends $i{constructor(e=new L,t=new L,r=new L){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new L){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Qf(e,i.x,s.x,o.x),Qf(e,i.y,s.y,o.y),Qf(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dv extends $i{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new he){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(q4(a,l.x,c.x,u.x,d.x),q4(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new he().fromArray(i))}return this}}var pv=Object.freeze({__proto__:null,ArcCurve:wS,CatmullRomCurve3:MS,CubicBezierCurve:uv,CubicBezierCurve3:TS,EllipseCurve:vm,LineCurve:ym,LineCurve3:BS,QuadraticBezierCurve:fv,QuadraticBezierCurve3:hv,SplineCurve:dv});class RS extends $i{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ym(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new pv[i.type]().fromJSON(i))}return this}}let vh=class extends RS{constructor(e){super(),this.type="Path",this.currentPoint=new he,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new ym(this.currentPoint.clone(),new he(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new fv(this.currentPoint.clone(),new he(e,t),new he(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new uv(this.currentPoint.clone(),new he(e,t),new he(r,i),new he(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new dv(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new vm(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class El extends mt{constructor(e=[new he(0,.5),new he(.5,0),new he(0,-.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Fn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new L,p=new he,m=new L,g=new L,A=new L;let v=0,C=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:v=e[x+1].x-e[x].x,C=e[x+1].y-e[x].y,m.x=C*1,m.y=-v,m.z=C*0,A.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(A.x,A.y,A.z);break;default:v=e[x+1].x-e[x].x,C=e[x+1].y-e[x].y,m.x=C*1,m.y=-v,m.z=C*0,g.copy(m),m.x+=A.x,m.y+=A.y,m.z+=A.z,m.normalize(),l.push(m.x,m.y,m.z),A.copy(g)}for(let x=0;x<=t;x++){const E=r+x*u*i,_=Math.sin(E),I=Math.cos(E);for(let M=0;M<=e.length-1;M++){d.x=e[M].x*_,d.y=e[M].y,d.z=e[M].x*I,o.push(d.x,d.y,d.z),p.x=x/t,p.y=M/(e.length-1),a.push(p.x,p.y);const T=l[3*M+0]*_,w=l[3*M+1],R=l[3*M+0]*I;c.push(T,w,R)}}for(let x=0;x<t;x++)for(let E=0;E<e.length-1;E++){const _=E+x*e.length,I=_,M=_+e.length,T=_+e.length+1,w=_+1;s.push(I,M,w),s.push(T,w,M)}this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("uv",new Ze(a,2)),this.setAttribute("normal",new Ze(c,3))}static fromJSON(e){return new El(e.points,e.segments,e.phiStart,e.phiLength)}}class Xc extends El{constructor(e=1,t=1,r=4,i=8){const s=new vh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Xc(e.radius,e.length,e.capSegments,e.radialSegments)}}class $c extends mt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new L,u=new he;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=r+d/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("normal",new Ze(a,3)),this.setAttribute("uv",new Ze(l,2))}static fromJSON(e){return new $c(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class oa extends mt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],p=[],m=[];let g=0;const A=[],v=r/2;let C=0;x(),o===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(u),this.setAttribute("position",new Ze(d,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function x(){const _=new L,I=new L;let M=0;const T=(t-e)/r;for(let w=0;w<=s;w++){const R=[],D=w/s,P=D*(t-e)+e;for(let z=0;z<=i;z++){const q=z/i,k=q*l+a,Q=Math.sin(k),V=Math.cos(k);I.x=P*Q,I.y=-D*r+v,I.z=P*V,d.push(I.x,I.y,I.z),_.set(Q,T,V).normalize(),p.push(_.x,_.y,_.z),m.push(q,1-D),R.push(g++)}A.push(R)}for(let w=0;w<i;w++)for(let R=0;R<s;R++){const D=A[R][w],P=A[R+1][w],z=A[R+1][w+1],q=A[R][w+1];u.push(D,P,q),u.push(P,z,q),M+=6}c.addGroup(C,M,0),C+=M}function E(_){const I=g,M=new he,T=new L;let w=0;const R=_===!0?e:t,D=_===!0?1:-1;for(let z=1;z<=i;z++)d.push(0,v*D,0),p.push(0,D,0),m.push(.5,.5),g++;const P=g;for(let z=0;z<=i;z++){const k=z/i*l+a,Q=Math.cos(k),V=Math.sin(k);T.x=R*V,T.y=v*D,T.z=R*Q,d.push(T.x,T.y,T.z),p.push(0,D,0),M.x=Q*.5+.5,M.y=V*.5*D+.5,m.push(M.x,M.y),g++}for(let z=0;z<i;z++){const q=I+z,k=P+z;_===!0?u.push(k,k+1,q):u.push(k+1,k,q),w+=3}c.addGroup(C,w,_===!0?1:2),C+=w}}static fromJSON(e){return new oa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Zc extends oa{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Zc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ts extends mt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Ze(s,3)),this.setAttribute("normal",new Ze(s.slice(),3)),this.setAttribute("uv",new Ze(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const E=new L,_=new L,I=new L;for(let M=0;M<t.length;M+=3)m(t[M+0],E),m(t[M+1],_),m(t[M+2],I),l(E,_,I,x)}function l(x,E,_,I){const M=I+1,T=[];for(let w=0;w<=M;w++){T[w]=[];const R=x.clone().lerp(_,w/M),D=E.clone().lerp(_,w/M),P=M-w;for(let z=0;z<=P;z++)z===0&&w===M?T[w][z]=R:T[w][z]=R.clone().lerp(D,z/P)}for(let w=0;w<M;w++)for(let R=0;R<2*(M-w)-1;R++){const D=Math.floor(R/2);R%2===0?(p(T[w][D+1]),p(T[w+1][D]),p(T[w][D])):(p(T[w][D+1]),p(T[w+1][D+1]),p(T[w+1][D]))}}function c(x){const E=new L;for(let _=0;_<s.length;_+=3)E.x=s[_+0],E.y=s[_+1],E.z=s[_+2],E.normalize().multiplyScalar(x),s[_+0]=E.x,s[_+1]=E.y,s[_+2]=E.z}function u(){const x=new L;for(let E=0;E<s.length;E+=3){x.x=s[E+0],x.y=s[E+1],x.z=s[E+2];const _=v(x)/2/Math.PI+.5,I=C(x)/Math.PI+.5;o.push(_,1-I)}g(),d()}function d(){for(let x=0;x<o.length;x+=6){const E=o[x+0],_=o[x+2],I=o[x+4],M=Math.max(E,_,I),T=Math.min(E,_,I);M>.9&&T<.1&&(E<.2&&(o[x+0]+=1),_<.2&&(o[x+2]+=1),I<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,E){const _=x*3;E.x=e[_+0],E.y=e[_+1],E.z=e[_+2]}function g(){const x=new L,E=new L,_=new L,I=new L,M=new he,T=new he,w=new he;for(let R=0,D=0;R<s.length;R+=9,D+=6){x.set(s[R+0],s[R+1],s[R+2]),E.set(s[R+3],s[R+4],s[R+5]),_.set(s[R+6],s[R+7],s[R+8]),M.set(o[D+0],o[D+1]),T.set(o[D+2],o[D+3]),w.set(o[D+4],o[D+5]),I.copy(x).add(E).add(_).divideScalar(3);const P=v(I);A(M,D+0,x,P),A(T,D+2,E,P),A(w,D+4,_,P)}}function A(x,E,_,I){I<0&&x.x===1&&(o[E]=x.x-1),_.x===0&&_.z===0&&(o[E]=I/2/Math.PI+.5)}function v(x){return Math.atan2(x.z,-x.x)}function C(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new Ts(e.vertices,e.indices,e.radius,e.details)}}class eu extends Ts{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new eu(e.radius,e.detail)}}const Gp=new L,Qp=new L,KA=new L,Hp=new Ei;class PS extends mt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(pl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:A,b:v,c:C}=Hp;if(A.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),C.fromBufferAttribute(a,c[2]),Hp.getNormal(KA),d[0]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(C.x*i)},${Math.round(C.y*i)},${Math.round(C.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const E=(x+1)%3,_=d[x],I=d[E],M=Hp[u[x]],T=Hp[u[E]],w=`${_}_${I}`,R=`${I}_${_}`;R in p&&p[R]?(KA.dot(p[R].normal)<=s&&(m.push(M.x,M.y,M.z),m.push(T.x,T.y,T.z)),p[R]=null):w in p||(p[w]={index0:c[x],index1:c[E],normal:KA.clone()})}}for(const g in p)if(p[g]){const{index0:A,index1:v}=p[g];Gp.fromBufferAttribute(a,A),Qp.fromBufferAttribute(a,v),m.push(Gp.x,Gp.y,Gp.z),m.push(Qp.x,Qp.y,Qp.z)}this.setAttribute("position",new Ze(m,3))}}}class Al extends vh{constructor(e){super(e),this.uuid=Zr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new vh().fromJSON(i))}return this}}const MQ={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=DS(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,m;if(r&&(s=DQ(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)d=n[g],p=n[g+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?1/m:0}return yh(s,o,t,a,l,m),o}};function DS(n,e,t,r,i){let s,o;if(i===VQ(n,e,t,r)>0)for(s=e;s<t;s+=r)o=Y4(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=Y4(s,n[s],n[s+1],o);return o&&xm(o,o.next)&&(Ch(o),o=o.next),o}function aa(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(xm(t,t.next)||yn(t.prev,t,t.next)===0)){if(Ch(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function yh(n,e,t,r,i,s,o){if(!n)return;!o&&s&&OQ(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?BQ(n,r,i,s):TQ(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),Ch(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=RQ(aa(n),e,t),yh(n,e,t,r,i,s,2)):o===2&&PQ(n,e,t,r,i,s):yh(aa(n),e,t,r,i,s,1);break}}}function TQ(n){const e=n.prev,t=n,r=n.next;if(yn(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Bc(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&yn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function BQ(n,e,t,r){const i=n.prev,s=n,o=n.next;if(yn(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,c=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,u=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,d=P1(a,l,e,t,r),p=P1(c,u,e,t,r);let m=n.prevZ,g=n.nextZ;for(;m&&m.z>=d&&g&&g.z<=p;){if(m!==n.prev&&m!==n.next&&Bc(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&yn(m.prev,m,m.next)>=0||(m=m.prevZ,g!==n.prev&&g!==n.next&&Bc(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&yn(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;m&&m.z>=d;){if(m!==n.prev&&m!==n.next&&Bc(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&yn(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;g&&g.z<=p;){if(g!==n.prev&&g!==n.next&&Bc(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&yn(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function RQ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!xm(i,s)&&LS(i,r,r.next,s)&&xh(i,s)&&xh(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),Ch(r),Ch(r.next),r=n=s),r=r.next}while(r!==n);return aa(r)}function PQ(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&QQ(o,a)){let l=FS(o,a);o=aa(o,o.next),l=aa(l,l.next),yh(o,e,t,r,i,s),yh(l,e,t,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function DQ(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=DS(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(GQ(c));for(i.sort(LQ),s=0;s<i.length;s++)FQ(i[s],t),t=aa(t,t.next);return t}function LQ(n,e){return n.x-e.x}function FQ(n,e){if(e=kQ(n,e),e){const t=FS(e,n);aa(e,e.next),aa(t,t.next)}}function kQ(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>s){if(s=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,d;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&Bc(i<c?r:s,i,l,c,i<c?s:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),xh(t,n)&&(d<u||d===u&&(t.x>o.x||t.x===o.x&&NQ(o,t)))&&(o=t,u=d)),t=t.next;while(t!==a);return o}function NQ(n,e){return yn(n.prev,n,e.prev)<0&&yn(e.next,n,n.next)<0}function OQ(n,e,t,r){let i=n;do i.z===null&&(i.z=P1(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,UQ(i)}function UQ(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function P1(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function GQ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Bc(n,e,t,r,i,s,o,a){return(i-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(i-o)*(r-a)>=0}function QQ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!HQ(n,e)&&(xh(n,e)&&xh(e,n)&&zQ(n,e)&&(yn(n.prev,n,e.prev)||yn(n,e.prev,e))||xm(n,e)&&yn(n.prev,n,n.next)>0&&yn(e.prev,e,e.next)>0)}function yn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function xm(n,e){return n.x===e.x&&n.y===e.y}function LS(n,e,t,r){const i=Vp(yn(n,e,t)),s=Vp(yn(n,e,r)),o=Vp(yn(t,r,n)),a=Vp(yn(t,r,e));return!!(i!==s&&o!==a||i===0&&zp(n,t,e)||s===0&&zp(n,r,e)||o===0&&zp(t,n,r)||a===0&&zp(t,e,r))}function zp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Vp(n){return n>0?1:n<0?-1:0}function HQ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&LS(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function xh(n,e){return yn(n.prev,n,n.next)<0?yn(n,e,n.next)>=0&&yn(n,n.prev,e)>=0:yn(n,e,n.prev)<0||yn(n,n.next,e)<0}function zQ(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function FS(n,e){const t=new D1(n.i,n.x,n.y),r=new D1(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function Y4(n,e,t,r){const i=new D1(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ch(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function D1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function VQ(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ss{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ss.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];X4(e),$4(r,e);let o=e.length;t.forEach(X4);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,$4(r,t[l]);const a=MQ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function X4(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function $4(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class tu extends mt{constructor(e=new Al([new he(.5,.5),new he(-.5,.5),new he(-.5,-.5),new he(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ze(i,3)),this.setAttribute("uv",new Ze(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1;let d=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const C=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:WQ;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let E,_=!1,I,M,T,w;C&&(E=C.getSpacedPoints(u),_=!0,p=!1,I=C.computeFrenetFrames(u,!1),M=new L,T=new L,w=new L),p||(v=0,m=0,g=0,A=0);const R=a.extractPoints(c);let D=R.shape;const P=R.holes;if(!Ss.isClockWise(D)){D=D.reverse();for(let oe=0,ne=P.length;oe<ne;oe++){const Ce=P[oe];Ss.isClockWise(Ce)&&(P[oe]=Ce.reverse())}}const q=Ss.triangulateShape(D,P),k=D;for(let oe=0,ne=P.length;oe<ne;oe++){const Ce=P[oe];D=D.concat(Ce)}function Q(oe,ne,Ce){return ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().multiplyScalar(Ce).add(oe)}const V=D.length,Y=q.length;function G(oe,ne,Ce){let Me,Fe,qe;const je=oe.x-ne.x,ze=oe.y-ne.y,ct=Ce.x-oe.x,rt=Ce.y-oe.y,W=je*je+ze*ze,N=je*rt-ze*ct;if(Math.abs(N)>Number.EPSILON){const se=Math.sqrt(W),we=Math.sqrt(ct*ct+rt*rt),Te=ne.x-ze/se,Be=ne.y+je/se,Ue=Ce.x-rt/we,ue=Ce.y+ct/we,We=((Ue-Te)*rt-(ue-Be)*ct)/(je*rt-ze*ct);Me=Te+je*We-oe.x,Fe=Be+ze*We-oe.y;const Oe=Me*Me+Fe*Fe;if(Oe<=2)return new he(Me,Fe);qe=Math.sqrt(Oe/2)}else{let se=!1;je>Number.EPSILON?ct>Number.EPSILON&&(se=!0):je<-Number.EPSILON?ct<-Number.EPSILON&&(se=!0):Math.sign(ze)===Math.sign(rt)&&(se=!0),se?(Me=-ze,Fe=je,qe=Math.sqrt(W)):(Me=je,Fe=ze,qe=Math.sqrt(W/2))}return new he(Me/qe,Fe/qe)}const j=[];for(let oe=0,ne=k.length,Ce=ne-1,Me=oe+1;oe<ne;oe++,Ce++,Me++)Ce===ne&&(Ce=0),Me===ne&&(Me=0),j[oe]=G(k[oe],k[Ce],k[Me]);const K=[];let ee,X=j.concat();for(let oe=0,ne=P.length;oe<ne;oe++){const Ce=P[oe];ee=[];for(let Me=0,Fe=Ce.length,qe=Fe-1,je=Me+1;Me<Fe;Me++,qe++,je++)qe===Fe&&(qe=0),je===Fe&&(je=0),ee[Me]=G(Ce[Me],Ce[qe],Ce[je]);K.push(ee),X=X.concat(ee)}for(let oe=0;oe<v;oe++){const ne=oe/v,Ce=m*Math.cos(ne*Math.PI/2),Me=g*Math.sin(ne*Math.PI/2)+A;for(let Fe=0,qe=k.length;Fe<qe;Fe++){const je=Q(k[Fe],j[Fe],Me);Ne(je.x,je.y,-Ce)}for(let Fe=0,qe=P.length;Fe<qe;Fe++){const je=P[Fe];ee=K[Fe];for(let ze=0,ct=je.length;ze<ct;ze++){const rt=Q(je[ze],ee[ze],Me);Ne(rt.x,rt.y,-Ce)}}}const ae=g+A;for(let oe=0;oe<V;oe++){const ne=p?Q(D[oe],X[oe],ae):D[oe];_?(T.copy(I.normals[0]).multiplyScalar(ne.x),M.copy(I.binormals[0]).multiplyScalar(ne.y),w.copy(E[0]).add(T).add(M),Ne(w.x,w.y,w.z)):Ne(ne.x,ne.y,0)}for(let oe=1;oe<=u;oe++)for(let ne=0;ne<V;ne++){const Ce=p?Q(D[ne],X[ne],ae):D[ne];_?(T.copy(I.normals[oe]).multiplyScalar(Ce.x),M.copy(I.binormals[oe]).multiplyScalar(Ce.y),w.copy(E[oe]).add(T).add(M),Ne(w.x,w.y,w.z)):Ne(Ce.x,Ce.y,d/u*oe)}for(let oe=v-1;oe>=0;oe--){const ne=oe/v,Ce=m*Math.cos(ne*Math.PI/2),Me=g*Math.sin(ne*Math.PI/2)+A;for(let Fe=0,qe=k.length;Fe<qe;Fe++){const je=Q(k[Fe],j[Fe],Me);Ne(je.x,je.y,d+Ce)}for(let Fe=0,qe=P.length;Fe<qe;Fe++){const je=P[Fe];ee=K[Fe];for(let ze=0,ct=je.length;ze<ct;ze++){const rt=Q(je[ze],ee[ze],Me);_?Ne(rt.x,rt.y+E[u-1].y,E[u-1].x+Ce):Ne(rt.x,rt.y,d+Ce)}}}Ae(),_e();function Ae(){const oe=i.length/3;if(p){let ne=0,Ce=V*ne;for(let Me=0;Me<Y;Me++){const Fe=q[Me];Pe(Fe[2]+Ce,Fe[1]+Ce,Fe[0]+Ce)}ne=u+v*2,Ce=V*ne;for(let Me=0;Me<Y;Me++){const Fe=q[Me];Pe(Fe[0]+Ce,Fe[1]+Ce,Fe[2]+Ce)}}else{for(let ne=0;ne<Y;ne++){const Ce=q[ne];Pe(Ce[2],Ce[1],Ce[0])}for(let ne=0;ne<Y;ne++){const Ce=q[ne];Pe(Ce[0]+V*u,Ce[1]+V*u,Ce[2]+V*u)}}r.addGroup(oe,i.length/3-oe,0)}function _e(){const oe=i.length/3;let ne=0;re(k,ne),ne+=k.length;for(let Ce=0,Me=P.length;Ce<Me;Ce++){const Fe=P[Ce];re(Fe,ne),ne+=Fe.length}r.addGroup(oe,i.length/3-oe,1)}function re(oe,ne){let Ce=oe.length;for(;--Ce>=0;){const Me=Ce;let Fe=Ce-1;Fe<0&&(Fe=oe.length-1);for(let qe=0,je=u+v*2;qe<je;qe++){const ze=V*qe,ct=V*(qe+1),rt=ne+Me+ze,W=ne+Fe+ze,N=ne+Fe+ct,se=ne+Me+ct;Le(rt,W,N,se)}}}function Ne(oe,ne,Ce){l.push(oe),l.push(ne),l.push(Ce)}function Pe(oe,ne,Ce){ve(oe),ve(ne),ve(Ce);const Me=i.length/3,Fe=x.generateTopUV(r,i,Me-3,Me-2,Me-1);xe(Fe[0]),xe(Fe[1]),xe(Fe[2])}function Le(oe,ne,Ce,Me){ve(oe),ve(ne),ve(Me),ve(ne),ve(Ce),ve(Me);const Fe=i.length/3,qe=x.generateSideWallUV(r,i,Fe-6,Fe-3,Fe-2,Fe-1);xe(qe[0]),xe(qe[1]),xe(qe[3]),xe(qe[1]),xe(qe[2]),xe(qe[3])}function ve(oe){i.push(l[oe*3+0]),i.push(l[oe*3+1]),i.push(l[oe*3+2])}function xe(oe){s.push(oe.x),s.push(oe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return JQ(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new pv[i.type]().fromJSON(i)),new tu(r,e.options)}}const WQ={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new he(s,o),new he(a,l),new he(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],A=e[s*3],v=e[s*3+1],C=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new he(o,1-l),new he(c,1-d),new he(p,1-g),new he(A,1-C)]:[new he(a,1-l),new he(u,1-d),new he(m,1-g),new he(v,1-C)]}};function JQ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class nu extends Ts{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nu(e.radius,e.detail)}}class Sl extends Ts{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Sl(e.radius,e.detail)}}class ru extends mt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const p=(t-e)/i,m=new L,g=new he;for(let A=0;A<=i;A++){for(let v=0;v<=r;v++){const C=s+v/r*o;m.x=d*Math.cos(C),m.y=d*Math.sin(C),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}d+=p}for(let A=0;A<i;A++){const v=A*(r+1);for(let C=0;C<r;C++){const x=C+v,E=x,_=x+r+1,I=x+r+2,M=x+1;a.push(E,_,M),a.push(_,I,M)}}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(u,2))}static fromJSON(e){return new ru(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class iu extends mt{constructor(e=new Al([new he(0,.5),new he(-.5,-.5),new he(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ze(i,3)),this.setAttribute("normal",new Ze(s,3)),this.setAttribute("uv",new Ze(o,2));function c(u){const d=i.length/3,p=u.extractPoints(t);let m=p.shape;const g=p.holes;Ss.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,C=g.length;v<C;v++){const x=g[v];Ss.isClockWise(x)===!0&&(g[v]=x.reverse())}const A=Ss.triangulateShape(m,g);for(let v=0,C=g.length;v<C;v++){const x=g[v];m=m.concat(x)}for(let v=0,C=m.length;v<C;v++){const x=m[v];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let v=0,C=A.length;v<C;v++){const x=A[v],E=x[0]+d,_=x[1]+d,I=x[2]+d;r.push(E,_,I),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return jQ(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new iu(r,e.curveSegments)}}function jQ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class la extends mt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new L,p=new L,m=[],g=[],A=[],v=[];for(let C=0;C<=r;C++){const x=[],E=C/r;let _=0;C==0&&o==0?_=.5/t:C==r&&l==Math.PI&&(_=-.5/t);for(let I=0;I<=t;I++){const M=I/t;d.x=-e*Math.cos(i+M*s)*Math.sin(o+E*a),d.y=e*Math.cos(o+E*a),d.z=e*Math.sin(i+M*s)*Math.sin(o+E*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),A.push(p.x,p.y,p.z),v.push(M+_,1-E),x.push(c++)}u.push(x)}for(let C=0;C<r;C++)for(let x=0;x<t;x++){const E=u[C][x+1],_=u[C][x],I=u[C+1][x],M=u[C+1][x+1];(C!==0||o>0)&&m.push(E,_,M),(C!==r-1||l<Math.PI)&&m.push(_,I,M)}this.setIndex(m),this.setAttribute("position",new Ze(g,3)),this.setAttribute("normal",new Ze(A,3)),this.setAttribute("uv",new Ze(v,2))}static fromJSON(e){return new la(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class su extends Ts{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new su(e.radius,e.detail)}}class ou extends mt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new L,d=new L,p=new L;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const A=g/i*s,v=m/r*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(A),d.y=(e+t*Math.cos(v))*Math.sin(A),d.z=t*Math.sin(v),a.push(d.x,d.y,d.z),u.x=e*Math.cos(A),u.y=e*Math.sin(A),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const A=(i+1)*m+g-1,v=(i+1)*(m-1)+g-1,C=(i+1)*(m-1)+g,x=(i+1)*m+g;o.push(A,v,x),o.push(v,C,x)}this.setIndex(o),this.setAttribute("position",new Ze(a,3)),this.setAttribute("normal",new Ze(l,3)),this.setAttribute("uv",new Ze(c,2))}static fromJSON(e){return new ou(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class au extends mt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new L,p=new L,m=new L,g=new L,A=new L,v=new L,C=new L;for(let E=0;E<=r;++E){const _=E/r*s*Math.PI*2;x(_,s,o,e,m),x(_+.01,s,o,e,g),v.subVectors(g,m),C.addVectors(g,m),A.crossVectors(v,C),C.crossVectors(A,v),A.normalize(),C.normalize();for(let I=0;I<=i;++I){const M=I/i*Math.PI*2,T=-t*Math.cos(M),w=t*Math.sin(M);d.x=m.x+(T*C.x+w*A.x),d.y=m.y+(T*C.y+w*A.y),d.z=m.z+(T*C.z+w*A.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(E/r),u.push(I/i)}}for(let E=1;E<=r;E++)for(let _=1;_<=i;_++){const I=(i+1)*(E-1)+(_-1),M=(i+1)*E+(_-1),T=(i+1)*E+_,w=(i+1)*(E-1)+_;a.push(I,M,w),a.push(M,T,w)}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(u,2));function x(E,_,I,M,T){const w=Math.cos(E),R=Math.sin(E),D=I/_*E,P=Math.cos(D);T.x=M*(2+P)*.5*w,T.y=M*(2+P)*R*.5,T.z=M*Math.sin(D)*.5}}static fromJSON(e){return new au(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class lu extends mt{constructor(e=new hv(new L(-1,-1,0),new L(-1,1,0),new L(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new L,l=new L,c=new he;let u=new L;const d=[],p=[],m=[],g=[];A(),this.setIndex(g),this.setAttribute("position",new Ze(d,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function A(){for(let E=0;E<t;E++)v(E);v(s===!1?t:0),x(),C()}function v(E){u=e.getPointAt(E/t,u);const _=o.normals[E],I=o.binormals[E];for(let M=0;M<=i;M++){const T=M/i*Math.PI*2,w=Math.sin(T),R=-Math.cos(T);l.x=R*_.x+w*I.x,l.y=R*_.y+w*I.y,l.z=R*_.z+w*I.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function C(){for(let E=1;E<=t;E++)for(let _=1;_<=i;_++){const I=(i+1)*(E-1)+(_-1),M=(i+1)*E+(_-1),T=(i+1)*E+_,w=(i+1)*(E-1)+_;g.push(I,M,w),g.push(M,T,w)}}function x(){for(let E=0;E<=t;E++)for(let _=0;_<=i;_++)c.x=E/t,c.y=_/i,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new lu(new pv[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class kS extends mt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new L,s=new L;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let g=p,A=p+m;g<A;g+=3)for(let v=0;v<3;v++){const C=a.getX(g+v),x=a.getX(g+(v+1)%3);i.fromBufferAttribute(o,C),s.fromBufferAttribute(o,x),Z4(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),Z4(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ze(t,3))}}}function Z4(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var ex=Object.freeze({__proto__:null,BoxGeometry:Ms,BoxBufferGeometry:Ms,CapsuleGeometry:Xc,CapsuleBufferGeometry:Xc,CircleGeometry:$c,CircleBufferGeometry:$c,ConeGeometry:Zc,ConeBufferGeometry:Zc,CylinderGeometry:oa,CylinderBufferGeometry:oa,DodecahedronGeometry:eu,DodecahedronBufferGeometry:eu,EdgesGeometry:PS,ExtrudeGeometry:tu,ExtrudeBufferGeometry:tu,IcosahedronGeometry:nu,IcosahedronBufferGeometry:nu,LatheGeometry:El,LatheBufferGeometry:El,OctahedronGeometry:Sl,OctahedronBufferGeometry:Sl,PlaneGeometry:ia,PlaneBufferGeometry:ia,PolyhedronGeometry:Ts,PolyhedronBufferGeometry:Ts,RingGeometry:ru,RingBufferGeometry:ru,ShapeGeometry:iu,ShapeBufferGeometry:iu,SphereGeometry:la,SphereBufferGeometry:la,TetrahedronGeometry:su,TetrahedronBufferGeometry:su,TorusGeometry:ou,TorusBufferGeometry:ou,TorusKnotGeometry:au,TorusKnotBufferGeometry:au,TubeGeometry:lu,TubeBufferGeometry:lu,WireframeGeometry:kS});class NS extends xn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Re(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class zf extends Ot{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Vh extends xn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Re(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ml,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Bs extends Vh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new he(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Re(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Re(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Re(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class mv extends xn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Re(16777215),this.specular=new Re(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ml,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Nh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OS extends xn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Re(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ml,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Wh extends xn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ml,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class US extends xn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Nh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class GS extends xn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Re(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ml,this.normalScale=new he(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QS extends yr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const KQ={ShadowMaterial:NS,SpriteMaterial:sv,RawShaderMaterial:zf,ShaderMaterial:Ot,PointsMaterial:gm,MeshPhysicalMaterial:Bs,MeshStandardMaterial:Vh,MeshPhongMaterial:mv,MeshToonMaterial:OS,MeshNormalMaterial:Wh,MeshLambertMaterial:US,MeshDepthMaterial:fm,MeshDistanceMaterial:iv,MeshBasicMaterial:cr,MeshMatcapMaterial:GS,LineDashedMaterial:QS,LineBasicMaterial:yr,Material:xn};xn.fromType=function(n){return new KQ[n]};const cn={arraySlice:function(n,e,t){return cn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){d.push(c.times[m]);for(let A=0;A<u;++A)p.push(c.values[m*u+A])}}d.length!==0&&(c.times=cn.convertArray(d,c.times.constructor),c.values=cn.convertArray(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(C){return C.name===a.name&&C.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let A;if(s<=a.times[0]){const C=u,x=d-u;A=cn.arraySlice(a.values,C,x)}else if(s>=a.times[g]){const C=g*d+u,x=C+d-u;A=cn.arraySlice(a.values,C,x)}else{const C=a.createInterpolant(),x=u,E=d-u;C.evaluate(s),A=cn.arraySlice(C.resultBuffer,x,E)}l==="quaternion"&&new Jn().fromArray(A).normalize().conjugate().toArray(A);const v=c.times.length;for(let C=0;C<v;++C){const x=C*m+p;if(l==="quaternion")Jn.multiplyQuaternionsFlat(c.values,x,A,0,c.values,x);else{const E=m-p*2;for(let _=0;_<E;++_)c.values[x+_]-=A[_]}}}return n.blendMode=q5,n}};class Iu{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class HS extends Iu{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ll,endingEnd:ll}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case cl:s=e,a=2*t-r;break;case ph:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case cl:o=e,l=2*r-t;break;case ph:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),A=g*g,v=A*g,C=-p*v+2*p*A-p*g,x=(1+p)*v+(-1.5-2*p)*A+(-.5+p)*g+1,E=(-1-m)*v+(1.5+m)*A+.5*g,_=m*v-m*A;for(let I=0;I!==a;++I)s[I]=C*o[u+I]+x*o[c+I]+E*o[l+I]+_*o[d+I];return s}}class gv extends Iu{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class zS extends Iu{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Zi{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=cn.convertArray(t,this.TimeBufferType),this.values=cn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:cn.convertArray(e.times,Array),values:cn.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new gv(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new HS(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case jc:t=this.InterpolantFactoryMethodDiscrete;break;case Cl:t=this.InterpolantFactoryMethodLinear;break;case C0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jc;case this.InterpolantFactoryMethodLinear:return Cl;case this.InterpolantFactoryMethodSmooth:return C0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=cn.arraySlice(r,s,o),this.values=cn.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&cn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=cn.arraySlice(this.times),t=cn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===C0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let g=0;g!==r;++g){const A=t[d+g];if(A!==t[p+g]||A!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=cn.arraySlice(e,0,o),this.values=cn.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=cn.arraySlice(this.times,0),t=cn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Zi.prototype.TimeBufferType=Float32Array;Zi.prototype.ValueBufferType=Float32Array;Zi.prototype.DefaultInterpolation=Cl;class Tl extends Zi{}Tl.prototype.ValueTypeName="bool";Tl.prototype.ValueBufferType=Array;Tl.prototype.DefaultInterpolation=jc;Tl.prototype.InterpolantFactoryMethodLinear=void 0;Tl.prototype.InterpolantFactoryMethodSmooth=void 0;class Av extends Zi{}Av.prototype.ValueTypeName="color";class cu extends Zi{}cu.prototype.ValueTypeName="number";class VS extends Iu{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Jn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ca extends Zi{InterpolantFactoryMethodLinear(e){return new VS(this.times,this.values,this.getValueSize(),e)}}ca.prototype.ValueTypeName="quaternion";ca.prototype.DefaultInterpolation=Cl;ca.prototype.InterpolantFactoryMethodSmooth=void 0;class Bl extends Zi{}Bl.prototype.ValueTypeName="string";Bl.prototype.ValueBufferType=Array;Bl.prototype.DefaultInterpolation=jc;Bl.prototype.InterpolantFactoryMethodLinear=void 0;Bl.prototype.InterpolantFactoryMethodSmooth=void 0;class uu extends Zi{}uu.prototype.ValueTypeName="vector";class fu{constructor(e,t=-1,r,i=om){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Zr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(YQ(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Zi.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=cn.getKeyframeOrder(l);l=cn.sortedArray(l,1,u),c=cn.sortedArray(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new cu(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=i[d];p||(i[d]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,g,A){if(m.length!==0){const v=[],C=[];cn.flattenJSON(m,v,C,g),v.length!==0&&A.push(new d(p,v,C))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let A=0;A<p[g].morphTargets.length;A++)m[p[g].morphTargets[A]]=-1;for(const A in m){const v=[],C=[];for(let x=0;x!==p[g].morphTargets.length;++x){const E=p[g];v.push(E.time),C.push(E.morphTarget===A?1:0)}i.push(new cu(".morphTargetInfluence["+A+"]",v,C))}l=m.length*o}else{const m=".bones["+t[d].name+"]";r(uu,m+".position",p,"pos",i),r(ca,m+".quaternion",p,"rot",i),r(uu,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qQ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cu;case"vector":case"vector2":case"vector3":case"vector4":return uu;case"color":return Av;case"quaternion":return ca;case"bool":case"boolean":return Tl;case"string":return Bl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function YQ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=qQ(n.type);if(n.times===void 0){const t=[],r=[];cn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ua={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class vv{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],g=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const Rc=new vv;class fr{constructor(e){this.manager=e!==void 0?e:Rc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Xs={};class jn extends fr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ua.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Xs[e]!==void 0){Xs[e].push({onLoad:t,onProgress:r,onError:i});return}Xs[e]=[],Xs[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Xs[e],d=c.body.getReader(),p=c.headers.get("Content-Length"),m=p?parseInt(p):0,g=m!==0;let A=0;const v=new ReadableStream({start(C){x();function x(){d.read().then(({done:E,value:_})=>{if(E)C.close();else{A+=_.byteLength;const I=new ProgressEvent("progress",{lengthComputable:g,loaded:A,total:m});for(let M=0,T=u.length;M<T;M++){const w=u[M];w.onProgress&&w.onProgress(I)}C.enqueue(_),x()}})}}});return new Response(v)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{ua.add(e,c);const u=Xs[e];delete Xs[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Xs[e];if(u===void 0)throw this.manager.itemError(e),c;delete Xs[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class XQ extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new jn(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=fu.parse(e[r]);t.push(i)}return t}}class $Q extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new Yc,l=new jn(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=tn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let A=0;A<p.mipmapCount;A++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+A]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=tn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Eh extends fr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ua.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=gh("img");function l(){u(),ua.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class ZQ extends fr{constructor(e){super(e)}load(e,t,r,i){const s=new Qh,o=new Eh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class eH extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Es,a=new jn(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Mn,o.wrapT=c.wrapT!==void 0?c.wrapT:Mn,o.magFilter=c.magFilter!==void 0?c.magFilter:tn,o.minFilter=c.minFilter!==void 0?c.minFilter:tn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Yi),c.mipmapCount===1&&(o.minFilter=tn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class yv extends fr{constructor(e){super(e)}load(e,t,r,i){const s=new En,o=new Eh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class ya extends Vt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Re(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class WS extends ya{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Vt.DefaultUp),this.updateMatrix(),this.groundColor=new Re(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const tx=new tt,nx=new L,rx=new L;class xv{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new he(512,512),this.map=null,this.mapPass=null,this.matrix=new tt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new cm,this._frameExtents=new he(1,1),this._viewportCount=1,this._viewports=[new Nt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;nx.setFromMatrixPosition(e.matrixWorld),t.position.copy(nx),rx.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(rx),t.updateMatrixWorld(),tx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tx),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class tH extends xv{constructor(){super(new $t(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=mh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Cv extends ya{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vt.DefaultUp),this.updateMatrix(),this.target=new Vt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new tH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ix=new tt,hf=new L,qA=new L;class nH extends xv{constructor(){super(new $t(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new he(4,2),this._viewportCount=6,this._viewports=[new Nt(2,1,1,1),new Nt(0,1,1,1),new Nt(3,1,1,1),new Nt(1,1,1,1),new Nt(3,0,1,1),new Nt(1,0,1,1)],this._cubeDirections=[new L(1,0,0),new L(-1,0,0),new L(0,0,1),new L(0,0,-1),new L(0,1,0),new L(0,-1,0)],this._cubeUps=[new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,0,1),new L(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),hf.setFromMatrixPosition(e.matrixWorld),r.position.copy(hf),qA.copy(r.position),qA.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(qA),r.updateMatrixWorld(),i.makeTranslation(-hf.x,-hf.y,-hf.z),ix.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ix)}}class Ev extends ya{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new nH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class rH extends xv{constructor(){super(new _i(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Cm extends ya{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vt.DefaultUp),this.updateMatrix(),this.target=new Vt,this.shadow=new rH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Sv extends ya{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class JS extends ya{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class jS{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new L)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class Em extends ya{constructor(e=new jS,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class KS extends fr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new jn(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=xn.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Re().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Re().setHex(o.value);break;case"v2":i.uniforms[s].value=new he().fromArray(o.value);break;case"v3":i.uniforms[s].value=new L().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Nt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Si().fromArray(o.value);break;case"m4":i.uniforms[s].value=new tt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new he().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new he().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class _s{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class qS extends mt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class YS extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new jn(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const v=m.interleavedBuffers[g],C=s(m,v.buffer),x=Mc(v.type,C),E=new Hh(x,v.stride);return E.uuid=v.uuid,t[g]=E,E}function s(m,g){if(r[g]!==void 0)return r[g];const v=m.arrayBuffers[g],C=new Uint32Array(v).buffer;return r[g]=C,C}const o=e.isInstancedBufferGeometry?new qS:new mt,a=e.data.index;if(a!==void 0){const m=Mc(a.type,a.array);o.setIndex(new zt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let A;if(g.isInterleavedBufferAttribute){const v=i(e.data,g.data);A=new sa(v,g.itemSize,g.offset,g.normalized)}else{const v=Mc(g.type,g.array),C=g.isInstancedBufferAttribute?qc:zt;A=new C(v,g.itemSize,g.normalized)}g.name!==void 0&&(A.name=g.name),g.usage!==void 0&&A.setUsage(g.usage),g.updateRange!==void 0&&(A.updateRange.offset=g.updateRange.offset,A.updateRange.count=g.updateRange.count),o.setAttribute(m,A)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],A=[];for(let v=0,C=g.length;v<C;v++){const x=g[v];let E;if(x.isInterleavedBufferAttribute){const _=i(e.data,x.data);E=new sa(_,x.itemSize,x.offset,x.normalized)}else{const _=Mc(x.type,x.array);E=new zt(_,x.itemSize,x.normalized)}x.name!==void 0&&(E.name=x.name),A.push(E)}o.morphAttributes[m]=A}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const A=d[m];o.addGroup(A.start,A.count,A.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new L;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new va(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class iH extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?_s.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new jn(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?_s.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new jn(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Al().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new zh().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new YS;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in ex?a=ex[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new KS;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const d=l.materials[u];r[d.uuid]===void 0&&(r[d.uuid]=s.parse(d)),c.push(r[d.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=fu.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Mc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new vv(t);s=new Eh(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,A=p.length;g<A;g++){const v=p[g],C=a(v);C!==null&&(C instanceof HTMLImageElement?m.push(C):m.push(new Es(C.data,C.width,C.height)))}i[d.uuid]=new ul(m)}else{const m=a(d.url);i[d.uuid]=new ul(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Mc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Eh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Es(g.data,g.width,g.height)))}r[l.uuid]=new ul(u)}else{const u=await s(l.url);r[l.uuid]=new ul(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Qh,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Es:u=new En,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,sH)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],sx),u.wrapT=r(a.wrap[1],sx)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,ox)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,ox)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,A=p.length;g<A;g++){const v=p[g];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,d;switch(e.type){case"Scene":o=new Ah,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Re(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new pm(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new dm(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new $t(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new _i(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Sv(e.color,e.intensity);break;case"DirectionalLight":o=new Cm(e.color,e.intensity);break;case"PointLight":o=new Ev(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new JS(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Cv(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new WS(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Em().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new ov(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Kt(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new av(u,d,p),o.instanceMatrix=new qc(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new qc(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new IS;break;case"Line":o=new io(a(e.geometry),l(e.material));break;case"LineLoop":o=new lv(a(e.geometry),l(e.material));break;case"LineSegments":o=new Xi(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Am(a(e.geometry),l(e.material));break;case"Sprite":o=new bS(l(e.material));break;case"Group":o=new Zs;break;case"Bone":o=new mm;break;default:o=new Vt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],A=o.getObjectByProperty("uuid",g.object);A!==void 0&&o.addLevel(A,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const sH={UVMapping:rm,CubeReflectionMapping:ea,CubeRefractionMapping:ta,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:sh,CubeUVReflectionMapping:Cu},sx={RepeatWrapping:wi,ClampToEdgeWrapping:Mn,MirroredRepeatWrapping:Jc},ox={NearestFilter:At,NearestMipmapNearestFilter:oh,NearestMipmapLinearFilter:ah,LinearFilter:tn,LinearMipmapNearestFilter:im,LinearMipmapLinearFilter:Yi};class XS extends fr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ua.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ua.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Wp;const _v={getContext:function(){return Wp===void 0&&(Wp=new(window.AudioContext||window.webkitAudioContext)),Wp},setContext:function(n){Wp=n}};class oH extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new jn(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);_v.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class aH extends Em{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Re().set(e),s=new Re().set(t),o=new L(i.r,i.g,i.b),a=new L(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class lH extends Em{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Re().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const ax=new tt,lx=new tt,Ua=new tt;class cH{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new $t,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new $t,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ua.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(pl*t.fov*.5)/t.zoom;let a,l;lx.elements[12]=-i,ax.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Ua.elements[0]=2*t.near/(l-a),Ua.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ua),a=-o*t.aspect-s,l=o*t.aspect-s,Ua.elements[0]=2*t.near/(l-a),Ua.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ua)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(lx),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ax)}}class Sm{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=cx(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=cx();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function cx(){return(typeof performance>"u"?Date:performance).now()}const Ga=new L,ux=new Jn,uH=new L,Qa=new L;class fH extends Vt{constructor(){super(),this.type="AudioListener",this.context=_v.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Sm}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ga,ux,uH),Qa.set(0,0,-1).applyQuaternion(ux),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ga.x,i),t.positionY.linearRampToValueAtTime(Ga.y,i),t.positionZ.linearRampToValueAtTime(Ga.z,i),t.forwardX.linearRampToValueAtTime(Qa.x,i),t.forwardY.linearRampToValueAtTime(Qa.y,i),t.forwardZ.linearRampToValueAtTime(Qa.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Ga.x,Ga.y,Ga.z),t.setOrientation(Qa.x,Qa.y,Qa.z,r.x,r.y,r.z)}}class $S extends Vt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ha=new L,fx=new Jn,hH=new L,za=new L;class dH extends $S{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ha,fx,hH),za.set(0,0,1).applyQuaternion(fx);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ha.x,r),t.positionY.linearRampToValueAtTime(Ha.y,r),t.positionZ.linearRampToValueAtTime(Ha.z,r),t.orientationX.linearRampToValueAtTime(za.x,r),t.orientationY.linearRampToValueAtTime(za.y,r),t.orientationZ.linearRampToValueAtTime(za.z,r)}else t.setPosition(Ha.x,Ha.y,Ha.z),t.setOrientation(za.x,za.y,za.z)}}class pH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class ZS{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Jn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Jn.multiplyQuaternionsFlat(e,o,e,t,e,r),Jn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const bv="\\[\\]\\.:\\/",mH=new RegExp("["+bv+"]","g"),Iv="[^"+bv+"]",gH="[^"+bv.replace("\\.","")+"]",AH=/((?:WC+[\/:])*)/.source.replace("WC",Iv),vH=/(WCOD+)?/.source.replace("WCOD",gH),yH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Iv),xH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Iv),CH=new RegExp("^"+AH+vH+yH+xH+"$"),EH=["material","materials","bones"];class SH{constructor(e,t,r){const i=r||kt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class kt{constructor(e,t,r){this.path=t,this.parsedPath=r||kt.parseTrackName(t),this.node=kt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new kt.Composite(e,t,r):new kt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(mH,"")}static parseTrackName(e){const t=CH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);EH.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=kt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}kt.Composite=SH;kt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};kt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};kt.prototype.GetterByBindingType=[kt.prototype._getValue_direct,kt.prototype._getValue_array,kt.prototype._getValue_arrayElement,kt.prototype._getValue_toArray];kt.prototype.SetterByBindingTypeAndVersioning=[[kt.prototype._setValue_direct,kt.prototype._setValue_direct_setNeedsUpdate,kt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_array,kt.prototype._setValue_array_setNeedsUpdate,kt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_arrayElement,kt.prototype._setValue_arrayElement_setNeedsUpdate,kt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[kt.prototype._setValue_fromArray,kt.prototype._setValue_fromArray_setNeedsUpdate,kt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _H{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Zr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let A=0,v=o;A!==v;++A)s[A].push(new kt(p,r[A],i[A]))}else if(g<c){a=e[g];const A=--c,v=e[A];t[v.uuid]=g,e[g]=v,t[m]=A,e[A]=p;for(let C=0,x=o;C!==x;++C){const E=s[C],_=E[A];let I=E[g];E[g]=_,I===void 0&&(I=new kt(p,r[C],i[C])),E[A]=I}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let m=0,g=i;m!==g;++m){const A=r[m],v=A[d],C=A[u];A[u]=v,A[d]=C}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const p=--s,m=e[p],g=--o,A=e[g];t[m.uuid]=d,e[d]=m,t[A.uuid]=p,e[p]=A,e.pop();for(let v=0,C=i;v!==C;++v){const x=r[v],E=x[p],_=x[g];x[d]=E,x[p]=_,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let g=0,A=i;g!==A;++g){const v=r[g];v[d]=v[p],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let p=u,m=l.length;p!==m;++p){const g=l[p];d[p]=new kt(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class bH{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ll,endingEnd:ll};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=oS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case q5:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case om:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===aS;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===sS){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=cl,i.endingEnd=cl):(e?i.endingStart=this.zeroSlopeAtStart?cl:ll:i.endingStart=ph,t?i.endingEnd=this.zeroSlopeAtEnd?cl:ll:i.endingEnd=ph)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const IH=new Float32Array(1);class wH extends co{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const A=t&&t._propertyBindings[d].binding.parsedPath;g=new ZS(kt.create(r,m,A),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new gv(new Float32Array(2),new Float32Array(2),1,IH),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?fu.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=om),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new bH(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?fu.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class wv{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new wv(this.value.clone===void 0?this.value:this.value.clone())}}class MH extends Hh{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class TH{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class e_{constructor(e,t,r=0,i=1/0){this.ray=new Uh(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new gl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return L1(e,this,r,t),r.sort(hx),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)L1(e[i],this,r,t);return r.sort(hx),r}}function hx(n,e){return n.distance-e.distance}function L1(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)L1(i[s],e,t,!0)}}class F1{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Fn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class BH{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const dx=new he;class t_{constructor(e=new he(1/0,1/0),t=new he(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=dx.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return dx.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const px=new L,Jp=new L;class RH{constructor(e=new L,t=new L){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){px.subVectors(e,this.start),Jp.subVectors(this.end,this.start);const r=Jp.dot(Jp);let s=Jp.dot(px)/r;return t&&(s=Fn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const mx=new L;class PH extends Vt{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new mt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ze(i,3));const s=new yr({fog:!1,toneMapped:!1});this.cone=new Xi(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),mx.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(mx),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Do=new L,jp=new tt,YA=new tt;class DH extends Xi{constructor(e){const t=n_(e),r=new mt,i=[],s=[],o=new Re(0,0,1),a=new Re(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Ze(i,3)),r.setAttribute("color",new Ze(s,3));const l=new yr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");YA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(jp.multiplyMatrices(YA,a.matrixWorld),Do.setFromMatrixPosition(jp),i.setXYZ(o,Do.x,Do.y,Do.z),jp.multiplyMatrices(YA,a.parent.matrixWorld),Do.setFromMatrixPosition(jp),i.setXYZ(o+1,Do.x,Do.y,Do.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function n_(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,n_(n.children[t]));return e}class LH extends Kt{constructor(e,t,r){const i=new la(t,4,2),s=new cr({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const FH=new L,gx=new Re,Ax=new Re;class kH extends Vt{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Sl(t);i.rotateY(Math.PI*.5),this.material=new cr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new zt(o,3)),this.add(new Kt(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");gx.copy(this.light.color),Ax.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?gx:Ax;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(FH.setFromMatrixPosition(this.light.matrixWorld).negate())}}class NH extends Xi{constructor(e=10,t=10,r=4473924,i=8947848){r=new Re(r),i=new Re(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const A=p===s?r:i;A.toArray(c,m),m+=3,A.toArray(c,m),m+=3,A.toArray(c,m),m+=3,A.toArray(c,m),m+=3}const u=new mt;u.setAttribute("position",new Ze(l,3)),u.setAttribute("color",new Ze(c,3));const d=new yr({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}class OH extends Xi{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Re(s),o=new Re(o);const a=[],l=[];for(let d=0;d<=t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const A=d&1?s:o;l.push(A.r,A.g,A.b),l.push(A.r,A.g,A.b)}for(let d=0;d<=r;d++){const p=d&1?s:o,m=e-e/r*d;for(let g=0;g<i;g++){let A=g/i*(Math.PI*2),v=Math.sin(A)*m,C=Math.cos(A)*m;a.push(v,0,C),l.push(p.r,p.g,p.b),A=(g+1)/i*(Math.PI*2),v=Math.sin(A)*m,C=Math.cos(A)*m,a.push(v,0,C),l.push(p.r,p.g,p.b)}}const c=new mt;c.setAttribute("position",new Ze(a,3)),c.setAttribute("color",new Ze(l,3));const u=new yr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}}const vx=new L,Kp=new L,yx=new L;class UH extends Vt{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new mt;i.setAttribute("position",new Ze([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new yr({fog:!1,toneMapped:!1});this.lightPlane=new io(i,s),this.add(this.lightPlane),i=new mt,i.setAttribute("position",new Ze([0,0,0,0,0,1],3)),this.targetLine=new io(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){vx.setFromMatrixPosition(this.light.matrixWorld),Kp.setFromMatrixPosition(this.light.target.matrixWorld),yx.subVectors(Kp,vx),this.lightPlane.lookAt(Kp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Kp),this.targetLine.scale.z=yx.length()}}const qp=new L,_n=new Gh;class GH extends Xi{constructor(e){const t=new mt,r=new yr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new Re(16755200),l=new Re(16711680),c=new Re(43775),u=new Re(16777215),d=new Re(3355443);p("n1","n2",a),p("n2","n4",a),p("n4","n3",a),p("n3","n1",a),p("f1","f2",a),p("f2","f4",a),p("f4","f3",a),p("f3","f1",a),p("n1","f1",a),p("n2","f2",a),p("n3","f3",a),p("n4","f4",a),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",c),p("u2","u3",c),p("u3","u1",c),p("c","t",u),p("p","c",d),p("cn1","cn2",d),p("cn3","cn4",d),p("cf1","cf2",d),p("cf3","cf4",d);function p(g,A,v){m(g,v),m(A,v)}function m(g,A){i.push(0,0,0),s.push(A.r,A.g,A.b),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new Ze(i,3)),t.setAttribute("color",new Ze(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;_n.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ln("c",t,e,_n,0,0,-1),Ln("t",t,e,_n,0,0,1),Ln("n1",t,e,_n,-r,-i,-1),Ln("n2",t,e,_n,r,-i,-1),Ln("n3",t,e,_n,-r,i,-1),Ln("n4",t,e,_n,r,i,-1),Ln("f1",t,e,_n,-r,-i,1),Ln("f2",t,e,_n,r,-i,1),Ln("f3",t,e,_n,-r,i,1),Ln("f4",t,e,_n,r,i,1),Ln("u1",t,e,_n,r*.7,i*1.1,-1),Ln("u2",t,e,_n,-r*.7,i*1.1,-1),Ln("u3",t,e,_n,0,i*2,-1),Ln("cf1",t,e,_n,-r,0,1),Ln("cf2",t,e,_n,r,0,1),Ln("cf3",t,e,_n,0,-i,1),Ln("cf4",t,e,_n,0,i,1),Ln("cn1",t,e,_n,-r,0,-1),Ln("cn2",t,e,_n,r,0,-1),Ln("cn3",t,e,_n,0,-i,-1),Ln("cn4",t,e,_n,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ln(n,e,t,r,i,s,o){qp.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],qp.x,qp.y,qp.z)}}const Yp=new Aa;class QH extends Xi{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new mt;s.setIndex(new zt(r,1)),s.setAttribute("position",new zt(i,3)),super(s,new yr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Yp.setFromObject(this.object),Yp.isEmpty())return;const t=Yp.min,r=Yp.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}}class HH extends Xi{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new mt;s.setIndex(new zt(r,1)),s.setAttribute("position",new Ze(i,3)),super(s,new yr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class zH extends io{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new mt;o.setAttribute("position",new Ze(s,3)),o.computeBoundingSphere(),super(o,new yr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new mt;l.setAttribute("position",new Ze(a,3)),l.computeBoundingSphere(),this.add(new Kt(l,new cr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Nr:Zo,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const xx=new L;let Xp,XA;class VH extends Vt{constructor(e=new L(0,0,1),t=new L(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Xp===void 0&&(Xp=new mt,Xp.setAttribute("position",new Ze([0,0,0,0,1,0],3)),XA=new oa(0,.5,1,5,1),XA.translate(0,-.5,0)),this.position.copy(t),this.line=new io(Xp,new yr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Kt(XA,new cr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xx.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xx,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class WH extends Xi{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new mt;i.setAttribute("position",new Ze(t,3)),i.setAttribute("color",new Ze(r,3));const s=new yr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Re,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class r_{constructor(){this.type="ShapePath",this.color=new Re,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new vh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(x){const E=[];for(let _=0,I=x.length;_<I;_++){const M=x[_],T=new Al;T.curves=M.curves,E.push(T)}return E}function i(x,E){const _=E.length;let I=!1;for(let M=_-1,T=0;T<_;M=T++){let w=E[M],R=E[T],D=R.x-w.x,P=R.y-w.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(w=E[T],D=-D,R=E[M],P=-P),x.y<w.y||x.y>R.y)continue;if(x.y===w.y){if(x.x===w.x)return!0}else{const z=P*(x.x-w.x)-D*(x.y-w.y);if(z===0)return!0;if(z<0)continue;I=!I}}else{if(x.y!==w.y)continue;if(R.x<=x.x&&x.x<=w.x||w.x<=x.x&&x.x<=R.x)return!0}}return I}const s=Ss.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let a,l,c;const u=[];if(o.length===1)return l=o[0],c=new Al,c.curves=l.curves,u.push(c),u;let d=!s(o[0].getPoints());d=e?!d:d;const p=[],m=[];let g=[],A=0,v;m[A]=void 0,g[A]=[];for(let x=0,E=o.length;x<E;x++)l=o[x],v=l.getPoints(),a=s(v),a=e?!a:a,a?(!d&&m[A]&&A++,m[A]={s:new Al,p:v},m[A].s.curves=l.curves,d&&A++,g[A]=[]):g[A].push({h:l,p:v[0]});if(!m[0])return r(o);if(m.length>1){let x=!1,E=0;for(let _=0,I=m.length;_<I;_++)p[_]=[];for(let _=0,I=m.length;_<I;_++){const M=g[_];for(let T=0;T<M.length;T++){const w=M[T];let R=!0;for(let D=0;D<m.length;D++)i(w.p,m[D].p)&&(_!==D&&E++,R?(R=!1,p[D].push(w)):x=!0);R&&p[_].push(w)}}E>0&&x===!1&&(g=p)}let C;for(let x=0,E=m.length;x<E;x++){c=m[x].s,u.push(c),C=g[x];for(let _=0,I=C.length;_<I;_++)c.holes.push(C[_].h)}return u}}class JH{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Fn(e,-65504,65504),Cx[0]=e;const t=Ex[0],r=t>>23&511;return Gi[r]+((t&8388607)>>Qi[r])}static fromHalfFloat(e){const t=e>>10;return Ex[0]=Mv[s_[t]+(e&1023)]+wu[t],Cx[0]}}const i_=new ArrayBuffer(4),Cx=new Float32Array(i_),Ex=new Uint32Array(i_),Gi=new Uint32Array(512),Qi=new Uint32Array(512);for(let n=0;n<256;++n){const e=n-127;e<-27?(Gi[n]=0,Gi[n|256]=32768,Qi[n]=24,Qi[n|256]=24):e<-14?(Gi[n]=1024>>-e-14,Gi[n|256]=1024>>-e-14|32768,Qi[n]=-e-1,Qi[n|256]=-e-1):e<=15?(Gi[n]=e+15<<10,Gi[n|256]=e+15<<10|32768,Qi[n]=13,Qi[n|256]=13):e<128?(Gi[n]=31744,Gi[n|256]=64512,Qi[n]=24,Qi[n|256]=24):(Gi[n]=31744,Gi[n|256]=64512,Qi[n]=13,Qi[n|256]=13)}const Mv=new Uint32Array(2048),wu=new Uint32Array(64),s_=new Uint32Array(64);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;!(e&8388608);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,Mv[n]=e|t}for(let n=1024;n<2048;++n)Mv[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)wu[n]=n<<23;wu[31]=1199570944;wu[32]=2147483648;for(let n=33;n<63;++n)wu[n]=2147483648+(n-32<<23);wu[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(s_[n]=1024);class jH extends mt{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class KH extends mt{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function qH(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function YH(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function XH(){console.error("THREE.ImmediateRenderObject has been removed.")}class $H extends Yt{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class ZH extends Oh{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class ez extends am{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:lo}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=lo);const tz=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:j5,AddEquation:Yr,AddOperation:zE,AdditiveAnimationBlendMode:q5,AdditiveBlending:eh,AlphaFormat:ZE,AlwaysDepth:kE,AlwaysStencilFunc:fS,AmbientLight:Sv,AmbientLightProbe:lH,AnimationClip:fu,AnimationLoader:XQ,AnimationMixer:wH,AnimationObjectGroup:_H,AnimationUtils:cn,ArcCurve:wS,ArrayCamera:ES,ArrowHelper:VH,Audio:$S,AudioAnalyser:pH,AudioContext:_v,AudioListener:fH,AudioLoader:oH,AxesHelper:WH,BackSide:Nr,BasicDepthPacking:cS,BasicShadowMap:bE,Bone:mm,BooleanKeyframeTrack:Tl,Box2:t_,Box3:Aa,Box3Helper:HH,BoxBufferGeometry:Ms,BoxGeometry:Ms,BoxHelper:QH,BufferAttribute:zt,BufferGeometry:mt,BufferGeometryLoader:YS,ByteType:KE,Cache:ua,Camera:Gh,CameraHelper:GH,CanvasTexture:xQ,CapsuleBufferGeometry:Xc,CapsuleGeometry:Xc,CatmullRomCurve3:MS,CineonToneMapping:JE,CircleBufferGeometry:$c,CircleGeometry:$c,ClampToEdgeWrapping:Mn,Clock:Sm,Color:Re,ColorKeyframeTrack:Av,ColorManagement:vi,CompressedTexture:Yc,CompressedTextureLoader:$Q,ConeBufferGeometry:Zc,ConeGeometry:Zc,CubeCamera:tv,CubeReflectionMapping:ea,CubeRefractionMapping:ta,CubeTexture:Qh,CubeTextureLoader:ZQ,CubeUVReflectionMapping:Cu,CubicBezierCurve:uv,CubicBezierCurve3:TS,CubicInterpolant:HS,CullFaceBack:a1,CullFaceFront:_E,CullFaceFrontBack:BF,CullFaceNone:SE,Curve:$i,CurvePath:RS,CustomBlending:th,CustomToneMapping:jE,CylinderBufferGeometry:oa,CylinderGeometry:oa,Cylindrical:BH,Data3DTexture:am,DataArrayTexture:Oh,DataTexture:Es,DataTexture2DArray:ZH,DataTexture3D:ez,DataTextureLoader:eH,DataUtils:JH,DecrementStencilOp:GF,DecrementWrapStencilOp:HF,DefaultLoadingManager:Rc,DepthFormat:Ko,DepthStencilFormat:na,DepthTexture:bu,DirectionalLight:Cm,DirectionalLightHelper:UH,DiscreteInterpolant:zS,DodecahedronBufferGeometry:eu,DodecahedronGeometry:eu,DoubleSide:ro,DstAlphaFactor:tm,DstColorFactor:nm,DynamicCopyUsage:nk,DynamicDrawUsage:S0,DynamicReadUsage:ZF,EdgesGeometry:PS,EllipseCurve:vm,EqualDepth:OE,EqualStencilFunc:JF,EquirectangularReflectionMapping:ih,EquirectangularRefractionMapping:sh,Euler:Su,EventDispatcher:co,ExtrudeBufferGeometry:tu,ExtrudeGeometry:tu,FileLoader:jn,FlatShading:IE,Float16BufferAttribute:Ok,Float32BufferAttribute:Ze,Float64BufferAttribute:Uk,FloatType:Fr,Fog:pm,FogExp2:dm,Font:YH,FontLoader:qH,FramebufferTexture:yQ,FrontSide:Zo,Frustum:cm,GLBufferAttribute:TH,GLSL1:ik,GLSL3:w1,GreaterDepth:GE,GreaterEqualDepth:UE,GreaterEqualStencilFunc:YF,GreaterStencilFunc:KF,GridHelper:NH,Group:Zs,HalfFloatType:kn,HemisphereLight:WS,HemisphereLightHelper:kH,HemisphereLightProbe:aH,IcosahedronBufferGeometry:nu,IcosahedronGeometry:nu,ImageBitmapLoader:XS,ImageLoader:Eh,ImageUtils:Z5,ImmediateRenderObject:XH,IncrementStencilOp:UF,IncrementWrapStencilOp:QF,InstancedBufferAttribute:qc,InstancedBufferGeometry:qS,InstancedInterleavedBuffer:MH,InstancedMesh:av,Int16BufferAttribute:kk,Int32BufferAttribute:Nk,Int8BufferAttribute:Dk,IntType:YE,InterleavedBuffer:Hh,InterleavedBufferAttribute:sa,Interpolant:Iu,InterpolateDiscrete:jc,InterpolateLinear:Cl,InterpolateSmooth:C0,InvertStencilOp:zF,KeepStencilOp:E0,KeyframeTrack:Zi,LOD:IS,LatheBufferGeometry:El,LatheGeometry:El,Layers:gl,LessDepth:NE,LessEqualDepth:z0,LessEqualStencilFunc:jF,LessStencilFunc:WF,Light:ya,LightProbe:Em,Line:io,Line3:RH,LineBasicMaterial:yr,LineCurve:ym,LineCurve3:BS,LineDashedMaterial:QS,LineLoop:lv,LineSegments:Xi,LinearEncoding:ra,LinearFilter:tn,LinearInterpolant:gv,LinearMipMapLinearFilter:FF,LinearMipMapNearestFilter:LF,LinearMipmapLinearFilter:Yi,LinearMipmapNearestFilter:im,LinearSRGBColorSpace:Wo,LinearToneMapping:VE,Loader:fr,LoaderUtils:_s,LoadingManager:vv,LoopOnce:sS,LoopPingPong:aS,LoopRepeat:oS,LuminanceAlphaFormat:tS,LuminanceFormat:K5,MOUSE:Ka,Material:xn,MaterialLoader:KS,MathUtils:Oc,Matrix3:Si,Matrix4:tt,MaxEquation:f1,Mesh:Kt,MeshBasicMaterial:cr,MeshDepthMaterial:fm,MeshDistanceMaterial:iv,MeshLambertMaterial:US,MeshMatcapMaterial:GS,MeshNormalMaterial:Wh,MeshPhongMaterial:mv,MeshPhysicalMaterial:Bs,MeshStandardMaterial:Vh,MeshToonMaterial:OS,MinEquation:u1,MirroredRepeatWrapping:Jc,MixOperation:HE,MultiplyBlending:c1,MultiplyOperation:Nh,NearestFilter:At,NearestMipMapLinearFilter:DF,NearestMipMapNearestFilter:PF,NearestMipmapLinearFilter:ah,NearestMipmapNearestFilter:oh,NeverDepth:FE,NeverStencilFunc:VF,NoBlending:Bt,NoColorSpace:kF,NoToneMapping:$r,NormalAnimationBlendMode:om,NormalBlending:Cs,NotEqualDepth:QE,NotEqualStencilFunc:qF,NumberKeyframeTrack:cu,Object3D:Vt,ObjectLoader:iH,ObjectSpaceNormalMap:uS,OctahedronBufferGeometry:Sl,OctahedronGeometry:Sl,OneFactor:TE,OneMinusDstAlphaFactor:PE,OneMinusDstColorFactor:DE,OneMinusSrcAlphaFactor:rh,OneMinusSrcColorFactor:RE,OrthographicCamera:_i,PCFShadowMap:em,PCFSoftShadowMap:Uf,PMREMGenerator:T1,ParametricGeometry:jH,Path:vh,PerspectiveCamera:$t,Plane:Ci,PlaneBufferGeometry:ia,PlaneGeometry:ia,PlaneHelper:zH,PointLight:Ev,PointLightHelper:LH,Points:Am,PointsMaterial:gm,PolarGridHelper:OH,PolyhedronBufferGeometry:Ts,PolyhedronGeometry:Ts,PositionalAudio:dH,PropertyBinding:kt,PropertyMixer:ZS,QuadraticBezierCurve:fv,QuadraticBezierCurve3:hv,Quaternion:Jn,QuaternionKeyframeTrack:ca,QuaternionLinearInterpolant:VS,REVISION:lo,RGBADepthPacking:X5,RGBAFormat:Bn,RGBAIntegerFormat:iS,RGBA_ASTC_10x10_Format:_1,RGBA_ASTC_10x5_Format:C1,RGBA_ASTC_10x6_Format:E1,RGBA_ASTC_10x8_Format:S1,RGBA_ASTC_12x10_Format:b1,RGBA_ASTC_12x12_Format:I1,RGBA_ASTC_4x4_Format:hh,RGBA_ASTC_5x4_Format:p1,RGBA_ASTC_5x5_Format:m1,RGBA_ASTC_6x5_Format:g1,RGBA_ASTC_6x6_Format:A1,RGBA_ASTC_8x5_Format:v1,RGBA_ASTC_8x6_Format:y1,RGBA_ASTC_8x8_Format:x1,RGBA_BPTC_Format:dh,RGBA_ETC2_EAC_Format:fh,RGBA_PVRTC_2BPPV1_Format:d1,RGBA_PVRTC_4BPPV1_Format:ch,RGBA_S3TC_DXT1_Format:y0,RGBA_S3TC_DXT3_Format:x0,RGBA_S3TC_DXT5_Format:Nc,RGBFormat:eS,RGB_ETC1_Format:sm,RGB_ETC2_Format:uh,RGB_PVRTC_2BPPV1_Format:h1,RGB_PVRTC_4BPPV1_Format:lh,RGB_S3TC_DXT1_Format:kc,RGFormat:wc,RGIntegerFormat:rS,RawShaderMaterial:zf,Ray:Uh,Raycaster:e_,RectAreaLight:JS,RedFormat:al,RedIntegerFormat:nS,ReinhardToneMapping:WE,RepeatWrapping:wi,ReplaceStencilOp:OF,ReverseSubtractEquation:ME,RingBufferGeometry:ru,RingGeometry:ru,SRGBColorSpace:gs,Scene:Ah,ShaderChunk:Tt,ShaderLib:Hi,ShaderMaterial:Ot,ShadowMaterial:NS,Shape:Al,ShapeBufferGeometry:iu,ShapeGeometry:iu,ShapePath:r_,ShapeUtils:Ss,ShortType:qE,Skeleton:zh,SkeletonHelper:DH,SkinnedMesh:ov,SmoothShading:RF,Source:ul,Sphere:va,SphereBufferGeometry:la,SphereGeometry:la,Spherical:F1,SphericalHarmonics3:jS,SplineCurve:dv,SpotLight:Cv,SpotLightHelper:PH,Sprite:bS,SpriteMaterial:sv,SrcAlphaFactor:nh,SrcAlphaSaturateFactor:LE,SrcColorFactor:BE,StaticCopyUsage:tk,StaticDrawUsage:W0,StaticReadUsage:$F,StereoCamera:cH,StreamCopyUsage:rk,StreamDrawUsage:XF,StreamReadUsage:ek,StringKeyframeTrack:Bl,SubtractEquation:wE,SubtractiveBlending:l1,TOUCH:qa,TangentSpaceNormalMap:Ml,TetrahedronBufferGeometry:su,TetrahedronGeometry:su,TextGeometry:KH,Texture:En,TextureLoader:yv,TorusBufferGeometry:ou,TorusGeometry:ou,TorusKnotBufferGeometry:au,TorusKnotGeometry:au,Triangle:Ei,TriangleFanDrawMode:V0,TriangleStripDrawMode:Y5,TrianglesDrawMode:lS,TubeBufferGeometry:lu,TubeGeometry:lu,UVMapping:rm,Uint16BufferAttribute:ev,Uint32BufferAttribute:lm,Uint8BufferAttribute:Lk,Uint8ClampedBufferAttribute:Fk,Uniform:wv,UniformsLib:Ge,UniformsUtils:An,UnsignedByteType:er,UnsignedInt248Type:jo,UnsignedIntType:Vo,UnsignedShort4444Type:XE,UnsignedShort5551Type:$E,UnsignedShortType:Eu,VSMShadowMap:ol,Vector2:he,Vector3:L,Vector4:Nt,VectorKeyframeTrack:uu,VideoTexture:vQ,WebGL1Renderer:SS,WebGL3DRenderTarget:Sk,WebGLArrayRenderTarget:Ek,WebGLCubeRenderTarget:nv,WebGLMultipleRenderTargets:_k,WebGLMultisampleRenderTarget:$H,WebGLRenderTarget:Yt,WebGLRenderer:hm,WebGLUtils:CS,WireframeGeometry:kS,WrapAroundEnding:ph,ZeroCurvatureEnding:ll,ZeroFactor:Wc,ZeroSlopeEnding:cl,ZeroStencilOp:NF,_SRGBAFormat:J0,sRGBEncoding:an},Symbol.toStringTag,{value:"Module"})),Sx={desktop:2080,laptop:1680,tablet:1040,mobile:696,mobileS:400};function nz(...n){return n.filter(Boolean).join(" ")}function Tv(){}Tv.prototype.s2u=function(n){for(var e=this.s2uTable,t="",r=0;r<n.length;){var i=n[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<n.length&&(i=i<<8|n[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),t;t+=String.fromCharCode(e[i])}return t};Tv.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function _x(n,e){this.dv=new DataView(n),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new Tv}_x.prototype={constructor:_x,getInt8:function(){var n=this.dv.getInt8(this.offset);return this.offset+=1,n},getInt8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt8());return e},getUint8:function(){var n=this.dv.getUint8(this.offset);return this.offset+=1,n},getUint8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint8());return e},getInt16:function(){var n=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,n},getInt16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt16());return e},getUint16:function(){var n=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,n},getUint16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint16());return e},getInt32:function(){var n=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,n},getInt32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt32());return e},getUint32:function(){var n=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,n},getUint32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint32());return e},getFloat32:function(){var n=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n},getFloat32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat32());return e},getFloat64:function(){var n=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n},getFloat64Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat64());return e},getIndex:function(n,e){switch(n){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+n+" exception."}},getIndexArray:function(n,e,t){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(n,t));return r},getChars:function(n){for(var e="";n>0;){var t=this.getUint8();if(n--,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getSjisStringsAsUnicode:function(n){for(var e=[];n>0;){var t=this.getUint8();if(n--,t===0)break;e.push(t)}for(;n>0;)this.getUint8(),n--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(n){for(var e="";n>0;){var t=this.getUint16();if(n-=2,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getTextBuffer:function(){var n=this.getUint32();return this.getUnicodeStrings(n)}};function bx(){}bx.prototype={constructor:bx,leftToRightVector3:function(n){n[2]=-n[2]},leftToRightQuaternion:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightEuler:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightIndexOrder:function(n){var e=n[2];n[2]=n[0],n[0]=e},leftToRightVector3Range:function(n,e){var t=-e[2];e[2]=-n[2],n[2]=t},leftToRightEulerRange:function(n,e){var t=-e[0],r=-e[1];e[0]=-n[0],e[1]=-n[1],n[0]=t,n[1]=r}};const o_=0,rz=2,iz=0,sz=0,oz=2,az=0,lz=0,cz=1,k1=2,uz=1,fz=64,a_=0,l_=9,Bv=15,c_=16,Rv=22,u_=37,Pv=43,f_=76,h_=83,d_=97,p_=100,m_=103,g_=109;class hz{constructor(){this.vkFormat=a_,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=o_,this.levels=[],this.dataFormatDescriptor=[{vendorId:sz,descriptorType:iz,descriptorBlockSize:0,versionNumber:oz,colorModel:az,colorPrimaries:uz,transferFunction:k1,flags:lz,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class df{constructor(e,t,r,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,r),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),t=this._dataView.getUint32(this._offset+4,this._littleEndian),r=e+2**32*t;return this._offset+=8,r}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const r=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==t&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,i)}}const Sr=[171,75,84,88,32,50,48,187,13,10,26,10];function Ix(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):Buffer.from(n).toString("utf8")}function dz(n){const e=new Uint8Array(n.buffer,n.byteOffset,Sr.length);if(e[0]!==Sr[0]||e[1]!==Sr[1]||e[2]!==Sr[2]||e[3]!==Sr[3]||e[4]!==Sr[4]||e[5]!==Sr[5]||e[6]!==Sr[6]||e[7]!==Sr[7]||e[8]!==Sr[8]||e[9]!==Sr[9]||e[10]!==Sr[10]||e[11]!==Sr[11])throw new Error("Missing KTX 2.0 identifier.");const t=new hz,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new df(n,Sr.length,r,!0);t.vkFormat=i._nextUint32(),t.typeSize=i._nextUint32(),t.pixelWidth=i._nextUint32(),t.pixelHeight=i._nextUint32(),t.pixelDepth=i._nextUint32(),t.layerCount=i._nextUint32(),t.faceCount=i._nextUint32();const s=i._nextUint32();t.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),a=i._nextUint32(),l=i._nextUint32(),c=i._nextUint32(),u=i._nextUint64(),d=i._nextUint64(),p=s*3*8,m=new df(n,Sr.length+r,p,!0);for(let K=0;K<s;K++)t.levels.push({levelData:new Uint8Array(n.buffer,n.byteOffset+m._nextUint64(),m._nextUint64()),uncompressedByteLength:m._nextUint64()});const g=new df(n,o,a,!0),A={vendorId:g._skip(4)._nextUint16(),descriptorType:g._nextUint16(),versionNumber:g._nextUint16(),descriptorBlockSize:g._nextUint16(),colorModel:g._nextUint8(),colorPrimaries:g._nextUint8(),transferFunction:g._nextUint8(),flags:g._nextUint8(),texelBlockDimension:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],bytesPlane:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],samples:[]},v=6,C=4,x=(A.descriptorBlockSize/4-v)/C;for(let K=0;K<x;K++){const ee={bitOffset:g._nextUint16(),bitLength:g._nextUint8(),channelType:g._nextUint8(),samplePosition:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};ee.channelType&fz?(ee.sampleLower=g._nextInt32(),ee.sampleUpper=g._nextInt32()):(ee.sampleLower=g._nextUint32(),ee.sampleUpper=g._nextUint32()),A.samples[K]=ee}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(A);const E=new df(n,l,c,!0);for(;E._offset<c;){const K=E._nextUint32(),ee=E._scan(K),X=Ix(ee),ae=E._scan(K-ee.byteLength);t.keyValue[X]=X.match(/^ktx/i)?Ix(ae):ae,E._offset%4&&E._skip(4-E._offset%4)}if(d<=0)return t;const _=new df(n,u,d,!0),I=_._nextUint16(),M=_._nextUint16(),T=_._nextUint32(),w=_._nextUint32(),R=_._nextUint32(),D=_._nextUint32(),P=[];for(let K=0;K<s;K++)P.push({imageFlags:_._nextUint32(),rgbSliceByteOffset:_._nextUint32(),rgbSliceByteLength:_._nextUint32(),alphaSliceByteOffset:_._nextUint32(),alphaSliceByteLength:_._nextUint32()});const z=u+_._offset,q=z+T,k=q+w,Q=k+R,V=new Uint8Array(n.buffer,n.byteOffset+z,T),Y=new Uint8Array(n.buffer,n.byteOffset+q,w),G=new Uint8Array(n.buffer,n.byteOffset+k,R),j=new Uint8Array(n.buffer,n.byteOffset+Q,D);return t.globalData={endpointCount:I,selectorCount:M,imageDescs:P,endpointsData:V,selectorsData:Y,tablesData:G,extendedData:j},t}let $A,$s,N1;const ZA={env:{emscripten_notify_memory_growth:function(n){N1=new Uint8Array($s.exports.memory.buffer)}}};class pz{init(){return $A||($A=typeof fetch<"u"?fetch("data:application/wasm;base64,"+wx).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,ZA)).then(this._init):WebAssembly.instantiate(Buffer.from(wx,"base64"),ZA).then(this._init),$A)}_init(e){$s=e.instance,ZA.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!$s)throw new Error("ZSTDDecoder: Await .init() before decoding.");const r=e.byteLength,i=$s.exports.malloc(r);N1.set(e,i),t=t||Number($s.exports.ZSTD_findDecompressedSize(i,r));const s=$s.exports.malloc(t),o=$s.exports.ZSTD_decompress(s,t,i,r),a=N1.slice(s,s+o);return $s.exports.free(i),$s.exports.free(s),a}}const wx="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var n=function(){try{var t={},r=Object.defineProperty,i=r(t,t,t)&&r}catch{}return i}(),e=function(t){if(this==null)throw TypeError();var r=String(this),i=r.length,s=t?Number(t):0;if(s!=s&&(s=0),!(s<0||s>=i)){var o=r.charCodeAt(s),a;return o>=55296&&o<=56319&&i>s+1&&(a=r.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};n?n(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function A_(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var mz=new A_,gz=new A_,v_=new Uint8Array(30),y_=new Uint16Array(30),Az=new Uint8Array(30),vz=new Uint16Array(30);function x_(n,e,t,r){var i,s;for(i=0;i<t;++i)n[i]=0;for(i=0;i<30-t;++i)n[i+t]=i/t|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<n[i]}function yz(n,e){var t;for(t=0;t<7;++t)n.table[t]=0;for(n.table[7]=24,n.table[8]=152,n.table[9]=112,t=0;t<24;++t)n.trans[t]=256+t;for(t=0;t<144;++t)n.trans[24+t]=t;for(t=0;t<8;++t)n.trans[24+144+t]=280+t;for(t=0;t<112;++t)n.trans[24+144+8+t]=144+t;for(t=0;t<5;++t)e.table[t]=0;for(e.table[5]=32,t=0;t<32;++t)e.trans[t]=t}yz(mz,gz);x_(v_,y_,4,3);x_(Az,vz,2,1);v_[28]=0;y_[28]=258;function vc(n,e,t,r,i){return Math.pow(1-i,3)*n+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*t+Math.pow(i,3)*r}function xa(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}xa.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};xa.prototype.addPoint=function(n,e){typeof n=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=n,this.x2=n),n<this.x1&&(this.x1=n),n>this.x2&&(this.x2=n)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};xa.prototype.addX=function(n){this.addPoint(n,null)};xa.prototype.addY=function(n){this.addPoint(null,n)};xa.prototype.addBezier=function(n,e,t,r,i,s,o,a){var l=[n,e],c=[t,r],u=[i,s],d=[o,a];this.addPoint(n,e),this.addPoint(o,a);for(var p=0;p<=1;p++){var m=6*l[p]-12*c[p]+6*u[p],g=-3*l[p]+9*c[p]-9*u[p]+3*d[p],A=3*c[p]-3*l[p];if(g===0){if(m===0)continue;var v=-A/m;0<v&&v<1&&(p===0&&this.addX(vc(l[p],c[p],u[p],d[p],v)),p===1&&this.addY(vc(l[p],c[p],u[p],d[p],v)));continue}var C=Math.pow(m,2)-4*A*g;if(!(C<0)){var x=(-m+Math.sqrt(C))/(2*g);0<x&&x<1&&(p===0&&this.addX(vc(l[p],c[p],u[p],d[p],x)),p===1&&this.addY(vc(l[p],c[p],u[p],d[p],x)));var E=(-m-Math.sqrt(C))/(2*g);0<E&&E<1&&(p===0&&this.addX(vc(l[p],c[p],u[p],d[p],E)),p===1&&this.addY(vc(l[p],c[p],u[p],d[p],E)))}}};xa.prototype.addQuad=function(n,e,t,r,i,s){var o=n+.6666666666666666*(t-n),a=e+2/3*(r-e),l=o+1/3*(i-n),c=a+1/3*(s-e);this.addBezier(n,e,o,a,l,c,i,s)};function Kn(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Kn.prototype.moveTo=function(n,e){this.commands.push({type:"M",x:n,y:e})};Kn.prototype.lineTo=function(n,e){this.commands.push({type:"L",x:n,y:e})};Kn.prototype.curveTo=Kn.prototype.bezierCurveTo=function(n,e,t,r,i,s){this.commands.push({type:"C",x1:n,y1:e,x2:t,y2:r,x:i,y:s})};Kn.prototype.quadTo=Kn.prototype.quadraticCurveTo=function(n,e,t,r){this.commands.push({type:"Q",x1:n,y1:e,x:t,y:r})};Kn.prototype.close=Kn.prototype.closePath=function(){this.commands.push({type:"Z"})};Kn.prototype.extend=function(n){if(n.commands)n=n.commands;else if(n instanceof xa){var e=n;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,n)};Kn.prototype.getBoundingBox=function(){for(var n=new xa,e=0,t=0,r=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":n.addPoint(o.x,o.y),e=r=o.x,t=i=o.y;break;case"L":n.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":n.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":n.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=e,i=t;break;default:throw new Error("Unexpected path command "+o.type)}}return n.isEmpty()&&n.addPoint(0,0),n};Kn.prototype.draw=function(n){n.beginPath();for(var e=0;e<this.commands.length;e+=1){var t=this.commands[e];t.type==="M"?n.moveTo(t.x,t.y):t.type==="L"?n.lineTo(t.x,t.y):t.type==="C"?n.bezierCurveTo(t.x1,t.y1,t.x2,t.y2,t.x,t.y):t.type==="Q"?n.quadraticCurveTo(t.x1,t.y1,t.x,t.y):t.type==="Z"&&n.closePath()}this.fill&&(n.fillStyle=this.fill,n.fill()),this.stroke&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeWidth,n.stroke())};Kn.prototype.toPathData=function(n){n=n!==void 0?n:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(n)}function t(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var c=o[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];s.type==="M"?r+="M"+t(s.x,s.y):s.type==="L"?r+="L"+t(s.x,s.y):s.type==="C"?r+="C"+t(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?r+="Q"+t(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(r+="Z")}return r};Kn.prototype.toSVG=function(n){var e='<path d="';return e+=this.toPathData(n),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};Kn.prototype.toDOMElement=function(n){var e=this.toPathData(n),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};function C_(n){throw new Error(n)}function Mx(n,e){n||C_(e)}var vt={fail:C_,argument:Mx,assert:Mx},Tx=32768,Bx=2147483648,hu={},Qe={},gt={};function es(n){return function(){return n}}Qe.BYTE=function(n){return vt.argument(n>=0&&n<=255,"Byte value should be between 0 and 255."),[n]};gt.BYTE=es(1);Qe.CHAR=function(n){return[n.charCodeAt(0)]};gt.CHAR=es(1);Qe.CHARARRAY=function(n){typeof n>"u"&&(n="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],t=0;t<n.length;t+=1)e[t]=n.charCodeAt(t);return e};gt.CHARARRAY=function(n){return typeof n>"u"?0:n.length};Qe.USHORT=function(n){return[n>>8&255,n&255]};gt.USHORT=es(2);Qe.SHORT=function(n){return n>=Tx&&(n=-(2*Tx-n)),[n>>8&255,n&255]};gt.SHORT=es(2);Qe.UINT24=function(n){return[n>>16&255,n>>8&255,n&255]};gt.UINT24=es(3);Qe.ULONG=function(n){return[n>>24&255,n>>16&255,n>>8&255,n&255]};gt.ULONG=es(4);Qe.LONG=function(n){return n>=Bx&&(n=-(2*Bx-n)),[n>>24&255,n>>16&255,n>>8&255,n&255]};gt.LONG=es(4);Qe.FIXED=Qe.ULONG;gt.FIXED=gt.ULONG;Qe.FWORD=Qe.SHORT;gt.FWORD=gt.SHORT;Qe.UFWORD=Qe.USHORT;gt.UFWORD=gt.USHORT;Qe.LONGDATETIME=function(n){return[0,0,0,0,n>>24&255,n>>16&255,n>>8&255,n&255]};gt.LONGDATETIME=es(8);Qe.TAG=function(n){return vt.argument(n.length===4,"Tag should be exactly 4 ASCII characters."),[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]};gt.TAG=es(4);Qe.Card8=Qe.BYTE;gt.Card8=gt.BYTE;Qe.Card16=Qe.USHORT;gt.Card16=gt.USHORT;Qe.OffSize=Qe.BYTE;gt.OffSize=gt.BYTE;Qe.SID=Qe.USHORT;gt.SID=gt.USHORT;Qe.NUMBER=function(n){return n>=-107&&n<=107?[n+139]:n>=108&&n<=1131?(n=n-108,[(n>>8)+247,n&255]):n>=-1131&&n<=-108?(n=-n-108,[(n>>8)+251,n&255]):n>=-32768&&n<=32767?Qe.NUMBER16(n):Qe.NUMBER32(n)};gt.NUMBER=function(n){return Qe.NUMBER(n).length};Qe.NUMBER16=function(n){return[28,n>>8&255,n&255]};gt.NUMBER16=es(3);Qe.NUMBER32=function(n){return[29,n>>24&255,n>>16&255,n>>8&255,n&255]};gt.NUMBER32=es(5);Qe.REAL=function(n){var e=n.toString(),t=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(t){var r=parseFloat("1e"+((t[2]?+t[2]:0)+t[1].length));e=(Math.round(n*r)/r).toString()}for(var i="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?i+=e[++s]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],c=0,u=i.length;c<u;c+=2)l.push(parseInt(i.substr(c,2),16));return l};gt.REAL=function(n){return Qe.REAL(n).length};Qe.NAME=Qe.CHARARRAY;gt.NAME=gt.CHARARRAY;Qe.STRING=Qe.CHARARRAY;gt.STRING=gt.CHARARRAY;hu.UTF8=function(n,e,t){for(var r=[],i=t,s=0;s<i;s++,e+=1)r[s]=n.getUint8(e);return String.fromCharCode.apply(null,r)};hu.UTF16=function(n,e,t){for(var r=[],i=t/2,s=0;s<i;s++,e+=2)r[s]=n.getUint16(e);return String.fromCharCode.apply(null,r)};Qe.UTF16=function(n){for(var e=[],t=0;t<n.length;t+=1){var r=n.charCodeAt(t);e[e.length]=r>>8&255,e[e.length]=r&255}return e};gt.UTF16=function(n){return n.length*2};var O1={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};hu.MACSTRING=function(n,e,t,r){var i=O1[r];if(i!==void 0){for(var s="",o=0;o<t;o++){var a=n.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=i[a&127]}return s}};var $p=typeof WeakMap=="function"&&new WeakMap,Zp,xz=function(n){if(!Zp){Zp={};for(var e in O1)Zp[e]=new String(e)}var t=Zp[n];if(t!==void 0){if($p){var r=$p.get(t);if(r!==void 0)return r}var i=O1[n];if(i!==void 0){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return $p&&$p.set(t,s),s}}};Qe.MACSTRING=function(n,e){var t=xz(e);if(t!==void 0){for(var r=[],i=0;i<n.length;i++){var s=n.charCodeAt(i);if(s>=128&&(s=t[s],s===void 0))return;r[i]=s}return r}};gt.MACSTRING=function(n,e){var t=Qe.MACSTRING(n,e);return t!==void 0?t.length:0};function U1(n){return n>=-128&&n<=127}function Cz(n,e,t){for(var r=0,i=n.length;e<i&&r<64&&n[e]===0;)++e,++r;return t.push(128|r-1),e}function Ez(n,e,t){for(var r=0,i=n.length,s=e;s<i&&r<64;){var o=n[s];if(!U1(o)||o===0&&s+1<i&&n[s+1]===0)break;++s,++r}t.push(r-1);for(var a=e;a<s;++a)t.push(n[a]+256&255);return s}function Sz(n,e,t){for(var r=0,i=n.length,s=e;s<i&&r<64;){var o=n[s];if(o===0||U1(o)&&s+1<i&&U1(n[s+1]))break;++s,++r}t.push(64|r-1);for(var a=e;a<s;++a){var l=n[a];t.push(l+65536>>8&255,l+256&255)}return s}Qe.VARDELTAS=function(n){for(var e=0,t=[];e<n.length;){var r=n[e];r===0?e=Cz(n,e,t):r>=-128&&r<=127?e=Ez(n,e,t):e=Sz(n,e,t)}return t};Qe.INDEX=function(n){for(var e=1,t=[e],r=[],i=0;i<n.length;i+=1){var s=Qe.OBJECT(n[i]);Array.prototype.push.apply(r,s),e+=s.length,t.push(e)}if(r.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,Qe.BYTE,Qe.USHORT,Qe.UINT24,Qe.ULONG][a],c=0;c<t.length;c+=1){var u=l(t[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(Qe.Card16(n.length),Qe.OffSize(a),o,r)};gt.INDEX=function(n){return Qe.INDEX(n).length};Qe.DICT=function(n){for(var e=[],t=Object.keys(n),r=t.length,i=0;i<r;i+=1){var s=parseInt(t[i],0),o=n[s];e=e.concat(Qe.OPERAND(o.value,o.type)),e=e.concat(Qe.OPERATOR(s))}return e};gt.DICT=function(n){return Qe.DICT(n).length};Qe.OPERATOR=function(n){return n<1200?[n]:[12,n-1200]};Qe.OPERAND=function(n,e){var t=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)vt.argument(n.length===e.length,"Not enough arguments given for type"+e),t=t.concat(Qe.OPERAND(n[r],e[r]));else if(e==="SID")t=t.concat(Qe.NUMBER(n));else if(e==="offset")t=t.concat(Qe.NUMBER32(n));else if(e==="number")t=t.concat(Qe.NUMBER(n));else if(e==="real")t=t.concat(Qe.REAL(n));else throw new Error("Unknown operand type "+e);return t};Qe.OP=Qe.BYTE;gt.OP=gt.BYTE;var e0=typeof WeakMap=="function"&&new WeakMap;Qe.CHARSTRING=function(n){if(e0){var e=e0.get(n);if(e!==void 0)return e}for(var t=[],r=n.length,i=0;i<r;i+=1){var s=n[i];t=t.concat(Qe[s.type](s.value))}return e0&&e0.set(n,t),t};gt.CHARSTRING=function(n){return Qe.CHARSTRING(n).length};Qe.OBJECT=function(n){var e=Qe[n.type];return vt.argument(e!==void 0,"No encoding function for type "+n.type),e(n.value)};gt.OBJECT=function(n){var e=gt[n.type];return vt.argument(e!==void 0,"No sizeOf function for type "+n.type),e(n.value)};Qe.TABLE=function(n){for(var e=[],t=n.fields.length,r=[],i=[],s=0;s<t;s+=1){var o=n.fields[s],a=Qe[o.type];vt.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=n[o.name];l===void 0&&(l=o.value);var c=a(l);o.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(c)):e=e.concat(c)}for(var u=0;u<r.length;u+=1){var d=i[u],p=e.length;vt.argument(p<65536,"Table "+n.tableName+" too big."),e[d]=p>>8,e[d+1]=p&255,e=e.concat(r[u])}return e};gt.TABLE=function(n){for(var e=0,t=n.fields.length,r=0;r<t;r+=1){var i=n.fields[r],s=gt[i.type];vt.argument(s!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=n[i.name];o===void 0&&(o=i.value),e+=s(o),i.type==="TABLE"&&(e+=2)}return e};Qe.RECORD=Qe.TABLE;gt.RECORD=gt.TABLE;Qe.LITERAL=function(n){return n};gt.LITERAL=function(n){return n.length};function tr(n,e,t){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=n,this.fields=e,t)for(var s=Object.keys(t),o=0;o<s.length;o+=1){var a=s[o],l=t[a];this[a]!==void 0&&(this[a]=l)}}tr.prototype.encode=function(){return Qe.TABLE(this)};tr.prototype.sizeOf=function(){return gt.TABLE(this)};function Sh(n,e,t){t===void 0&&(t=e.length);var r=new Array(e.length+1);r[0]={name:n+"Count",type:"USHORT",value:t};for(var i=0;i<e.length;i++)r[i+1]={name:n+i,type:"USHORT",value:e[i]};return r}function G1(n,e,t){var r=e.length,i=new Array(r+1);i[0]={name:n+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i[s+1]={name:n+s,type:"TABLE",value:t(e[s],s)};return i}function _h(n,e,t){var r=e.length,i=[];i[0]={name:n+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i=i.concat(t(e[s],s));return i}function K0(n){n.format===1?tr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Sh("glyph",n.glyphs))):n.format===2?tr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(_h("rangeRecord",n.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):vt.assert(!1,"Coverage format must be 1 or 2.")}K0.prototype=Object.create(tr.prototype);K0.prototype.constructor=K0;function q0(n){tr.call(this,"scriptListTable",_h("scriptRecord",n,function(e,t){var r=e.script,i=r.defaultLangSys;return vt.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new tr("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new tr("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(Sh("featureIndex",i.featureIndexes)))}].concat(_h("langSys",r.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new tr("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Sh("featureIndex",a.featureIndexes)))}]})))}]}))}q0.prototype=Object.create(tr.prototype);q0.prototype.constructor=q0;function Y0(n){tr.call(this,"featureListTable",_h("featureRecord",n,function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new tr("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Sh("lookupListIndex",r.lookupListIndexes)))}]}))}Y0.prototype=Object.create(tr.prototype);Y0.prototype.constructor=Y0;function X0(n,e){tr.call(this,"lookupListTable",G1("lookup",n,function(t){var r=e[t.lookupType];return vt.assert(!!r,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new tr("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(G1("subtable",t.subtables,r)))}))}X0.prototype=Object.create(tr.prototype);X0.prototype.constructor=X0;var $e={Table:tr,Record:tr,Coverage:K0,ScriptList:q0,FeatureList:Y0,LookupList:X0,ushortList:Sh,tableList:G1,recordList:_h};function Rx(n,e){return n.getUint8(e)}function $0(n,e){return n.getUint16(e,!1)}function _z(n,e){return n.getInt16(e,!1)}function Dv(n,e){return n.getUint32(e,!1)}function E_(n,e){var t=n.getInt16(e,!1),r=n.getUint16(e+2,!1);return t+r/65535}function bz(n,e){for(var t="",r=e;r<e+4;r+=1)t+=String.fromCharCode(n.getInt8(r));return t}function Iz(n,e,t){for(var r=0,i=0;i<t;i+=1)r<<=8,r+=n.getUint8(e+i);return r}function wz(n,e,t){for(var r=[],i=e;i<t;i+=1)r.push(n.getUint8(i));return r}function Mz(n){for(var e="",t=0;t<n.length;t+=1)e+=String.fromCharCode(n[t]);return e}var Tz={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ge(n,e){this.data=n,this.offset=e,this.relativeOffset=0}ge.prototype.parseByte=function(){var n=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};ge.prototype.parseChar=function(){var n=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};ge.prototype.parseCard8=ge.prototype.parseByte;ge.prototype.parseUShort=function(){var n=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};ge.prototype.parseCard16=ge.prototype.parseUShort;ge.prototype.parseSID=ge.prototype.parseUShort;ge.prototype.parseOffset16=ge.prototype.parseUShort;ge.prototype.parseShort=function(){var n=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};ge.prototype.parseF2Dot14=function(){var n=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,n};ge.prototype.parseULong=function(){var n=Dv(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};ge.prototype.parseOffset32=ge.prototype.parseULong;ge.prototype.parseFixed=function(){var n=E_(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};ge.prototype.parseString=function(n){var e=this.data,t=this.offset+this.relativeOffset,r="";this.relativeOffset+=n;for(var i=0;i<n;i++)r+=String.fromCharCode(e.getUint8(t+i));return r};ge.prototype.parseTag=function(){return this.parseString(4)};ge.prototype.parseLongDateTime=function(){var n=Dv(this.data,this.offset+this.relativeOffset+4);return n-=2082844800,this.relativeOffset+=8,n};ge.prototype.parseVersion=function(n){var e=$0(this.data,this.offset+this.relativeOffset),t=$0(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,n===void 0&&(n=4096),e+t/n/10};ge.prototype.skip=function(n,e){e===void 0&&(e=1),this.relativeOffset+=Tz[n]*e};ge.prototype.parseULongList=function(n){n===void 0&&(n=this.parseULong());for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getUint32(r),r+=4;return this.relativeOffset+=n*4,e};ge.prototype.parseOffset16List=ge.prototype.parseUShortList=function(n){n===void 0&&(n=this.parseUShort());for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getUint16(r),r+=2;return this.relativeOffset+=n*2,e};ge.prototype.parseShortList=function(n){for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getInt16(r),r+=2;return this.relativeOffset+=n*2,e};ge.prototype.parseByteList=function(n){for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getUint8(r++);return this.relativeOffset+=n,e};ge.prototype.parseList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),r=0;r<n;r++)t[r]=e.call(this);return t};ge.prototype.parseList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),r=0;r<n;r++)t[r]=e.call(this);return t};ge.prototype.parseRecordList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),r=Object.keys(e),i=0;i<n;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}t[i]=s}return t};ge.prototype.parseRecordList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),r=Object.keys(e),i=0;i<n;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}t[i]=s}return t};ge.prototype.parseStruct=function(n){if(typeof n=="function")return n.call(this);for(var e=Object.keys(n),t={},r=0;r<e.length;r++){var i=e[r],s=n[i];t[i]=s.call(this)}return t};ge.prototype.parseValueRecord=function(n){if(n===void 0&&(n=this.parseUShort()),n!==0){var e={};return n&1&&(e.xPlacement=this.parseShort()),n&2&&(e.yPlacement=this.parseShort()),n&4&&(e.xAdvance=this.parseShort()),n&8&&(e.yAdvance=this.parseShort()),n&16&&(e.xPlaDevice=void 0,this.parseShort()),n&32&&(e.yPlaDevice=void 0,this.parseShort()),n&64&&(e.xAdvDevice=void 0,this.parseShort()),n&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};ge.prototype.parseValueRecordList=function(){for(var n=this.parseUShort(),e=this.parseUShort(),t=new Array(e),r=0;r<e;r++)t[r]=this.parseValueRecord(n);return t};ge.prototype.parsePointer=function(n){var e=this.parseOffset16();if(e>0)return new ge(this.data,this.offset+e).parseStruct(n)};ge.prototype.parsePointer32=function(n){var e=this.parseOffset32();if(e>0)return new ge(this.data,this.offset+e).parseStruct(n)};ge.prototype.parseListOfLists=function(n){for(var e=this.parseOffset16List(),t=e.length,r=this.relativeOffset,i=new Array(t),s=0;s<t;s++){var o=e[s];if(o===0){i[s]=void 0;continue}if(this.relativeOffset=o,n){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=n.call(this);i[s]=l}else i[s]=this.parseUShortList()}return this.relativeOffset=r,i};ge.prototype.parseCoverage=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort(),t=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(t)};if(e===2){for(var r=new Array(t),i=0;i<t;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+n.toString(16)+": Coverage format must be 1 or 2.")};ge.prototype.parseClassDef=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:ge.uShort,end:ge.uShort,classId:ge.uShort})};throw new Error("0x"+n.toString(16)+": ClassDef format must be 1 or 2.")};ge.list=function(n,e){return function(){return this.parseList(n,e)}};ge.list32=function(n,e){return function(){return this.parseList32(n,e)}};ge.recordList=function(n,e){return function(){return this.parseRecordList(n,e)}};ge.recordList32=function(n,e){return function(){return this.parseRecordList32(n,e)}};ge.pointer=function(n){return function(){return this.parsePointer(n)}};ge.pointer32=function(n){return function(){return this.parsePointer32(n)}};ge.tag=ge.prototype.parseTag;ge.byte=ge.prototype.parseByte;ge.uShort=ge.offset16=ge.prototype.parseUShort;ge.uShortList=ge.prototype.parseUShortList;ge.uLong=ge.offset32=ge.prototype.parseULong;ge.uLongList=ge.prototype.parseULongList;ge.struct=ge.prototype.parseStruct;ge.coverage=ge.prototype.parseCoverage;ge.classDef=ge.prototype.parseClassDef;var Px={reserved:ge.uShort,reqFeatureIndex:ge.uShort,featureIndexes:ge.uShortList};ge.prototype.parseScriptList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,script:ge.pointer({defaultLangSys:ge.pointer(Px),langSysRecords:ge.recordList({tag:ge.tag,langSys:ge.pointer(Px)})})}))||[]};ge.prototype.parseFeatureList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,feature:ge.pointer({featureParams:ge.offset16,lookupListIndexes:ge.uShortList})}))||[]};ge.prototype.parseLookupList=function(n){return this.parsePointer(ge.list(ge.pointer(function(){var e=this.parseUShort();vt.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var t=this.parseUShort(),r=t&16;return{lookupType:e,lookupFlag:t,subtables:this.parseList(ge.pointer(n[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};ge.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var n=this.parseUShort(),e=this.parseUShort();vt.argument(n===1&&e<1,"GPOS/GSUB feature variations table unknown.");var t=this.parseRecordList32({conditionSetOffset:ge.offset32,featureTableSubstitutionOffset:ge.offset32});return t})||[]};var Et={getByte:Rx,getCard8:Rx,getUShort:$0,getCard16:$0,getShort:_z,getULong:Dv,getFixed:E_,getTag:bz,getOffset:Iz,getBytes:wz,bytesToString:Mz,Parser:ge};function Bz(n,e){e.parseUShort(),n.length=e.parseULong(),n.language=e.parseULong();var t;n.groupCount=t=e.parseULong(),n.glyphIndexMap={};for(var r=0;r<t;r+=1)for(var i=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=i;a<=s;a+=1)n.glyphIndexMap[a]=o,o++}function Rz(n,e,t,r,i){n.length=e.parseUShort(),n.language=e.parseUShort();var s;n.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),n.glyphIndexMap={};for(var o=new Et.Parser(t,r+i+14),a=new Et.Parser(t,r+i+16+s*2),l=new Et.Parser(t,r+i+16+s*4),c=new Et.Parser(t,r+i+16+s*6),u=r+i+16+s*8,d=0;d<s-1;d+=1)for(var p=void 0,m=o.parseUShort(),g=a.parseUShort(),A=l.parseShort(),v=c.parseUShort(),C=g;C<=m;C+=1)v!==0?(u=c.offset+c.relativeOffset-2,u+=v,u+=(C-g)*2,p=Et.getUShort(t,u),p!==0&&(p=p+A&65535)):p=C+A&65535,n.glyphIndexMap[C]=p}function Pz(n,e){var t={};t.version=Et.getUShort(n,e),vt.argument(t.version===0,"cmap table version should be 0."),t.numTables=Et.getUShort(n,e+2);for(var r=-1,i=t.numTables-1;i>=0;i-=1){var s=Et.getUShort(n,e+4+i*8),o=Et.getUShort(n,e+4+i*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){r=Et.getULong(n,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new Et.Parser(n,e+r);if(t.format=a.parseUShort(),t.format===12)Bz(t,a);else if(t.format===4)Rz(t,a,n,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+t.format+").");return t}function Dz(n,e,t){n.segments.push({end:e,start:e,delta:-(e-t),offset:0,glyphIndex:t})}function Lz(n){n.segments.push({end:65535,start:65535,delta:1,offset:0})}function Fz(n){var e=!0,t;for(t=n.length-1;t>0;t-=1){var r=n.get(t);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new $e.Table("cmap",i);for(s.segments=[],t=0;t<n.length;t+=1){for(var o=n.get(t),a=0;a<o.unicodes.length;a+=1)Dz(s,o.unicodes[a],t);s.segments=s.segments.sort(function(x,E){return x.start-E.start})}Lz(s);var l=s.segments.length,c=0,u=[],d=[],p=[],m=[],g=[],A=[];for(t=0;t<l;t+=1){var v=s.segments[t];v.end<=65535&&v.start<=65535?(u=u.concat({name:"end_"+t,type:"USHORT",value:v.end}),d=d.concat({name:"start_"+t,type:"USHORT",value:v.start}),p=p.concat({name:"idDelta_"+t,type:"SHORT",value:v.delta}),m=m.concat({name:"idRangeOffset_"+t,type:"USHORT",value:v.offset}),v.glyphId!==void 0&&(g=g.concat({name:"glyph_"+t,type:"USHORT",value:v.glyphId}))):c+=1,!e&&v.glyphIndex!==void 0&&(A=A.concat({name:"cmap12Start_"+t,type:"ULONG",value:v.start}),A=A.concat({name:"cmap12End_"+t,type:"ULONG",value:v.end}),A=A.concat({name:"cmap12Glyph_"+t,type:"ULONG",value:v.glyphIndex}))}if(s.segCountX2=(l-c)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(u),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(d),s.fields=s.fields.concat(p),s.fields=s.fields.concat(m),s.fields=s.fields.concat(g),s.cmap4Length=14+u.length*2+2+d.length*2+p.length*2+m.length*2+g.length*2,!e){var C=16+A.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:C},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:A.length/3}]),s.fields=s.fields.concat(A)}return s}var kz={parse:Pz,make:Fz},I0=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Nz=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Oz=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Dx=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function S_(n){this.font=n}S_.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.font.glyphs;if(t){for(var r=0;r<t.length;r+=1)for(var i=t.get(r),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===e)return r}return null};function Z0(n,e){this.encoding=n,this.charset=e}Z0.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.encoding[e];return this.charset.indexOf(t)};function Uz(n,e,t,r,i){n.beginPath(),n.moveTo(e,t),n.lineTo(r,i),n.stroke()}var Va={line:Uz};function Gz(n,e){var t=e||new Kn;return{configurable:!0,get:function(){return typeof t=="function"&&(t=t()),t},set:function(r){t=r}}}function Pi(n){this.bindConstructorValues(n)}Pi.prototype.bindConstructorValues=function(n){this.index=n.index||0,this.name=n.name||null,this.unicode=n.unicode||void 0,this.unicodes=n.unicodes||n.unicode!==void 0?[n.unicode]:[],"xMin"in n&&(this.xMin=n.xMin),"yMin"in n&&(this.yMin=n.yMin),"xMax"in n&&(this.xMax=n.xMax),"yMax"in n&&(this.yMax=n.yMax),"advanceWidth"in n&&(this.advanceWidth=n.advanceWidth),Object.defineProperty(this,"path",Gz(this,n.path))};Pi.prototype.addUnicode=function(n){this.unicodes.length===0&&(this.unicode=n),this.unicodes.push(n)};Pi.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Pi.prototype.getPath=function(n,e,t,r,i){n=n!==void 0?n:0,e=e!==void 0?e:0,t=t!==void 0?t:72;var s,o;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,t)),o)s=i.hinting.getCommands(o),n=Math.round(n),e=Math.round(e),a=l=1;else{s=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*t;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new Kn,d=0;d<s.length;d+=1){var p=s[d];p.type==="M"?u.moveTo(n+p.x*a,e+-p.y*l):p.type==="L"?u.lineTo(n+p.x*a,e+-p.y*l):p.type==="Q"?u.quadraticCurveTo(n+p.x1*a,e+-p.y1*l,n+p.x*a,e+-p.y*l):p.type==="C"?u.curveTo(n+p.x1*a,e+-p.y1*l,n+p.x2*a,e+-p.y2*l,n+p.x*a,e+-p.y*l):p.type==="Z"&&u.closePath()}return u};Pi.prototype.getContours=function(){if(this.points===void 0)return[];for(var n=[],e=[],t=0;t<this.points.length;t+=1){var r=this.points[t];e.push(r),r.lastPointOfContour&&(n.push(e),e=[])}return vt.argument(e.length===0,"There are still points left in the current contour."),n};Pi.prototype.getMetrics=function(){for(var n=this.path.commands,e=[],t=[],r=0;r<n.length;r+=1){var i=n[r];i.type!=="Z"&&(e.push(i.x),t.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),t.push(i.y1)),i.type==="C"&&(e.push(i.x2),t.push(i.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,t),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};Pi.prototype.draw=function(n,e,t,r,i){this.getPath(e,t,r,i).draw(n)};Pi.prototype.drawPoints=function(n,e,t,r){function i(d,p,m,g){n.beginPath();for(var A=0;A<d.length;A+=1)n.moveTo(p+d[A].x*g,m+d[A].y*g),n.arc(p+d[A].x*g,m+d[A].y*g,2,0,Math.PI*2,!1);n.closePath(),n.fill()}e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}n.fillStyle="blue",i(o,e,t,s),n.fillStyle="red",i(a,e,t,s)};Pi.prototype.drawMetrics=function(n,e,t,r){var i;e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,n.lineWidth=1,n.strokeStyle="black",Va.line(n,e,-1e4,e,1e4),Va.line(n,-1e4,t,1e4,t);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;n.strokeStyle="blue",Va.line(n,e+s*i,-1e4,e+s*i,1e4),Va.line(n,e+a*i,-1e4,e+a*i,1e4),Va.line(n,-1e4,t+-o*i,1e4,t+-o*i),Va.line(n,-1e4,t+-l*i,1e4,t+-l*i),n.strokeStyle="green",Va.line(n,e+c*i,-1e4,e+c*i,1e4)};function t0(n,e,t){Object.defineProperty(n,e,{get:function(){return n.path,n[t]},set:function(r){n[t]=r},enumerable:!0,configurable:!0})}function Lv(n,e){if(this.font=n,this.glyphs={},Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];r.path.unitsPerEm=n.unitsPerEm,this.glyphs[t]=r}this.length=e&&e.length||0}Lv.prototype.get=function(n){if(this.glyphs[n]===void 0){this.font._push(n),typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());var e=this.glyphs[n],t=this.font._IndexToUnicodeMap[n];if(t)for(var r=0;r<t.unicodes.length;r++)e.addUnicode(t.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+n:e.name=this.font.cffEncoding.charset[n]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(n)),this.glyphs[n].advanceWidth=this.font._hmtxTableData[n].advanceWidth,this.glyphs[n].leftSideBearing=this.font._hmtxTableData[n].leftSideBearing}else typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());return this.glyphs[n]};Lv.prototype.push=function(n,e){this.glyphs[n]=e,this.length++};function Qz(n,e){return new Pi({index:e,font:n})}function Hz(n,e,t,r,i,s){return function(){var o=new Pi({index:e,font:n});return o.path=function(){t(o,r,i);var a=s(n.glyphs,o);return a.unitsPerEm=n.unitsPerEm,a},t0(o,"xMin","_xMin"),t0(o,"xMax","_xMax"),t0(o,"yMin","_yMin"),t0(o,"yMax","_yMax"),o}}function zz(n,e,t,r){return function(){var i=new Pi({index:e,font:n});return i.path=function(){var s=t(n,i,r);return s.unitsPerEm=n.unitsPerEm,s},i}}var bs={GlyphSet:Lv,glyphLoader:Qz,ttfGlyphLoader:Hz,cffGlyphLoader:zz};function __(n,e){if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t+=1)if(!__(n[t],e[t]))return!1;return!0}else return!1}function Q1(n){var e;return n.length<1240?e=107:n.length<33900?e=1131:e=32768,e}function Go(n,e,t){var r=[],i=[],s=Et.getCard16(n,e),o,a;if(s!==0){var l=Et.getByte(n,e+2);o=e+(s+1)*l+2;for(var c=e+3,u=0;u<s+1;u+=1)r.push(Et.getOffset(n,c,l)),c+=l;a=o+r[s]}else a=e+2;for(var d=0;d<r.length-1;d+=1){var p=Et.getBytes(n,o+r[d],o+r[d+1]);t&&(p=t(p)),i.push(p)}return{objects:i,startOffset:e,endOffset:a}}function Vz(n,e){var t=[],r=Et.getCard16(n,e),i,s;if(r!==0){var o=Et.getByte(n,e+2);i=e+(r+1)*o+2;for(var a=e+3,l=0;l<r+1;l+=1)t.push(Et.getOffset(n,a,o)),a+=o;s=i+t[r]}else s=e+2;return{offsets:t,startOffset:e,endOffset:s}}function Wz(n,e,t,r,i){var s=Et.getCard16(t,r),o=0;if(s!==0){var a=Et.getByte(t,r+2);o=r+(s+1)*a+2}var l=Et.getBytes(t,o+e[n],o+e[n+1]);return i&&(l=i(l)),l}function Jz(n){for(var e="",t=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=n.parseByte(),s=i>>4,o=i&15;if(s===t||(e+=r[s],o===t))break;e+=r[o]}return parseFloat(e)}function jz(n,e){var t,r,i,s;if(e===28)return t=n.parseByte(),r=n.parseByte(),t<<8|r;if(e===29)return t=n.parseByte(),r=n.parseByte(),i=n.parseByte(),s=n.parseByte(),t<<24|r<<16|i<<8|s;if(e===30)return Jz(n);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return t=n.parseByte(),(e-247)*256+t+108;if(e>=251&&e<=254)return t=n.parseByte(),-(e-251)*256-t-108;throw new Error("Invalid b0 "+e)}function Kz(n){for(var e={},t=0;t<n.length;t+=1){var r=n[t][0],i=n[t][1],s=void 0;if(i.length===1?s=i[0]:s=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=s}return e}function b_(n,e,t){e=e!==void 0?e:0;var r=new Et.Parser(n,e),i=[],s=[];for(t=t!==void 0?t:n.length;r.relativeOffset<t;){var o=r.parseByte();o<=21?(o===12&&(o=1200+r.parseByte()),i.push([o,s]),s=[]):s.push(jz(r,o))}return Kz(i)}function Vf(n,e){return e<=390?e=I0[e]:e=n[e-391],e}function I_(n,e,t){for(var r={},i,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)i=n[o.op]!==void 0?n[o.op][l]:void 0,i===void 0&&(i=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(i=Vf(t,i)),a[l]=i;r[o.name]=a}else i=n[o.op],i===void 0&&(i=o.value!==void 0?o.value:null),o.type==="SID"&&(i=Vf(t,i)),r[o.name]=i}return r}function qz(n,e){var t={};return t.formatMajor=Et.getCard8(n,e),t.formatMinor=Et.getCard8(n,e+1),t.size=Et.getCard8(n,e+2),t.offsetSize=Et.getCard8(n,e+3),t.startOffset=e,t.endOffset=e+4,t}var w_=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],M_=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Yz(n,e){var t=b_(n,0,n.byteLength);return I_(t,w_,e)}function T_(n,e,t,r){var i=b_(n,e,t);return I_(i,M_,r)}function Lx(n,e,t,r){for(var i=[],s=0;s<t.length;s+=1){var o=new DataView(new Uint8Array(t[s]).buffer),a=Yz(o,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=T_(n,c+e,l,r);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var d=c+u.subrs,p=Go(n,d+e);a._subrs=p.objects,a._subrsBias=Q1(a._subrs)}a._privateDict=u}i.push(a)}return i}function Xz(n,e,t,r){var i,s,o=new Et.Parser(n,e);t-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var c=0;c<t;c+=1)i=o.parseSID(),a.push(Vf(r,i));else if(l===1)for(;a.length<=t;){i=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push(Vf(r,i)),i+=1}else if(l===2)for(;a.length<=t;){i=o.parseSID(),s=o.parseCard16();for(var d=0;d<=s;d+=1)a.push(Vf(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function $z(n,e,t){var r,i={},s=new Et.Parser(n,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)r=s.parseCard8(),i[r]=l;else if(o===1){var c=s.parseCard8();r=1;for(var u=0;u<c;u+=1)for(var d=s.parseCard8(),p=s.parseCard8(),m=d;m<=d+p;m+=1)i[m]=r,r+=1}else throw new Error("Unknown encoding format "+o);return new Z0(i,t)}function Fx(n,e,t){var r,i,s,o,a=new Kn,l=[],c=0,u=!1,d=!1,p=0,m=0,g,A,v,C;if(n.isCIDFont){var x=n.tables.cff.topDict._fdSelect[e.index],E=n.tables.cff.topDict._fdArray[x];g=E._subrs,A=E._subrsBias,v=E._defaultWidthX,C=E._nominalWidthX}else g=n.tables.cff.topDict._subrs,A=n.tables.cff.topDict._subrsBias,v=n.tables.cff.topDict._defaultWidthX,C=n.tables.cff.topDict._nominalWidthX;var _=v;function I(w,R){d&&a.closePath(),a.moveTo(w,R),d=!0}function M(){var w;w=l.length%2!==0,w&&!u&&(_=l.shift()+C),c+=l.length>>1,l.length=0,u=!0}function T(w){for(var R,D,P,z,q,k,Q,V,Y,G,j,K,ee=0;ee<w.length;){var X=w[ee];switch(ee+=1,X){case 1:M();break;case 3:M();break;case 4:l.length>1&&!u&&(_=l.shift()+C,u=!0),m+=l.pop(),I(p,m);break;case 5:for(;l.length>0;)p+=l.shift(),m+=l.shift(),a.lineTo(p,m);break;case 6:for(;l.length>0&&(p+=l.shift(),a.lineTo(p,m),l.length!==0);)m+=l.shift(),a.lineTo(p,m);break;case 7:for(;l.length>0&&(m+=l.shift(),a.lineTo(p,m),l.length!==0);)p+=l.shift(),a.lineTo(p,m);break;case 8:for(;l.length>0;)r=p+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),p=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,p,m);break;case 10:q=l.pop()+A,k=g[q],k&&T(k);break;case 11:return;case 12:switch(X=w[ee],ee+=1,X){case 35:r=p+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),Q=s+l.shift(),V=o+l.shift(),Y=Q+l.shift(),G=V+l.shift(),j=Y+l.shift(),K=G+l.shift(),p=j+l.shift(),m=K+l.shift(),l.shift(),a.curveTo(r,i,s,o,Q,V),a.curveTo(Y,G,j,K,p,m);break;case 34:r=p+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),Q=s+l.shift(),V=o,Y=Q+l.shift(),G=o,j=Y+l.shift(),K=m,p=j+l.shift(),a.curveTo(r,i,s,o,Q,V),a.curveTo(Y,G,j,K,p,m);break;case 36:r=p+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),Q=s+l.shift(),V=o,Y=Q+l.shift(),G=o,j=Y+l.shift(),K=G+l.shift(),p=j+l.shift(),a.curveTo(r,i,s,o,Q,V),a.curveTo(Y,G,j,K,p,m);break;case 37:r=p+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),Q=s+l.shift(),V=o+l.shift(),Y=Q+l.shift(),G=V+l.shift(),j=Y+l.shift(),K=G+l.shift(),Math.abs(j-p)>Math.abs(K-m)?p=j+l.shift():m=K+l.shift(),a.curveTo(r,i,s,o,Q,V),a.curveTo(Y,G,j,K,p,m);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+X),l.length=0}break;case 14:l.length>0&&!u&&(_=l.shift()+C,u=!0),d&&(a.closePath(),d=!1);break;case 18:M();break;case 19:case 20:M(),ee+=c+7>>3;break;case 21:l.length>2&&!u&&(_=l.shift()+C,u=!0),m+=l.pop(),p+=l.pop(),I(p,m);break;case 22:l.length>1&&!u&&(_=l.shift()+C,u=!0),p+=l.pop(),I(p,m);break;case 23:M();break;case 24:for(;l.length>2;)r=p+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),p=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,p,m);p+=l.shift(),m+=l.shift(),a.lineTo(p,m);break;case 25:for(;l.length>6;)p+=l.shift(),m+=l.shift(),a.lineTo(p,m);r=p+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),p=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,p,m);break;case 26:for(l.length%2&&(p+=l.shift());l.length>0;)r=p,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),p=s,m=o+l.shift(),a.curveTo(r,i,s,o,p,m);break;case 27:for(l.length%2&&(m+=l.shift());l.length>0;)r=p+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),p=s+l.shift(),m=o,a.curveTo(r,i,s,o,p,m);break;case 28:R=w[ee],D=w[ee+1],l.push((R<<24|D<<16)>>16),ee+=2;break;case 29:q=l.pop()+n.gsubrsBias,k=n.gsubrs[q],k&&T(k);break;case 30:for(;l.length>0&&(r=p,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),p=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,p,m),l.length!==0);)r=p+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),p=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,p,m);break;case 31:for(;l.length>0&&(r=p+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),p=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,p,m),l.length!==0);)r=p,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),p=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,p,m);break;default:X<32?console.log("Glyph "+e.index+": unknown operator "+X):X<247?l.push(X-139):X<251?(R=w[ee],ee+=1,l.push((X-247)*256+R+108)):X<255?(R=w[ee],ee+=1,l.push(-(X-251)*256-R-108)):(R=w[ee],D=w[ee+1],P=w[ee+2],z=w[ee+3],ee+=4,l.push((R<<24|D<<16|P<<8|z)/65536))}}}return T(t),e.advanceWidth=_,a}function Zz(n,e,t,r){var i=[],s,o=new Et.Parser(n,e),a=o.parseCard8();if(a===0)for(var l=0;l<t;l++){if(s=o.parseCard8(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");i.push(s)}else if(a===3){var c=o.parseCard16(),u=o.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var d,p=0;p<c;p++){if(s=o.parseCard8(),d=o.parseCard16(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");if(d>t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;u<d;u++)i.push(s);u=d}if(d!==t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function eV(n,e,t,r){t.tables.cff={};var i=qz(n,e),s=Go(n,i.endOffset,Et.bytesToString),o=Go(n,s.endOffset),a=Go(n,o.endOffset,Et.bytesToString),l=Go(n,a.endOffset);t.gsubrs=l.objects,t.gsubrsBias=Q1(t.gsubrs);var c=Lx(n,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(t.tables.cff.topDict=u,u._privateDict&&(t.defaultWidthX=u._privateDict.defaultWidthX,t.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(t.isCIDFont=!0),t.isCIDFont){var d=u.fdArray,p=u.fdSelect;if(d===0||p===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=e;var m=Go(n,d),g=Lx(n,e,m.objects,a.objects);u._fdArray=g,p+=e,u._fdSelect=Zz(n,p,t.numGlyphs,g.length)}var A=e+u.private[1],v=T_(n,A,u.private[0],a.objects);if(t.defaultWidthX=v.defaultWidthX,t.nominalWidthX=v.nominalWidthX,v.subrs!==0){var C=A+v.subrs,x=Go(n,C);t.subrs=x.objects,t.subrsBias=Q1(t.subrs)}else t.subrs=[],t.subrsBias=0;var E;r.lowMemory?(E=Vz(n,e+u.charStrings),t.nGlyphs=E.offsets.length):(E=Go(n,e+u.charStrings),t.nGlyphs=E.objects.length);var _=Xz(n,e+u.charset,t.nGlyphs,a.objects);if(u.encoding===0?t.cffEncoding=new Z0(Nz,_):u.encoding===1?t.cffEncoding=new Z0(Oz,_):t.cffEncoding=$z(n,e+u.encoding,_),t.encoding=t.encoding||t.cffEncoding,t.glyphs=new bs.GlyphSet(t),r.lowMemory)t._push=function(T){var w=Wz(T,E.offsets,n,e+u.charStrings);t.glyphs.push(T,bs.cffGlyphLoader(t,T,Fx,w))};else for(var I=0;I<t.nGlyphs;I+=1){var M=E.objects[I];t.glyphs.push(I,bs.cffGlyphLoader(t,I,Fx,M))}}function B_(n,e){var t,r=I0.indexOf(n);return r>=0&&(t=r),r=e.indexOf(n),r>=0?t=r+I0.length:(t=I0.length+e.length,e.push(n)),t}function tV(){return new $e.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function nV(n){var e=new $e.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var t=0;t<n.length;t+=1)e.names.push({name:"name_"+t,type:"NAME",value:n[t]});return e}function R_(n,e,t){for(var r={},i=0;i<n.length;i+=1){var s=n[i],o=e[s.name];o!==void 0&&!__(o,s.value)&&(s.type==="SID"&&(o=B_(o,t)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function kx(n,e){var t=new $e.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=R_(w_,n,e),t}function Nx(n){var e=new $e.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:n}],e}function rV(n){var e=new $e.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var t=0;t<n.length;t+=1)e.strings.push({name:"string_"+t,type:"STRING",value:n[t]});return e}function iV(){return new $e.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function sV(n,e){for(var t=new $e.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<n.length;r+=1){var i=n[r],s=B_(i,e);t.fields.push({name:"glyph_"+r,type:"SID",value:s})}return t}function oV(n){var e=[],t=n.path;e.push({name:"width",type:"NUMBER",value:n.advanceWidth});for(var r=0,i=0,s=0;s<t.commands.length;s+=1){var o=void 0,a=void 0,l=t.commands[s];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*r+u*l.x1),y1:Math.round(c*i+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var d=Math.round(l.x1-r),p=Math.round(l.y1-i),m=Math.round(l.x2-l.x1),g=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d}),e.push({name:"dy1",type:"NUMBER",value:p}),e.push({name:"dx2",type:"NUMBER",value:m}),e.push({name:"dy2",type:"NUMBER",value:g}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function aV(n){for(var e=new $e.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),t=0;t<n.length;t+=1){var r=n.get(t),i=oV(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function lV(n,e){var t=new $e.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=R_(M_,n,e),t}function cV(n,e){for(var t=new $e.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<n.length;l+=1)a=n.get(l),o.push(a.name);var c=[];t.header=tV(),t.nameIndex=nV([e.postScriptName]);var u=kx(i,c);t.topDictIndex=Nx(u),t.globalSubrIndex=iV(),t.charsets=sV(o,c),t.charStringsIndex=aV(n),t.privateDict=lV(s,c),t.stringIndex=rV(c);var d=t.header.sizeOf()+t.nameIndex.sizeOf()+t.topDictIndex.sizeOf()+t.stringIndex.sizeOf()+t.globalSubrIndex.sizeOf();return i.charset=d,i.encoding=0,i.charStrings=i.charset+t.charsets.sizeOf(),i.private[1]=i.charStrings+t.charStringsIndex.sizeOf(),u=kx(i,c),t.topDictIndex=Nx(u),t}var uV={parse:eV,make:cV};function fV(n,e){var t={},r=new Et.Parser(n,e);return t.version=r.parseVersion(),t.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,t.checkSumAdjustment=r.parseULong(),t.magicNumber=r.parseULong(),vt.argument(t.magicNumber===1594834165,"Font header has wrong magic number."),t.flags=r.parseUShort(),t.unitsPerEm=r.parseUShort(),t.created=r.parseLongDateTime(),t.modified=r.parseLongDateTime(),t.xMin=r.parseShort(),t.yMin=r.parseShort(),t.xMax=r.parseShort(),t.yMax=r.parseShort(),t.macStyle=r.parseUShort(),t.lowestRecPPEM=r.parseUShort(),t.fontDirectionHint=r.parseShort(),t.indexToLocFormat=r.parseShort(),t.glyphDataFormat=r.parseShort(),t}function hV(n){var e=Math.round(new Date().getTime()/1e3)+2082844800,t=e;return n.createdTimestamp&&(t=n.createdTimestamp+2082844800),new $e.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:t},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],n)}var dV={parse:fV,make:hV};function pV(n,e){var t={},r=new Et.Parser(n,e);return t.version=r.parseVersion(),t.ascender=r.parseShort(),t.descender=r.parseShort(),t.lineGap=r.parseShort(),t.advanceWidthMax=r.parseUShort(),t.minLeftSideBearing=r.parseShort(),t.minRightSideBearing=r.parseShort(),t.xMaxExtent=r.parseShort(),t.caretSlopeRise=r.parseShort(),t.caretSlopeRun=r.parseShort(),t.caretOffset=r.parseShort(),r.relativeOffset+=8,t.metricDataFormat=r.parseShort(),t.numberOfHMetrics=r.parseUShort(),t}function mV(n){return new $e.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],n)}var gV={parse:pV,make:mV};function AV(n,e,t,r,i){for(var s,o,a=new Et.Parser(n,e),l=0;l<r;l+=1){l<t&&(s=a.parseUShort(),o=a.parseShort());var c=i.get(l);c.advanceWidth=s,c.leftSideBearing=o}}function vV(n,e,t,r,i){n._hmtxTableData={};for(var s,o,a=new Et.Parser(e,t),l=0;l<i;l+=1)l<r&&(s=a.parseUShort(),o=a.parseShort()),n._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function yV(n,e,t,r,i,s,o){o.lowMemory?vV(n,e,t,r,i):AV(e,t,r,i,s)}function xV(n){for(var e=new $e.Table("hmtx",[]),t=0;t<n.length;t+=1){var r=n.get(t),i=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+t,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+t,type:"SHORT",value:s})}return e}var CV={parse:yV,make:xV};function EV(n){for(var e=new $e.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:n.length}]),t="",r=12+n.length*4,i=0;i<n.length;++i){var s=t.indexOf(n[i]);s<0&&(s=t.length,t+=n[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+s}),e.fields.push({name:"length "+i,type:"USHORT",value:n[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),e}function SV(n,e){var t=new Et.Parser(n,e),r=t.parseULong();vt.argument(r===1,"Unsupported ltag table version."),t.skip("uLong",1);for(var i=t.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=e+t.parseUShort(),c=t.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(n.getInt8(u));s.push(a)}return s}var _V={make:EV,parse:SV};function bV(n,e){var t={},r=new Et.Parser(n,e);return t.version=r.parseVersion(),t.numGlyphs=r.parseUShort(),t.version===1&&(t.maxPoints=r.parseUShort(),t.maxContours=r.parseUShort(),t.maxCompositePoints=r.parseUShort(),t.maxCompositeContours=r.parseUShort(),t.maxZones=r.parseUShort(),t.maxTwilightPoints=r.parseUShort(),t.maxStorage=r.parseUShort(),t.maxFunctionDefs=r.parseUShort(),t.maxInstructionDefs=r.parseUShort(),t.maxStackElements=r.parseUShort(),t.maxSizeOfInstructions=r.parseUShort(),t.maxComponentElements=r.parseUShort(),t.maxComponentDepth=r.parseUShort()),t}function IV(n){return new $e.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:n}])}var wV={parse:bV,make:IV},P_=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],D_={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},MV={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},L_={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function TV(n,e,t){switch(n){case 0:if(e===65535)return"und";if(t)return t[e];break;case 1:return D_[e];case 3:return L_[e]}}var H1="utf-16",BV={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},RV={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function F_(n,e,t){switch(n){case 0:return H1;case 1:return RV[t]||BV[e];case 3:if(e===1||e===10)return H1;break}}function PV(n,e,t){for(var r={},i=new Et.Parser(n,e),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var c=i.parseUShort(),u=i.parseUShort(),d=i.parseUShort(),p=i.parseUShort(),m=P_[p]||p,g=i.parseUShort(),A=i.parseUShort(),v=TV(c,d,t),C=F_(c,u,d);if(C!==void 0&&v!==void 0){var x=void 0;if(C===H1?x=hu.UTF16(n,a+A,g):x=hu.MACSTRING(n,a+A,g,C),x){var E=r[m];E===void 0&&(E=r[m]={}),E[v]=x}}}return s===1&&i.parseUShort(),r}function e2(n){var e={};for(var t in n)e[n[t]]=parseInt(t);return e}function Ox(n,e,t,r,i,s){return new $e.Record("NameRecord",[{name:"platformID",type:"USHORT",value:n},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:t},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function DV(n,e){var t=n.length,r=e.length-t+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var s=0;s<t;s++)if(e[i+s]!==n[s])continue e;return i}return-1}function Ux(n,e){var t=DV(n,e);if(t<0){t=e.length;for(var r=0,i=n.length;r<i;++r)e.push(n[r])}return t}function LV(n,e){var t,r=[],i={},s=e2(P_);for(var o in n){var a=s[o];if(a===void 0&&(a=o),t=parseInt(a),isNaN(t))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[t]=n[o],r.push(t)}for(var l=e2(D_),c=e2(L_),u=[],d=[],p=0;p<r.length;p++){t=r[p];var m=i[t];for(var g in m){var A=m[g],v=1,C=l[g],x=MV[C],E=F_(v,x,C),_=Qe.MACSTRING(A,E);_===void 0&&(v=0,C=e.indexOf(g),C<0&&(C=e.length,e.push(g)),x=4,_=Qe.UTF16(A));var I=Ux(_,d);u.push(Ox(v,x,C,t,_.length,I));var M=c[g];if(M!==void 0){var T=Qe.UTF16(A),w=Ux(T,d);u.push(Ox(3,1,M,t,T.length,w))}}}u.sort(function(P,z){return P.platformID-z.platformID||P.encodingID-z.encodingID||P.languageID-z.languageID||P.nameID-z.nameID});for(var R=new $e.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),D=0;D<u.length;D++)R.fields.push({name:"record_"+D,type:"RECORD",value:u[D]});return R.fields.push({name:"strings",type:"LITERAL",value:d}),R}var FV={parse:PV,make:LV},z1=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function kV(n){for(var e=0;e<z1.length;e+=1){var t=z1[e];if(n>=t.begin&&n<t.end)return e}return-1}function NV(n,e){var t={},r=new Et.Parser(n,e);t.version=r.parseUShort(),t.xAvgCharWidth=r.parseShort(),t.usWeightClass=r.parseUShort(),t.usWidthClass=r.parseUShort(),t.fsType=r.parseUShort(),t.ySubscriptXSize=r.parseShort(),t.ySubscriptYSize=r.parseShort(),t.ySubscriptXOffset=r.parseShort(),t.ySubscriptYOffset=r.parseShort(),t.ySuperscriptXSize=r.parseShort(),t.ySuperscriptYSize=r.parseShort(),t.ySuperscriptXOffset=r.parseShort(),t.ySuperscriptYOffset=r.parseShort(),t.yStrikeoutSize=r.parseShort(),t.yStrikeoutPosition=r.parseShort(),t.sFamilyClass=r.parseShort(),t.panose=[];for(var i=0;i<10;i++)t.panose[i]=r.parseByte();return t.ulUnicodeRange1=r.parseULong(),t.ulUnicodeRange2=r.parseULong(),t.ulUnicodeRange3=r.parseULong(),t.ulUnicodeRange4=r.parseULong(),t.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),t.fsSelection=r.parseUShort(),t.usFirstCharIndex=r.parseUShort(),t.usLastCharIndex=r.parseUShort(),t.sTypoAscender=r.parseShort(),t.sTypoDescender=r.parseShort(),t.sTypoLineGap=r.parseShort(),t.usWinAscent=r.parseUShort(),t.usWinDescent=r.parseUShort(),t.version>=1&&(t.ulCodePageRange1=r.parseULong(),t.ulCodePageRange2=r.parseULong()),t.version>=2&&(t.sxHeight=r.parseShort(),t.sCapHeight=r.parseShort(),t.usDefaultChar=r.parseUShort(),t.usBreakChar=r.parseUShort(),t.usMaxContent=r.parseUShort()),t}function OV(n){return new $e.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],n)}var Gx={parse:NV,make:OV,unicodeRanges:z1,getUnicodeRange:kV};function UV(n,e){var t={},r=new Et.Parser(n,e);switch(t.version=r.parseVersion(),t.italicAngle=r.parseFixed(),t.underlinePosition=r.parseShort(),t.underlineThickness=r.parseShort(),t.isFixedPitch=r.parseULong(),t.minMemType42=r.parseULong(),t.maxMemType42=r.parseULong(),t.minMemType1=r.parseULong(),t.maxMemType1=r.parseULong(),t.version){case 1:t.names=Dx.slice();break;case 2:t.numberOfGlyphs=r.parseUShort(),t.glyphNameIndex=new Array(t.numberOfGlyphs);for(var i=0;i<t.numberOfGlyphs;i++)t.glyphNameIndex[i]=r.parseUShort();t.names=[];for(var s=0;s<t.numberOfGlyphs;s++)if(t.glyphNameIndex[s]>=Dx.length){var o=r.parseChar();t.names.push(r.parseString(o))}break;case 2.5:t.numberOfGlyphs=r.parseUShort(),t.offset=new Array(t.numberOfGlyphs);for(var a=0;a<t.numberOfGlyphs;a++)t.offset[a]=r.parseChar();break}return t}function GV(){return new $e.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var QV={parse:UV,make:GV},Ji=new Array(9);Ji[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(ge.coverage),deltaGlyphId:this.parseUShort()};if(t===2)return{substFormat:2,coverage:this.parsePointer(ge.coverage),substitute:this.parseOffset16List()};vt.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Ji[2]=function(){var e=this.parseUShort();return vt.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ge.coverage),sequences:this.parseListOfLists()}};Ji[3]=function(){var e=this.parseUShort();return vt.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ge.coverage),alternateSets:this.parseListOfLists()}};Ji[4]=function(){var e=this.parseUShort();return vt.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ge.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Uc={sequenceIndex:ge.uShort,lookupListIndex:ge.uShort};Ji[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:t,coverage:this.parsePointer(ge.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Uc)}})};if(t===2)return{substFormat:t,coverage:this.parsePointer(ge.coverage),classDef:this.parsePointer(ge.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Uc)}})};if(t===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:t,coverages:this.parseList(r,ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(i,Uc)}}vt.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Ji[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(ge.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Uc)}})};if(t===2)return{substFormat:2,coverage:this.parsePointer(ge.coverage),backtrackClassDef:this.parsePointer(ge.classDef),inputClassDef:this.parsePointer(ge.classDef),lookaheadClassDef:this.parsePointer(ge.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Uc)}})};if(t===3)return{substFormat:3,backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),inputCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(Uc)};vt.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Ji[7]=function(){var e=this.parseUShort();vt.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),r=new ge(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:Ji[t].call(r)}};Ji[8]=function(){var e=this.parseUShort();return vt.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ge.coverage),backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),substitutes:this.parseUShortList()}};function HV(n,e){e=e||0;var t=new ge(n,e),r=t.parseVersion(1);return vt.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Ji)}:{version:r,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Ji),variations:t.parseFeatureVariationsList()}}var Mu=new Array(9);Mu[1]=function(e){return e.substFormat===1?new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.ushortList("substitute",e.substitute)))};Mu[2]=function(e){return vt.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("seqSet",e.sequences,function(t){return new $e.Table("sequenceSetTable",$e.ushortList("sequence",t))})))};Mu[3]=function(e){return vt.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("altSet",e.alternateSets,function(t){return new $e.Table("alternateSetTable",$e.ushortList("alternate",t))})))};Mu[4]=function(e){return vt.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("ligSet",e.ligatureSets,function(t){return new $e.Table("ligatureSetTable",$e.tableList("ligature",t,function(r){return new $e.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat($e.ushortList("component",r.components,r.components.length+1)))}))})))};Mu[6]=function(e){if(e.substFormat===1){var t=new $e.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("chainRuleSet",e.chainRuleSets,function(s){return new $e.Table("chainRuleSetTable",$e.tableList("chainRule",s,function(o){var a=$e.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat($e.ushortList("inputGlyph",o.input,o.input.length+1)).concat($e.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat($e.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new $e.Table("chainRuleTable",a)}))})));return t}else if(e.substFormat===2)vt.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){r.push({name:"backtrackCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){r.push({name:"inputCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){r.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){r=r.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var i=new $e.Table("chainContextTable",r);return i}vt.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function zV(n){return new $e.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $e.ScriptList(n.scripts)},{name:"features",type:"TABLE",value:new $e.FeatureList(n.features)},{name:"lookups",type:"TABLE",value:new $e.LookupList(n.lookups,Mu)}])}var VV={parse:HV,make:zV};function WV(n,e){var t=new Et.Parser(n,e),r=t.parseULong();vt.argument(r===1,"Unsupported META table version."),t.parseULong(),t.parseULong();for(var i=t.parseULong(),s={},o=0;o<i;o++){var a=t.parseTag(),l=t.parseULong(),c=t.parseULong(),u=hu.UTF8(n,e+l,c);s[a]=u}return s}function JV(n){var e=Object.keys(n).length,t="",r=16+e*12,i=new $e.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in n){var o=t.length;t+=n[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),i.fields.push({name:"length "+s,type:"ULONG",value:n[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),i}var jV={parse:WV,make:JV};function Qx(n){return Math.log(n)/Math.log(2)|0}function Fv(n){for(;n.length%4!==0;)n.push(0);for(var e=0,t=0;t<n.length;t+=4)e+=(n[t]<<24)+(n[t+1]<<16)+(n[t+2]<<8)+n[t+3];return e%=Math.pow(2,32),e}function Hx(n,e,t,r){return new $e.Record("Table Record",[{name:"tag",type:"TAG",value:n!==void 0?n:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:t!==void 0?t:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function k_(n){var e=new $e.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=n,e.numTables=n.length;var t=Math.pow(2,Qx(e.numTables));e.searchRange=16*t,e.entrySelector=Qx(t),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],s=e.sizeOf()+Hx().sizeOf()*e.numTables;s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<n.length;o+=1){var a=n[o];vt.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=Hx(a.tableName,Fv(a.encode()),s,l);for(r.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,vt.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(u,d){return u.value.tag>d.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function zx(n,e,t){for(var r=0;r<e.length;r+=1){var i=n.charToGlyphIndex(e[r]);if(i>0){var s=n.glyphs.get(i);return s.getMetrics()}}return t}function KV(n){for(var e=0,t=0;t<n.length;t+=1)e+=n[t];return e/n.length}function qV(n){for(var e=[],t=[],r=[],i=[],s=[],o=[],a=[],l,c=0,u=0,d=0,p=0,m=0,g=0;g<n.glyphs.length;g+=1){var A=n.glyphs.get(g),v=A.unicode|0;if(isNaN(A.advanceWidth))throw new Error("Glyph "+A.name+" ("+g+"): advanceWidth is not a number.");(l>v||l===void 0)&&v>0&&(l=v),c<v&&(c=v);var C=Gx.getUnicodeRange(v);if(C<32)u|=1<<C;else if(C<64)d|=1<<C-32;else if(C<96)p|=1<<C-64;else if(C<123)m|=1<<C-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(A.name!==".notdef"){var x=A.getMetrics();e.push(x.xMin),t.push(x.yMin),r.push(x.xMax),i.push(x.yMax),o.push(x.leftSideBearing),a.push(x.rightSideBearing),s.push(A.advanceWidth)}}var E={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:KV(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};E.ascender=n.ascender,E.descender=n.descender;var _=dV.make({flags:3,unitsPerEm:n.unitsPerEm,xMin:E.xMin,yMin:E.yMin,xMax:E.xMax,yMax:E.yMax,lowestRecPPEM:3,createdTimestamp:n.createdTimestamp}),I=gV.make({ascender:E.ascender,descender:E.descender,advanceWidthMax:E.advanceWidthMax,minLeftSideBearing:E.minLeftSideBearing,minRightSideBearing:E.minRightSideBearing,xMaxExtent:E.maxLeftSideBearing+(E.xMax-E.xMin),numberOfHMetrics:n.glyphs.length}),M=wV.make(n.glyphs.length),T=Gx.make(Object.assign({xAvgCharWidth:Math.round(E.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:d,ulUnicodeRange3:p,ulUnicodeRange4:m,sTypoAscender:E.ascender,sTypoDescender:E.descender,sTypoLineGap:0,usWinAscent:E.yMax,usWinDescent:Math.abs(E.yMin),ulCodePageRange1:1,sxHeight:zx(n,"xyvw",{yMax:Math.round(E.ascender/2)}).yMax,sCapHeight:zx(n,"HIKLEFJMNTZBDPRAGOQSUVWXY",E).yMax,usDefaultChar:n.hasChar(" ")?32:0,usBreakChar:n.hasChar(" ")?32:0},n.tables.os2)),w=CV.make(n.glyphs),R=kz.make(n.glyphs),D=n.getEnglishName("fontFamily"),P=n.getEnglishName("fontSubfamily"),z=D+" "+P,q=n.getEnglishName("postScriptName");q||(q=D.replace(/\s/g,"")+"-"+P);var k={};for(var Q in n.names)k[Q]=n.names[Q];k.uniqueID||(k.uniqueID={en:n.getEnglishName("manufacturer")+":"+z}),k.postScriptName||(k.postScriptName={en:q}),k.preferredFamily||(k.preferredFamily=n.names.fontFamily),k.preferredSubfamily||(k.preferredSubfamily=n.names.fontSubfamily);var V=[],Y=FV.make(k,V),G=V.length>0?_V.make(V):void 0,j=QV.make(),K=uV.make(n.glyphs,{version:n.getEnglishName("version"),fullName:z,familyName:D,weightName:P,postScriptName:q,unitsPerEm:n.unitsPerEm,fontBBox:[0,E.yMin,E.ascender,E.advanceWidthMax]}),ee=n.metas&&Object.keys(n.metas).length>0?jV.make(n.metas):void 0,X=[_,I,M,T,Y,R,j,K,w];G&&X.push(G),n.tables.gsub&&X.push(VV.make(n.tables.gsub)),ee&&X.push(ee);for(var ae=k_(X),Ae=ae.encode(),_e=Fv(Ae),re=ae.fields,Ne=!1,Pe=0;Pe<re.length;Pe+=1)if(re[Pe].name==="head table"){re[Pe].value.checkSumAdjustment=2981146554-_e,Ne=!0;break}if(!Ne)throw new Error("Could not find head table with checkSum to adjust.");return ae}var YV={make:k_,fontToTable:qV,computeCheckSum:Fv};function t2(n,e){for(var t=0,r=n.length-1;t<=r;){var i=t+r>>>1,s=n[i].tag;if(s===e)return i;s<e?t=i+1:r=i-1}return-t-1}function Vx(n,e){for(var t=0,r=n.length-1;t<=r;){var i=t+r>>>1,s=n[i];if(s===e)return i;s<e?t=i+1:r=i-1}return-t-1}function Wx(n,e){for(var t,r=0,i=n.length-1;r<=i;){var s=r+i>>>1;t=n[s];var o=t.start;if(o===e)return t;o<e?r=s+1:i=s-1}if(r>0)return t=n[r-1],e>t.end?0:t}function Jh(n,e){this.font=n,this.tableName=e}Jh.prototype={searchTag:t2,binSearch:Vx,getTable:function(n){var e=this.font.tables[this.tableName];return!e&&n&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var n=this.getTable();return n?n.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var n=this.getTable();if(n){for(var e=!1,t=0;t<n.scripts.length;t++){var r=n.scripts[t].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(n,e){var t=this.getTable(e);if(t){n=n||"DFLT";var r=t.scripts,i=t2(t.scripts,n);if(i>=0)return r[i].script;if(e){var s={tag:n,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,s),s.script}}},getLangSysTable:function(n,e,t){var r=this.getScriptTable(n,t);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=t2(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(t){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(n,e,t,r){var i=this.getLangSysTable(n,e,r);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===t)return s.feature;if(r){var c=a.length;return vt.assert(c===0||t>=a[c-1].tag,"Features must be added in alphabetical order."),s={tag:t,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(c),s.feature}}},getLookupTables:function(n,e,t,r,i){var s=this.getFeatureTable(n,e,t,i),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===r&&o.push(a);if(o.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=c.length;return c.push(a),l.push(d),[a]}}return o},getGlyphClass:function(n,e){switch(n.format){case 1:return n.startGlyph<=e&&e<n.startGlyph+n.classes.length?n.classes[e-n.startGlyph]:0;case 2:var t=Wx(n.ranges,e);return t?t.classId:0}},getCoverageIndex:function(n,e){switch(n.format){case 1:var t=Vx(n.glyphs,e);return t>=0?t:-1;case 2:var r=Wx(n.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(n){if(n.format===1)return n.glyphs;for(var e=[],t=n.ranges,r=0;r<t.length;r++)for(var i=t[r],s=i.start,o=i.end,a=s;a<=o;a++)e.push(a);return e}};function jh(n){Jh.call(this,n,"gpos")}jh.prototype=Jh.prototype;jh.prototype.init=function(){var n=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(n)};jh.prototype.getKerningValue=function(n,e,t){for(var r=0;r<n.length;r++)for(var i=n[r].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===t)return u.value1&&u.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(o.classDef1,e),p=this.getGlyphClass(o.classDef2,t),m=o.classRecords[d][p];return m.value1&&m.value1.xAdvance||0}}return 0};jh.prototype.getKerningTables=function(n,e){if(this.font.tables.gpos)return this.getLookupTables(n,e,"kern",2)};function si(n){Jh.call(this,n,"gsub")}function XV(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function kv(n,e,t){for(var r=n.subtables,i=0;i<r.length;i++){var s=r[i];if(s.substFormat===e)return s}if(t)return r.push(t),t}si.prototype=Jh.prototype;si.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};si.prototype.getSingle=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var d=l.deltaGlyphId;for(u=0;u<c.length;u++){var p=c[u];r.push({sub:p,by:p+d})}}else{var m=l.substitute;for(u=0;u<c.length;u++)r.push({sub:c[u],by:m[u]})}}return r};si.prototype.getMultiple=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,2),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var d=c[u],p=l.sequences[u];r.push({sub:d,by:p})}}return r};si.prototype.getAlternates=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,d=0;d<c.length;d++)r.push({sub:c[d],by:u[d]});return r};si.prototype.getLigatures=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,d=0;d<c.length;d++)for(var p=c[d],m=u[d],g=0;g<m.length;g++){var A=m[g];r.push({sub:[p].concat(A.components),by:A.ligGlyph})}return r};si.prototype.addSingle=function(n,e,t,r){var i=this.getLookupTables(t,r,n,1,!0)[0],s=kv(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});vt.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};si.prototype.addMultiple=function(n,e,t,r){vt.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(t,r,n,2,!0)[0],s=kv(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});vt.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};si.prototype.addAlternate=function(n,e,t,r){var i=this.getLookupTables(t,r,n,3,!0)[0],s=kv(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});vt.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};si.prototype.addLigature=function(n,e,t,r){var i=this.getLookupTables(t,r,n,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),vt.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(c>=0){for(var u=s.ligatureSets[c],d=0;d<u.length;d++)if(XV(u[d].components,a))return;u.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,o),s.ligatureSets.splice(c,0,[l])};si.prototype.getFeature=function(n,e,t){if(/ss\d\d/.test(n))return this.getSingle(n,e,t);switch(n){case"aalt":case"salt":return this.getSingle(n,e,t).concat(this.getAlternates(n,e,t));case"dlig":case"liga":case"rlig":return this.getLigatures(n,e,t);case"ccmp":return this.getMultiple(n,e,t).concat(this.getLigatures(n,e,t));case"stch":return this.getMultiple(n,e,t)}};si.prototype.add=function(n,e,t,r){if(/ss\d\d/.test(n))return this.addSingle(n,e,t,r);switch(n){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(n,e,t,r):this.addAlternate(n,e,t,r);case"dlig":case"liga":case"rlig":return this.addLigature(n,e,t,r);case"ccmp":return e.by instanceof Array?this.addMultiple(n,e,t,r):this.addLigature(n,e,t,r)}};function $V(){return typeof window<"u"}function ZV(n){for(var e=new Buffer(n.byteLength),t=new Uint8Array(n),r=0;r<e.length;++r)e[r]=t[r];return e}function pf(n,e){if(!n)throw e}function Jx(n,e,t,r,i){var s;return(e&r)>0?(s=n.parseByte(),e&i||(s=-s),s=t+s):(e&i)>0?s=t:s=t+n.parseShort(),s}function N_(n,e,t){var r=new Et.Parser(e,t);n.numberOfContours=r.parseShort(),n._xMin=r.parseShort(),n._yMin=r.parseShort(),n._xMax=r.parseShort(),n._yMax=r.parseShort();var i,s;if(n.numberOfContours>0){for(var o=n.endPointIndices=[],a=0;a<n.numberOfContours;a+=1)o.push(r.parseUShort());n.instructionLength=r.parseUShort(),n.instructions=[];for(var l=0;l<n.instructionLength;l+=1)n.instructions.push(r.parseByte());var c=o[o.length-1]+1;i=[];for(var u=0;u<c;u+=1)if(s=r.parseByte(),i.push(s),(s&8)>0)for(var d=r.parseByte(),p=0;p<d;p+=1)i.push(s),u+=1;if(vt.argument(i.length===c,"Bad flags."),o.length>0){var m=[],g;if(c>0){for(var A=0;A<c;A+=1)s=i[A],g={},g.onCurve=!!(s&1),g.lastPointOfContour=o.indexOf(A)>=0,m.push(g);for(var v=0,C=0;C<c;C+=1)s=i[C],g=m[C],g.x=Jx(r,s,v,2,16),v=g.x;for(var x=0,E=0;E<c;E+=1)s=i[E],g=m[E],g.y=Jx(r,s,x,4,32),x=g.y}n.points=m}else n.points=[]}else if(n.numberOfContours===0)n.points=[];else{n.isComposite=!0,n.points=[],n.components=[];for(var _=!0;_;){i=r.parseUShort();var I={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(I.dx=r.parseShort(),I.dy=r.parseShort()):I.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(I.dx=r.parseChar(),I.dy=r.parseChar()):I.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?I.xScale=I.yScale=r.parseF2Dot14():(i&64)>0?(I.xScale=r.parseF2Dot14(),I.yScale=r.parseF2Dot14()):(i&128)>0&&(I.xScale=r.parseF2Dot14(),I.scale01=r.parseF2Dot14(),I.scale10=r.parseF2Dot14(),I.yScale=r.parseF2Dot14()),n.components.push(I),_=!!(i&32)}if(i&256){n.instructionLength=r.parseUShort(),n.instructions=[];for(var M=0;M<n.instructionLength;M+=1)n.instructions.push(r.parseByte())}}}function n2(n,e){for(var t=[],r=0;r<n.length;r+=1){var i=n[r],s={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};t.push(s)}return t}function eW(n){for(var e=[],t=[],r=0;r<n.length;r+=1){var i=n[r];t.push(i),i.lastPointOfContour&&(e.push(t),t=[])}return vt.argument(t.length===0,"There are still points left in the current contour."),e}function O_(n){var e=new Kn;if(!n)return e;for(var t=eW(n),r=0;r<t.length;++r){var i=t[r],s=null,o=i[i.length-1],a=i[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<i.length;++c)if(s=o,o=a,a=i[(c+1)%i.length],o.onCurve)e.lineTo(o.x,o.y);else{var u=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(u={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,u.x,u.y)}e.closePath()}return e}function U_(n,e){if(e.isComposite)for(var t=0;t<e.components.length;t+=1){var r=e.components[t],i=n.get(r.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(r.matchedPoints===void 0)s=n2(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=n2([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=n2(i.points,l)}e.points=e.points.concat(s)}}return O_(e.points)}function tW(n,e,t,r){for(var i=new bs.GlyphSet(r),s=0;s<t.length-1;s+=1){var o=t[s],a=t[s+1];o!==a?i.push(s,bs.ttfGlyphLoader(r,s,N_,n,e+o,U_)):i.push(s,bs.glyphLoader(r,s))}return i}function nW(n,e,t,r){var i=new bs.GlyphSet(r);return r._push=function(s){var o=t[s],a=t[s+1];o!==a?i.push(s,bs.ttfGlyphLoader(r,s,N_,n,e+o,U_)):i.push(s,bs.glyphLoader(r,s))},i}function rW(n,e,t,r,i){return i.lowMemory?nW(n,e,t,r):tW(n,e,t,r)}var iW={getPath:O_,parse:rW},G_,_l,Q_,V1;function H_(n){this.font=n,this.getCommands=function(e){return iW.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function sW(n){return n}function z_(n){return Math.sign(n)*Math.round(Math.abs(n))}function oW(n){return Math.sign(n)*Math.round(Math.abs(n*2))/2}function aW(n){return Math.sign(n)*(Math.round(Math.abs(n)+.5)-.5)}function lW(n){return Math.sign(n)*Math.ceil(Math.abs(n))}function cW(n){return Math.sign(n)*Math.floor(Math.abs(n))}var V_=function(n){var e=this.srPeriod,t=this.srPhase,r=this.srThreshold,i=1;return n<0&&(n=-n,i=-1),n+=r-t,n=Math.trunc(n/e)*e,n+=t,n<0?t*i:n*i},xs={x:1,y:0,axis:"x",distance:function(n,e,t,r){return(t?n.xo:n.x)-(r?e.xo:e.x)},interpolate:function(n,e,t,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=n.xo-e.xo,s=n.xo-t.xo,l=e.x-e.xo,c=t.x-t.xo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){n.x=n.xo+(l+c)/2;return}n.x=n.xo+(l*a+c*o)/u;return}if(i=r.distance(n,e,!0,!0),s=r.distance(n,t,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(t,t,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){xs.setRelative(n,n,(l+c)/2,r,!0);return}xs.setRelative(n,n,(l*a+c*o)/u,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(n,e,t,r,i){if(!r||r===this){n.x=(i?e.xo:e.x)+t;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+t*r.x,l=o+t*r.y;n.x=a+(n.y-l)/r.normalSlope},slope:0,touch:function(n){n.xTouched=!0},touched:function(n){return n.xTouched},untouch:function(n){n.xTouched=!1}},eo={x:0,y:1,axis:"y",distance:function(n,e,t,r){return(t?n.yo:n.y)-(r?e.yo:e.y)},interpolate:function(n,e,t,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=n.yo-e.yo,s=n.yo-t.yo,l=e.y-e.yo,c=t.y-t.yo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){n.y=n.yo+(l+c)/2;return}n.y=n.yo+(l*a+c*o)/u;return}if(i=r.distance(n,e,!0,!0),s=r.distance(n,t,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(t,t,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){eo.setRelative(n,n,(l+c)/2,r,!0);return}eo.setRelative(n,n,(l*a+c*o)/u,r,!0)},normalSlope:0,setRelative:function(n,e,t,r,i){if(!r||r===this){n.y=(i?e.yo:e.y)+t;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+t*r.x,l=o+t*r.y;n.y=l+r.normalSlope*(n.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(n){n.yTouched=!0},touched:function(n){return n.yTouched},untouch:function(n){n.yTouched=!1}};Object.freeze(xs);Object.freeze(eo);function Kh(n,e){this.x=n,this.y=e,this.axis=void 0,this.slope=e/n,this.normalSlope=-n/e,Object.freeze(this)}Kh.prototype.distance=function(n,e,t,r){return this.x*xs.distance(n,e,t,r)+this.y*eo.distance(n,e,t,r)};Kh.prototype.interpolate=function(n,e,t,r){var i,s,o,a,l,c,u;if(o=r.distance(n,e,!0,!0),a=r.distance(n,t,!0,!0),i=r.distance(e,e,!1,!0),s=r.distance(t,t,!1,!0),l=Math.abs(o),c=Math.abs(a),u=l+c,u===0){this.setRelative(n,n,(i+s)/2,r,!0);return}this.setRelative(n,n,(i*c+s*l)/u,r,!0)};Kh.prototype.setRelative=function(n,e,t,r,i){r=r||this;var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+t*r.x,l=o+t*r.y,c=r.normalSlope,u=this.slope,d=n.x,p=n.y;n.x=(u*d-c*a+l-p)/(u-c),n.y=u*(n.x-d)+p};Kh.prototype.touch=function(n){n.xTouched=!0,n.yTouched=!0};function qh(n,e){var t=Math.sqrt(n*n+e*e);return n/=t,e/=t,n===1&&e===0?xs:n===0&&e===1?eo:new Kh(n,e)}function to(n,e,t,r){this.x=this.xo=Math.round(n*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=t,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}to.prototype.nextTouched=function(n){for(var e=this.nextPointOnContour;!n.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};to.prototype.prevTouched=function(n){for(var e=this.prevPointOnContour;!n.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var bh=Object.freeze(new to(0,0)),uW={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Jo(n,e){switch(this.env=n,this.stack=[],this.prog=e,n){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xs,this.round=z_}}H_.prototype.exec=function(n,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var t=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Jo.prototype=uW,i=this._fpgmState=new Jo("fpgm",t.tables.fpgm),i.funcs=[],i.font=t,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{_l(i)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}Jo.prototype=i,r=this._prepState=new Jo("prep",t.tables.prep),r.ppem=e;var s=t.tables.cvt;if(s)for(var o=r.cvt=new Array(s.length),a=e/t.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{_l(r)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return Q_(n,r)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Q_=function(n,e){var t=e.ppem/e.font.unitsPerEm,r=t,i=n.components,s,o,a;if(Jo.prototype=e,!i)a=new Jo("glyf",n.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),V1(n,a,t,r),o=a.gZone;else{var l=e.font;o=[],s=[];for(var c=0;c<i.length;c++){var u=i[c],d=l.glyphs.get(u.glyphIndex);a=new Jo("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),V1(d,a,t,r);for(var p=Math.round(u.dx*t),m=Math.round(u.dy*r),g=a.gZone,A=a.contours,v=0;v<g.length;v++){var C=g[v];C.xTouched=C.yTouched=!1,C.xo=C.x=C.x+p,C.yo=C.y=C.y+m}var x=o.length;o.push.apply(o,g);for(var E=0;E<A.length;E++)s.push(A[E]+x)}n.instructions&&!a.inhibitGridFit&&(a=new Jo("glyf",n.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new to(0,0),new to(Math.round(n.advanceWidth*t),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),_l(a),o.length-=2)}return o};V1=function(n,e,t,r){for(var i=n.points||[],s=i.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<s;c++)l=i[c],o[c]=new to(l.x*t,l.y*r,l.lastPointOfContour,l.onCurve);for(var u,d,p=0;p<s;p++)l=o[p],u||(u=l,a.push(p)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(d=o[p+1],l.nextPointOnContour=d,d.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}if(o.push(new to(0,0),new to(Math.round(n.advanceWidth*t),0)),_l(e),o.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var g=0;g<s;g++)console.log(g,o[g].x,o[g].y)}}};_l=function(n){var e=n.prog;if(e){var t=e.length,r;for(n.ip=0;n.ip<t;n.ip++){if(exports.DEBUG&&n.step++,r=G_[e[n.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[n.ip]).toString(16));r(n)}}};function _m(n){for(var e=n.tZone=new Array(n.gZone.length),t=0;t<e.length;t++)e[t]=new to(0,0)}function W_(n,e){var t=n.prog,r=n.ip,i=1,s;do if(s=t[++r],s===88)i++;else if(s===89)i--;else if(s===64)r+=t[r+1]+1;else if(s===65)r+=2*t[r+1]+1;else if(s>=176&&s<=183)r+=s-176+1;else if(s>=184&&s<=191)r+=(s-184+1)*2;else if(e&&i===1&&s===27)break;while(i>0);n.ip=r}function jx(n,e){exports.DEBUG&&console.log(e.step,"SVTCA["+n.axis+"]"),e.fv=e.pv=e.dpv=n}function Kx(n,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+n.axis+"]"),e.pv=e.dpv=n}function qx(n,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+n.axis+"]"),e.fv=n}function Yx(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SPVTL["+n+"]",r,i);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=qh(a,l)}function Xx(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SFVTL["+n+"]",r,i);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=qh(a,l)}function fW(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SPVFS[]",t,r),n.pv=n.dpv=qh(r,t)}function hW(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SPVFS[]",t,r),n.fv=qh(r,t)}function dW(n){var e=n.stack,t=n.pv;exports.DEBUG&&console.log(n.step,"GPV[]"),e.push(t.x*16384),e.push(t.y*16384)}function pW(n){var e=n.stack,t=n.fv;exports.DEBUG&&console.log(n.step,"GFV[]"),e.push(t.x*16384),e.push(t.y*16384)}function mW(n){n.fv=n.pv,exports.DEBUG&&console.log(n.step,"SFVTPV[]")}function gW(n){var e=n.stack,t=e.pop(),r=e.pop(),i=e.pop(),s=e.pop(),o=e.pop(),a=n.z0,l=n.z1,c=a[t],u=a[r],d=l[i],p=l[s],m=n.z2[o];exports.DEBUG&&console.log("ISECT[], ",t,r,i,s,o);var g=c.x,A=c.y,v=u.x,C=u.y,x=d.x,E=d.y,_=p.x,I=p.y,M=(g-v)*(E-I)-(A-C)*(x-_),T=g*C-A*v,w=x*I-E*_;m.x=(T*(x-_)-w*(g-v))/M,m.y=(T*(E-I)-w*(A-C))/M}function AW(n){n.rp0=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP0[]",n.rp0)}function vW(n){n.rp1=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP1[]",n.rp1)}function yW(n){n.rp2=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP2[]",n.rp2)}function xW(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP0[]",e),n.zp0=e,e){case 0:n.tZone||_m(n),n.z0=n.tZone;break;case 1:n.z0=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function CW(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP1[]",e),n.zp1=e,e){case 0:n.tZone||_m(n),n.z1=n.tZone;break;case 1:n.z1=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function EW(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP2[]",e),n.zp2=e,e){case 0:n.tZone||_m(n),n.z2=n.tZone;break;case 1:n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function SW(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZPS[]",e),n.zp0=n.zp1=n.zp2=e,e){case 0:n.tZone||_m(n),n.z0=n.z1=n.z2=n.tZone;break;case 1:n.z0=n.z1=n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function _W(n){n.loop=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SLOOP[]",n.loop)}function bW(n){exports.DEBUG&&console.log(n.step,"RTG[]"),n.round=z_}function IW(n){exports.DEBUG&&console.log(n.step,"RTHG[]"),n.round=aW}function wW(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SMD[]",e),n.minDis=e/64}function MW(n){exports.DEBUG&&console.log(n.step,"ELSE[]"),W_(n,!1)}function TW(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"JMPR[]",e),n.ip+=e-1}function BW(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCVTCI[]",e),n.cvCutIn=e/64}function RW(n){var e=n.stack;exports.DEBUG&&console.log(n.step,"DUP[]"),e.push(e[e.length-1])}function r2(n){exports.DEBUG&&console.log(n.step,"POP[]"),n.stack.pop()}function PW(n){exports.DEBUG&&console.log(n.step,"CLEAR[]"),n.stack.length=0}function DW(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SWAP[]"),e.push(t),e.push(r)}function LW(n){var e=n.stack;exports.DEBUG&&console.log(n.step,"DEPTH[]"),e.push(e.length)}function FW(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"LOOPCALL[]",t,r);var i=n.ip,s=n.prog;n.prog=n.funcs[t];for(var o=0;o<r;o++)_l(n),exports.DEBUG&&console.log(++n.step,o+1<r?"next loopcall":"done loopcall",o);n.ip=i,n.prog=s}function kW(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"CALL[]",e);var t=n.ip,r=n.prog;n.prog=n.funcs[e],_l(n),n.ip=t,n.prog=r,exports.DEBUG&&console.log(++n.step,"returning from",e)}function NW(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"CINDEX[]",t),e.push(e[e.length-t])}function OW(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"MINDEX[]",t),e.push(e.splice(e.length-t,1)[0])}function UW(n){if(n.env!=="fpgm")throw new Error("FDEF not allowed here");var e=n.stack,t=n.prog,r=n.ip,i=e.pop(),s=r;for(exports.DEBUG&&console.log(n.step,"FDEF[]",i);t[++r]!==45;);n.ip=r,n.funcs[i]=t.slice(s+1,r)}function $x(n,e){var t=e.stack.pop(),r=e.z0[t],i=e.fv,s=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+n+"]",t);var o=s.distance(r,bh);n&&(o=e.round(o)),i.setRelative(r,bh,o,s),i.touch(r),e.rp0=e.rp1=t}function Zx(n,e){var t=e.z2,r=t.length-2,i,s,o;exports.DEBUG&&console.log(e.step,"IUP["+n.axis+"]");for(var a=0;a<r;a++)i=t[a],!n.touched(i)&&(s=i.prevTouched(n),s!==i&&(o=i.nextTouched(n),s===o&&n.setRelative(i,i,n.distance(s,s,!1,!0),n,!0),n.interpolate(i,s,o,n)))}function e9(n,e){for(var t=e.stack,r=n?e.rp1:e.rp2,i=(n?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var c=t.pop(),u=l[c],d=o.distance(i,i,!1,!0);s.setRelative(u,u,d,o),s.touch(u),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(n?"rp1":"rp2")+"]",c)}e.loop=1}function t9(n,e){var t=e.stack,r=n?e.rp1:e.rp2,i=(n?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=t.pop(),l=e.z2[e.contours[a]],c=l;exports.DEBUG&&console.log(e.step,"SHC["+n+"]",a);var u=o.distance(i,i,!1,!0);do c!==i&&s.setRelative(c,c,u,o),c=c.nextPointOnContour;while(c!==l)}function n9(n,e){var t=e.stack,r=n?e.rp1:e.rp2,i=(n?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=t.pop();exports.DEBUG&&console.log(e.step,"SHZ["+n+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=o.distance(i,i,!1,!0),d=l.length-2,p=0;p<d;p++)c=l[p],s.setRelative(c,c,u,o)}function GW(n){for(var e=n.stack,t=n.loop,r=n.fv,i=e.pop()/64,s=n.z2;t--;){var o=e.pop(),a=s[o];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-t)+": ":"")+"SHPIX[]",o,i),r.setRelative(a,a,i),r.touch(a)}n.loop=1}function QW(n){for(var e=n.stack,t=n.rp1,r=n.rp2,i=n.loop,s=n.z0[t],o=n.z1[r],a=n.fv,l=n.dpv,c=n.z2;i--;){var u=e.pop(),d=c[u];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-i)+": ":"")+"IP[]",u,t,"<->",r),a.interpolate(d,s,o,l),a.touch(d)}n.loop=1}function r9(n,e){var t=e.stack,r=t.pop()/64,i=t.pop(),s=e.z1[i],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,r,l),a.touch(s),exports.DEBUG&&console.log(e.step,"MSIRP["+n+"]",r,i),e.rp1=e.rp0,e.rp2=i,n&&(e.rp0=i)}function HW(n){for(var e=n.stack,t=n.rp0,r=n.z0[t],i=n.loop,s=n.fv,o=n.pv,a=n.z1;i--;){var l=e.pop(),c=a[l];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,r,0,o),s.touch(c)}n.loop=1}function zW(n){exports.DEBUG&&console.log(n.step,"RTDG[]"),n.round=oW}function i9(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z0[i],o=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+n+"]",r,"(",l,")",i);var c=a.distance(s,bh);n&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),o.setRelative(s,bh,c,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=i}function VW(n){var e=n.prog,t=n.ip,r=n.stack,i=e[++t];exports.DEBUG&&console.log(n.step,"NPUSHB[]",i);for(var s=0;s<i;s++)r.push(e[++t]);n.ip=t}function WW(n){var e=n.ip,t=n.prog,r=n.stack,i=t[++e];exports.DEBUG&&console.log(n.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var o=t[++e]<<8|t[++e];o&32768&&(o=-((o^65535)+1)),r.push(o)}n.ip=e}function JW(n){var e=n.stack,t=n.store;t||(t=n.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"WS",r,i),t[i]=r}function jW(n){var e=n.stack,t=n.store,r=e.pop();exports.DEBUG&&console.log(n.step,"RS",r);var i=t&&t[r]||0;e.push(i)}function KW(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"WCVTP",t,r),n.cvt[r]=t/64}function qW(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"RCVT",t),e.push(n.cvt[t]*64)}function s9(n,e){var t=e.stack,r=t.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+n+"]",r),t.push(e.dpv.distance(i,bh,n,!1)*64)}function o9(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z1[r],o=e.z0[i],a=e.dpv.distance(o,s,n,n);exports.DEBUG&&console.log(e.step,"MD["+n+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function YW(n){exports.DEBUG&&console.log(n.step,"MPPEM[]"),n.stack.push(n.ppem)}function XW(n){exports.DEBUG&&console.log(n.step,"FLIPON[]"),n.autoFlip=!0}function $W(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"LT[]",t,r),e.push(r<t?1:0)}function ZW(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"LTEQ[]",t,r),e.push(r<=t?1:0)}function eJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"GT[]",t,r),e.push(r>t?1:0)}function tJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"GTEQ[]",t,r),e.push(r>=t?1:0)}function nJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"EQ[]",t,r),e.push(t===r?1:0)}function rJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"NEQ[]",t,r),e.push(t!==r?1:0)}function iJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"ODD[]",t),e.push(Math.trunc(t)%2?1:0)}function sJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"EVEN[]",t),e.push(Math.trunc(t)%2?0:1)}function oJ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"IF[]",e),e||(W_(n,!0),exports.DEBUG&&console.log(n.step,"EIF[]"))}function aJ(n){exports.DEBUG&&console.log(n.step,"EIF[]")}function lJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"AND[]",t,r),e.push(t&&r?1:0)}function cJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"OR[]",t,r),e.push(t||r?1:0)}function uJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"NOT[]",t),e.push(t?0:1)}function i2(n,e){var t=e.stack,r=t.pop(),i=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(n-1)*16,l=e.deltaShift,c=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+n+"]",r,t);for(var u=0;u<r;u++){var d=t.pop(),p=t.pop(),m=a+((p&240)>>4);if(m===o){var g=(p&15)-8;g>=0&&g++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",d,"by",g*l);var A=c[d];i.setRelative(A,A,g*l,s)}}}function fJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"SDB[]",t),n.deltaBase=t}function hJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"SDS[]",t),n.deltaShift=Math.pow(.5,t)}function dJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"ADD[]",t,r),e.push(r+t)}function pJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SUB[]",t,r),e.push(r-t)}function mJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"DIV[]",t,r),e.push(r*64/t)}function gJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"MUL[]",t,r),e.push(r*t/64)}function AJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"ABS[]",t),e.push(Math.abs(t))}function vJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"NEG[]",t),e.push(-t)}function yJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"FLOOR[]",t),e.push(Math.floor(t/64)*64)}function xJ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"CEILING[]",t),e.push(Math.ceil(t/64)*64)}function n0(n,e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),t.push(e.round(r/64)*64)}function CJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"WCVTF[]",t,r),n.cvt[r]=t*n.ppem/n.font.unitsPerEm}function s2(n,e){var t=e.stack,r=t.pop(),i=e.ppem,s=e.deltaBase+(n-1)*16,o=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+n+"]",r,t);for(var a=0;a<r;a++){var l=t.pop(),c=t.pop(),u=s+((c&240)>>4);if(u===i){var d=(c&15)-8;d>=0&&d++;var p=d*o;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",p),e.cvt[l]+=p}}}function EJ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SROUND[]",e),n.round=V_;var t;switch(e&192){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function SJ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"S45ROUND[]",e),n.round=V_;var t;switch(e&192){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function _J(n){exports.DEBUG&&console.log(n.step,"ROFF[]"),n.round=sW}function bJ(n){exports.DEBUG&&console.log(n.step,"RUTG[]"),n.round=lW}function IJ(n){exports.DEBUG&&console.log(n.step,"RDTG[]"),n.round=cW}function wJ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCANCTRL[]",e)}function a9(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+n+"]",r,i);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=qh(a,l)}function MJ(n){var e=n.stack,t=e.pop(),r=0;exports.DEBUG&&console.log(n.step,"GETINFO[]",t),t&1&&(r=35),t&32&&(r|=4096),e.push(r)}function TJ(n){var e=n.stack,t=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"ROLL[]"),e.push(r),e.push(t),e.push(i)}function BJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"MAX[]",t,r),e.push(Math.max(r,t))}function RJ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"MIN[]",t,r),e.push(Math.min(r,t))}function PJ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCANTYPE[]",e)}function DJ(n){var e=n.stack.pop(),t=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"INSTCTRL[]",e,t),e){case 1:n.inhibitGridFit=!!t;return;case 2:n.ignoreCvt=!!t;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Lo(n,e){var t=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+n+"]");for(var s=0;s<n;s++)t.push(r[++i]);e.ip=i}function Fo(n,e){var t=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+n+"]");for(var s=0;s<n;s++){var o=r[++t]<<8|r[++t];o&32768&&(o=-((o^65535)+1)),i.push(o)}e.ip=t}function Xe(n,e,t,r,i,s){var o=s.stack,a=n&&o.pop(),l=o.pop(),c=s.rp0,u=s.z0[c],d=s.z1[l],p=s.minDis,m=s.fv,g=s.dpv,A,v,C,x;v=A=g.distance(d,u,!0,!0),C=v>=0?1:-1,v=Math.abs(v),n&&(x=s.cvt[a],r&&Math.abs(v-x)<s.cvCutIn&&(v=x)),t&&v<p&&(v=p),r&&(v=s.round(v)),m.setRelative(d,u,C*v,g),m.touch(d),exports.DEBUG&&console.log(s.step,(n?"MIRP[":"MDRP[")+(e?"M":"m")+(t?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",n?a+"("+s.cvt[a]+","+x+")":"",l,"(d =",A,"->",C*v,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}G_=[jx.bind(void 0,eo),jx.bind(void 0,xs),Kx.bind(void 0,eo),Kx.bind(void 0,xs),qx.bind(void 0,eo),qx.bind(void 0,xs),Yx.bind(void 0,0),Yx.bind(void 0,1),Xx.bind(void 0,0),Xx.bind(void 0,1),fW,hW,dW,pW,mW,gW,AW,vW,yW,xW,CW,EW,SW,_W,bW,IW,wW,MW,TW,BW,void 0,void 0,RW,r2,PW,DW,LW,NW,OW,void 0,void 0,void 0,FW,kW,UW,void 0,$x.bind(void 0,0),$x.bind(void 0,1),Zx.bind(void 0,eo),Zx.bind(void 0,xs),e9.bind(void 0,0),e9.bind(void 0,1),t9.bind(void 0,0),t9.bind(void 0,1),n9.bind(void 0,0),n9.bind(void 0,1),GW,QW,r9.bind(void 0,0),r9.bind(void 0,1),HW,zW,i9.bind(void 0,0),i9.bind(void 0,1),VW,WW,JW,jW,KW,qW,s9.bind(void 0,0),s9.bind(void 0,1),void 0,o9.bind(void 0,0),o9.bind(void 0,1),YW,void 0,XW,void 0,void 0,$W,ZW,eJ,tJ,nJ,rJ,iJ,sJ,oJ,aJ,lJ,cJ,uJ,i2.bind(void 0,1),fJ,hJ,dJ,pJ,mJ,gJ,AJ,vJ,yJ,xJ,n0.bind(void 0,0),n0.bind(void 0,1),n0.bind(void 0,2),n0.bind(void 0,3),void 0,void 0,void 0,void 0,CJ,i2.bind(void 0,2),i2.bind(void 0,3),s2.bind(void 0,1),s2.bind(void 0,2),s2.bind(void 0,3),EJ,SJ,void 0,void 0,_J,void 0,bJ,IJ,r2,r2,void 0,void 0,void 0,void 0,void 0,wJ,a9.bind(void 0,0),a9.bind(void 0,1),MJ,void 0,TJ,BJ,RJ,PJ,DJ,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Lo.bind(void 0,1),Lo.bind(void 0,2),Lo.bind(void 0,3),Lo.bind(void 0,4),Lo.bind(void 0,5),Lo.bind(void 0,6),Lo.bind(void 0,7),Lo.bind(void 0,8),Fo.bind(void 0,1),Fo.bind(void 0,2),Fo.bind(void 0,3),Fo.bind(void 0,4),Fo.bind(void 0,5),Fo.bind(void 0,6),Fo.bind(void 0,7),Fo.bind(void 0,8),Xe.bind(void 0,0,0,0,0,0),Xe.bind(void 0,0,0,0,0,1),Xe.bind(void 0,0,0,0,0,2),Xe.bind(void 0,0,0,0,0,3),Xe.bind(void 0,0,0,0,1,0),Xe.bind(void 0,0,0,0,1,1),Xe.bind(void 0,0,0,0,1,2),Xe.bind(void 0,0,0,0,1,3),Xe.bind(void 0,0,0,1,0,0),Xe.bind(void 0,0,0,1,0,1),Xe.bind(void 0,0,0,1,0,2),Xe.bind(void 0,0,0,1,0,3),Xe.bind(void 0,0,0,1,1,0),Xe.bind(void 0,0,0,1,1,1),Xe.bind(void 0,0,0,1,1,2),Xe.bind(void 0,0,0,1,1,3),Xe.bind(void 0,0,1,0,0,0),Xe.bind(void 0,0,1,0,0,1),Xe.bind(void 0,0,1,0,0,2),Xe.bind(void 0,0,1,0,0,3),Xe.bind(void 0,0,1,0,1,0),Xe.bind(void 0,0,1,0,1,1),Xe.bind(void 0,0,1,0,1,2),Xe.bind(void 0,0,1,0,1,3),Xe.bind(void 0,0,1,1,0,0),Xe.bind(void 0,0,1,1,0,1),Xe.bind(void 0,0,1,1,0,2),Xe.bind(void 0,0,1,1,0,3),Xe.bind(void 0,0,1,1,1,0),Xe.bind(void 0,0,1,1,1,1),Xe.bind(void 0,0,1,1,1,2),Xe.bind(void 0,0,1,1,1,3),Xe.bind(void 0,1,0,0,0,0),Xe.bind(void 0,1,0,0,0,1),Xe.bind(void 0,1,0,0,0,2),Xe.bind(void 0,1,0,0,0,3),Xe.bind(void 0,1,0,0,1,0),Xe.bind(void 0,1,0,0,1,1),Xe.bind(void 0,1,0,0,1,2),Xe.bind(void 0,1,0,0,1,3),Xe.bind(void 0,1,0,1,0,0),Xe.bind(void 0,1,0,1,0,1),Xe.bind(void 0,1,0,1,0,2),Xe.bind(void 0,1,0,1,0,3),Xe.bind(void 0,1,0,1,1,0),Xe.bind(void 0,1,0,1,1,1),Xe.bind(void 0,1,0,1,1,2),Xe.bind(void 0,1,0,1,1,3),Xe.bind(void 0,1,1,0,0,0),Xe.bind(void 0,1,1,0,0,1),Xe.bind(void 0,1,1,0,0,2),Xe.bind(void 0,1,1,0,0,3),Xe.bind(void 0,1,1,0,1,0),Xe.bind(void 0,1,1,0,1,1),Xe.bind(void 0,1,1,0,1,2),Xe.bind(void 0,1,1,0,1,3),Xe.bind(void 0,1,1,1,0,0),Xe.bind(void 0,1,1,1,0,1),Xe.bind(void 0,1,1,1,0,2),Xe.bind(void 0,1,1,1,0,3),Xe.bind(void 0,1,1,1,1,0),Xe.bind(void 0,1,1,1,1,1),Xe.bind(void 0,1,1,1,1,2),Xe.bind(void 0,1,1,1,1,3)];function Tu(n){this.char=n,this.state={},this.activeState=null}function Nv(n,e,t){this.contextName=t,this.startIndex=n,this.endOffset=e}function LJ(n,e,t){this.contextName=n,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=t}function ji(n,e){this.context=n,this.index=e,this.length=n.length,this.current=n[e],this.backtrack=n.slice(0,e),this.lookahead=n.slice(e+1)}function bm(n){this.eventId=n,this.subscribers=[]}function FJ(n){var e=this,t=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];t.forEach(function(i){Object.defineProperty(e.events,i,{value:new bm(i)})}),n&&t.forEach(function(i){var s=n[i];typeof s=="function"&&e.events[i].subscribe(s)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function Pn(n){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],FJ.call(this,n)}Tu.prototype.setState=function(n,e){return this.state[n]=e,this.activeState={key:n,value:this.state[n]},this.activeState};Tu.prototype.getState=function(n){return this.state[n]||null};Pn.prototype.inboundIndex=function(n){return n>=0&&n<this.tokens.length};Pn.prototype.composeRUD=function(n){var e=this,t=!0,r=n.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(t))}),i=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(s){return!i(s)})])};Pn.prototype.replaceRange=function(n,e,t,r){e=e!==null?e:this.tokens.length;var i=t.every(function(o){return o instanceof Tu});if(!isNaN(n)&&this.inboundIndex(n)&&i){var s=this.tokens.splice.apply(this.tokens,[n,e].concat(t));return r||this.dispatch("replaceToken",[n,e,t]),[s,t]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Pn.prototype.replaceToken=function(n,e,t){if(!isNaN(n)&&this.inboundIndex(n)&&e instanceof Tu){var r=this.tokens.splice(n,1,e);return t||this.dispatch("replaceToken",[n,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};Pn.prototype.removeRange=function(n,e,t){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(n,e);return t||this.dispatch("removeRange",[r,n,e]),r};Pn.prototype.removeToken=function(n,e){if(!isNaN(n)&&this.inboundIndex(n)){var t=this.tokens.splice(n,1);return e||this.dispatch("removeToken",[t,n]),t}else return{FAIL:"removeToken: invalid token index."}};Pn.prototype.insertToken=function(n,e,t){var r=n.every(function(i){return i instanceof Tu});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(n)),t||this.dispatch("insertToken",[n,e]),n):{FAIL:"insertToken: invalid token(s)."}};Pn.prototype.registerModifier=function(n,e,t){this.events.newToken.subscribe(function(r,i){var s=[r,i],o=e===null||e.apply(this,s)===!0,a=[r,i];if(o){var l=t.apply(this,a);r.setState(n,l)}}),this.registeredModifiers.push(n)};bm.prototype.subscribe=function(n){return typeof n=="function"?this.subscribers.push(n)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};bm.prototype.unsubscribe=function(n){this.subscribers.splice(n,1)};ji.prototype.setCurrentIndex=function(n){this.index=n,this.current=this.context[n],this.backtrack=this.context.slice(0,n),this.lookahead=this.context.slice(n+1)};ji.prototype.get=function(n){switch(!0){case n===0:return this.current;case(n<0&&Math.abs(n)<=this.backtrack.length):return this.backtrack.slice(n)[0];case(n>0&&n<=this.lookahead.length):return this.lookahead[n-1];default:return null}};Pn.prototype.rangeToText=function(n){if(n instanceof Nv)return this.getRangeTokens(n).map(function(e){return e.char}).join("")};Pn.prototype.getText=function(){return this.tokens.map(function(n){return n.char}).join("")};Pn.prototype.getContext=function(n){var e=this.registeredContexts[n];return e||null};Pn.prototype.on=function(n,e){var t=this.events[n];return t?t.subscribe(e):null};Pn.prototype.dispatch=function(n,e){var t=this,r=this.events[n];r instanceof bm&&r.subscribers.forEach(function(i){i.apply(t,e||[])})};Pn.prototype.registerContextChecker=function(n,e,t){if(this.getContext(n))return{FAIL:"context name '"+n+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof t!="function")return{FAIL:"missing context end check."};var r=new LJ(n,e,t);return this.registeredContexts[n]=r,this.contextCheckers.push(r),r};Pn.prototype.getRangeTokens=function(n){var e=n.startIndex+n.endOffset;return[].concat(this.tokens.slice(n.startIndex,e))};Pn.prototype.getContextRanges=function(n){var e=this.getContext(n);return e?e.ranges:{FAIL:"context checker '"+n+"' is not registered."}};Pn.prototype.resetContextsRanges=function(){var n=this.registeredContexts;for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];t.ranges=[]}};Pn.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var n=this.tokens.map(function(r){return r.char}),e=0;e<n.length;e++){var t=new ji(n,e);this.runContextCheck(t)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Pn.prototype.setEndOffset=function(n,e){var t=this.getContext(e).openRange.startIndex,r=new Nv(t,n,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};Pn.prototype.runContextCheck=function(n){var e=this,t=n.index;this.contextCheckers.forEach(function(r){var i=r.contextName,s=e.getContext(i).openRange;if(!s&&r.checkStart(n)&&(s=new Nv(t,null,i),e.getContext(i).openRange=s,e.dispatch("contextStart",[i,t])),s&&r.checkEnd(n)){var o=t-s.startIndex+1,a=e.setEndOffset(o,i);e.dispatch("contextEnd",[i,a])}})};Pn.prototype.tokenize=function(n){this.tokens=[],this.resetContextsRanges();var e=Array.from(n);this.dispatch("start");for(var t=0;t<e.length;t++){var r=e[t],i=new ji(e,t);this.dispatch("next",[i]),this.runContextCheck(i);var s=new Tu(r);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens};function qo(n){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(n)}function J_(n){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(n)}function fa(n){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(n)}function w0(n){return/[A-z]/.test(n)}function kJ(n){return/\s/.test(n)}function oi(n){this.font=n,this.features={}}function rl(n){this.id=n.id,this.tag=n.tag,this.substitution=n.substitution}function Yh(n,e){if(!n)return-1;switch(e.format){case 1:return e.glyphs.indexOf(n);case 2:for(var t=e.ranges,r=0;r<t.length;r++){var i=t[r];if(n>=i.start&&n<=i.end){var s=n-i.start;return i.index+s}}break;default:return-1}return-1}function NJ(n,e){var t=Yh(n,e.coverage);return t===-1?null:n+e.deltaGlyphId}function OJ(n,e){var t=Yh(n,e.coverage);return t===-1?null:e.substitute[t]}function o2(n,e){for(var t=[],r=0;r<n.length;r++){var i=n[r],s=e.current;s=Array.isArray(s)?s[0]:s;var o=Yh(s,i);o!==-1&&t.push(o)}return t.length!==n.length?-1:t}function UJ(n,e){var t=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(n.context.length<t)return[];var r=o2(e.inputCoverage,n);if(r===-1)return[];var i=e.inputCoverage.length-1;if(n.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=n.lookahead.slice(i);s.length&&fa(s[0].char);)s.shift();var o=new ji(s,0),a=o2(e.lookaheadCoverage,o),l=[].concat(n.backtrack);for(l.reverse();l.length&&fa(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new ji(l,0),u=o2(e.backtrackCoverage,c),d=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,p=[];if(d)for(var m=0;m<e.lookupRecords.length;m++)for(var g=e.lookupRecords[m],A=g.lookupListIndex,v=this.getLookupByIndex(A),C=0;C<v.subtables.length;C++){var x=v.subtables[C],E=this.getLookupMethod(v,x),_=this.getSubstitutionType(v,x);if(_==="12")for(var I=0;I<r.length;I++){var M=n.get(I),T=E(M);T&&p.push(T)}}return p}function GJ(n,e){var t=n.current,r=Yh(t,e.coverage);if(r===-1)return null;for(var i,s=e.ligatureSets[r],o=0;o<s.length;o++){i=s[o];for(var a=0;a<i.components.length;a++){var l=n.lookahead[a],c=i.components[a];if(l!==c)break;if(a===i.components.length-1)return i}}return null}function QJ(n,e){var t=Yh(n,e.coverage);return t===-1?null:e.sequences[t]}oi.prototype.getDefaultScriptFeaturesIndexes=function(){for(var n=this.font.tables.gsub.scripts,e=0;e<n.length;e++){var t=n[e];if(t.tag==="DFLT")return t.script.defaultLangSys.featureIndexes}return[]};oi.prototype.getScriptFeaturesIndexes=function(n){var e=this.font.tables;if(!e.gsub)return[];if(!n)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,r=0;r<t.length;r++){var i=t[r];if(i.tag===n&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var s=i.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===n){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};oi.prototype.mapTagsToFeatures=function(n,e){for(var t={},r=0;r<n.length;r++){var i=n[r].tag,s=n[r].feature;t[i]=s}this.features[e].tags=t};oi.prototype.getScriptFeatures=function(n){var e=this.features[n];if(this.features.hasOwnProperty(n))return e;var t=this.getScriptFeaturesIndexes(n);if(!t)return null;var r=this.font.tables.gsub;return e=t.map(function(i){return r.features[i]}),this.features[n]=e,this.mapTagsToFeatures(e,n),e};oi.prototype.getSubstitutionType=function(n,e){var t=n.lookupType.toString(),r=e.substFormat.toString();return t+r};oi.prototype.getLookupMethod=function(n,e){var t=this,r=this.getSubstitutionType(n,e);switch(r){case"11":return function(i){return NJ.apply(t,[i,e])};case"12":return function(i){return OJ.apply(t,[i,e])};case"63":return function(i){return UJ.apply(t,[i,e])};case"41":return function(i){return GJ.apply(t,[i,e])};case"21":return function(i){return QJ.apply(t,[i,e])};default:throw new Error("lookupType: "+n.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};oi.prototype.lookupFeature=function(n){var e=n.contextParams,t=e.index,r=this.getFeature({tag:n.tag,script:n.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+n.tag+"' for script '"+n.script+"'.");for(var i=this.getFeatureLookups(r),s=[].concat(e.context),o=0;o<i.length;o++)for(var a=i[o],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],d=this.getSubstitutionType(a,u),p=this.getLookupMethod(a,u),m=void 0;switch(d){case"11":m=p(e.current),m&&s.splice(t,1,new rl({id:11,tag:n.tag,substitution:m}));break;case"12":m=p(e.current),m&&s.splice(t,1,new rl({id:12,tag:n.tag,substitution:m}));break;case"63":m=p(e),Array.isArray(m)&&m.length&&s.splice(t,1,new rl({id:63,tag:n.tag,substitution:m}));break;case"41":m=p(e),m&&s.splice(t,1,new rl({id:41,tag:n.tag,substitution:m}));break;case"21":m=p(e.current),m&&s.splice(t,1,new rl({id:21,tag:n.tag,substitution:m}));break}e=new ji(s,t),!(Array.isArray(m)&&!m.length)&&(m=null)}return s.length?s:null};oi.prototype.supports=function(n){if(!n.script)return!1;this.getScriptFeatures(n.script);var e=this.features.hasOwnProperty(n.script);if(!n.tag)return e;var t=this.features[n.script].some(function(r){return r.tag===n.tag});return e&&t};oi.prototype.getLookupSubtables=function(n){return n.subtables||null};oi.prototype.getLookupByIndex=function(n){var e=this.font.tables.gsub.lookups;return e[n]||null};oi.prototype.getFeatureLookups=function(n){return n.lookupListIndexes.map(this.getLookupByIndex.bind(this))};oi.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function HJ(n){var e=n.current,t=n.get(-1);return t===null&&qo(e)||!qo(t)&&qo(e)}function zJ(n){var e=n.get(1);return e===null||!qo(e)}var VJ={startCheck:HJ,endCheck:zJ};function WJ(n){var e=n.current,t=n.get(-1);return(qo(e)||fa(e))&&!qo(t)}function JJ(n){var e=n.get(1);switch(!0){case e===null:return!0;case(!qo(e)&&!fa(e)):var t=kJ(e);if(!t)return!0;if(t){var r=!1;if(r=n.lookahead.some(function(i){return qo(i)||fa(i)}),!r)return!0}break;default:return!1}}var jJ={startCheck:WJ,endCheck:JJ};function KJ(n,e,t){e[t].setState(n.tag,n.substitution)}function qJ(n,e,t){e[t].setState(n.tag,n.substitution)}function YJ(n,e,t){n.substitution.forEach(function(r,i){var s=e[t+i];s.setState(n.tag,r)})}function XJ(n,e,t){var r=e[t];r.setState(n.tag,n.substitution.ligGlyph);for(var i=n.substitution.components.length,s=0;s<i;s++)r=e[t+s+1],r.setState("deleted",!0)}var l9={11:KJ,12:qJ,63:YJ,41:XJ};function Ov(n,e,t){n instanceof rl&&l9[n.id]&&l9[n.id](n,e,t)}function $J(n){for(var e=[].concat(n.backtrack),t=e.length-1;t>=0;t--){var r=e[t],i=J_(r),s=fa(r);if(!i&&!s)return!0;if(i)return!1}return!1}function ZJ(n){if(J_(n.current))return!1;for(var e=0;e<n.lookahead.length;e++){var t=n.lookahead[e],r=fa(t);if(!r)return!0}return!1}function ej(n){var e=this,t="arab",r=this.featuresTags[t],i=this.tokenizer.getRangeTokens(n);if(i.length!==1){var s=new ji(i.map(function(a){return a.getState("glyphIndex")}),0),o=new ji(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!fa(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var c=0;$J(o)&&(c|=1),ZJ(o)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(r.indexOf(u)!==-1){var d=e.query.lookupFeature({tag:u,script:t,contextParams:s});if(d instanceof Error)return console.info(d.message);d.forEach(function(p,m){p instanceof rl&&(Ov(p,i,m),s.context[m]=p.substitution)})}}})}}function c9(n,e){var t=n.map(function(r){return r.activeState.value});return new ji(t,e||0)}function tj(n){var e=this,t="arab",r=this.tokenizer.getRangeTokens(n),i=c9(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:t,contextParams:i});a.length&&(a.forEach(function(l){return Ov(l,r,o)}),i=c9(r))})}function nj(n){var e=n.current,t=n.get(-1);return t===null&&w0(e)||!w0(t)&&w0(e)}function rj(n){var e=n.get(1);return e===null||!w0(e)}var ij={startCheck:nj,endCheck:rj};function u9(n,e){var t=n.map(function(r){return r.activeState.value});return new ji(t,e||0)}function sj(n){var e=this,t="latn",r=this.tokenizer.getRangeTokens(n),i=u9(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:t,contextParams:i});a.length&&(a.forEach(function(l){return Ov(l,r,o)}),i=u9(r))})}function ts(n){this.baseDir=n||"ltr",this.tokenizer=new Pn,this.featuresTags={}}ts.prototype.setText=function(n){this.text=n};ts.prototype.contextChecks={latinWordCheck:ij,arabicWordCheck:VJ,arabicSentenceCheck:jJ};function a2(n){var e=this.contextChecks[n+"Check"];return this.tokenizer.registerContextChecker(n,e.startCheck,e.endCheck)}function oj(){return a2.call(this,"latinWord"),a2.call(this,"arabicWord"),a2.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function aj(){var n=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(t){var r=n.tokenizer.getRangeTokens(t);n.tokenizer.replaceRange(t.startIndex,t.endOffset,r.reverse())})}ts.prototype.registerFeatures=function(n,e){var t=this,r=e.filter(function(i){return t.query.supports({script:n,tag:i})});this.featuresTags.hasOwnProperty(n)?this.featuresTags[n]=this.featuresTags[n].concat(r):this.featuresTags[n]=r};ts.prototype.applyFeatures=function(n,e){if(!n)throw new Error("No valid font was provided to apply features");this.query||(this.query=new oi(n));for(var t=0;t<e.length;t++){var r=e[t];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};ts.prototype.registerModifier=function(n,e,t){this.tokenizer.registerModifier(n,e,t)};function Uv(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function lj(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){Uv.call(this);var t=this.tokenizer.getContextRanges("arabicWord");t.forEach(function(r){ej.call(n,r)})}}function cj(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("rlig")!==-1){Uv.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){tj.call(n,i)})}}}function uj(){var n=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("liga")!==-1){Uv.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){sj.call(n,i)})}}}ts.prototype.checkContextReady=function(n){return!!this.tokenizer.getContext(n)};ts.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(lj.call(this),cj.call(this)),this.checkContextReady("latinWord")&&uj.call(this),this.checkContextReady("arabicSentence")&&aj.call(this)};ts.prototype.processText=function(n){(!this.text||this.text!==n)&&(this.setText(n),oj.call(this),this.applyFeaturesToContexts())};ts.prototype.getBidiText=function(n){return this.processText(n),this.tokenizer.getText()};ts.prototype.getTextGlyphs=function(n){this.processText(n);for(var e=[],t=0;t<this.tokenizer.tokens.length;t++){var r=this.tokenizer.tokens[t];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function on(n){n=n||{},n.tables=n.tables||{},n.empty||(pf(n.familyName,"When creating a new Font object, familyName is required."),pf(n.styleName,"When creating a new Font object, styleName is required."),pf(n.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),pf(n.ascender,"When creating a new Font object, ascender is required."),pf(n.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:n.familyName||" "},fontSubfamily:{en:n.styleName||" "},fullName:{en:n.fullName||n.familyName+" "+n.styleName},postScriptName:{en:n.postScriptName||(n.familyName+n.styleName).replace(/\s/g,"")},designer:{en:n.designer||" "},designerURL:{en:n.designerURL||" "},manufacturer:{en:n.manufacturer||" "},manufacturerURL:{en:n.manufacturerURL||" "},license:{en:n.license||" "},licenseURL:{en:n.licenseURL||" "},version:{en:n.version||"Version 0.1"},description:{en:n.description||" "},copyright:{en:n.copyright||" "},trademark:{en:n.trademark||" "}},this.unitsPerEm=n.unitsPerEm||1e3,this.ascender=n.ascender,this.descender=n.descender,this.createdTimestamp=n.createdTimestamp,this.tables=Object.assign(n.tables,{os2:Object.assign({usWeightClass:n.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:n.widthClass||this.usWidthClasses.MEDIUM,fsSelection:n.fsSelection||this.fsSelectionValues.REGULAR},n.tables.os2)})),this.supported=!0,this.glyphs=new bs.GlyphSet(this,n.glyphs||[]),this.encoding=new S_(this),this.position=new jh(this),this.substitution=new si(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new H_(this)}})}on.prototype.hasChar=function(n){return this.encoding.charToGlyphIndex(n)!==null};on.prototype.charToGlyphIndex=function(n){return this.encoding.charToGlyphIndex(n)};on.prototype.charToGlyph=function(n){var e=this.charToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};on.prototype.updateFeatures=function(n){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(t){return n[t]})}:e})};on.prototype.stringToGlyphs=function(n,e){var t=this,r=new ts,i=function(d){return t.charToGlyphIndex(d.char)};r.registerModifier("glyphIndex",null,i);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,s);for(var o=r.getTextGlyphs(n),a=o.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(o[u])||c;return l};on.prototype.nameToGlyphIndex=function(n){return this.glyphNames.nameToGlyphIndex(n)};on.prototype.nameToGlyph=function(n){var e=this.nameToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};on.prototype.glyphIndexToName=function(n){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(n):""};on.prototype.getKerningValue=function(n,e){n=n.index||n,e=e.index||e;var t=this.position.defaultKerningTables;return t?this.position.getKerningValue(t,n,e):this.kerningPairs[n+","+e]||0};on.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};on.prototype.forEachGlyph=function(n,e,t,r,i,s){e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o=1/this.unitsPerEm*r,a=this.stringToGlyphs(n,i),l;if(i.kerning){var c=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,i.language)}for(var u=0;u<a.length;u+=1){var d=a[u];if(s.call(this,d,e,t,r,i),d.advanceWidth&&(e+=d.advanceWidth*o),i.kerning&&u<a.length-1){var p=l?this.position.getKerningValue(l,d.index,a[u+1].index):this.getKerningValue(d,a[u+1]);e+=p*o}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};on.prototype.getPath=function(n,e,t,r,i){var s=new Kn;return this.forEachGlyph(n,e,t,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.extend(u)}),s};on.prototype.getPaths=function(n,e,t,r,i){var s=[];return this.forEachGlyph(n,e,t,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.push(u)}),s};on.prototype.getAdvanceWidth=function(n,e,t){return this.forEachGlyph(n,0,0,e,t,function(){})};on.prototype.draw=function(n,e,t,r,i,s){this.getPath(e,t,r,i,s).draw(n)};on.prototype.drawPoints=function(n,e,t,r,i,s){this.forEachGlyph(e,t,r,i,s,function(o,a,l,c){o.drawPoints(n,a,l,c)})};on.prototype.drawMetrics=function(n,e,t,r,i,s){this.forEachGlyph(e,t,r,i,s,function(o,a,l,c){o.drawMetrics(n,a,l,c)})};on.prototype.getEnglishName=function(n){var e=this.names[n];if(e)return e.en};on.prototype.validate=function(){var n=this;function e(r,i){}function t(r){var i=n.getEnglishName(r);i&&i.trim().length>0}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm>0};on.prototype.toTables=function(){return YV.fontToTable(this)};on.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};on.prototype.toArrayBuffer=function(){for(var n=this.toTables(),e=n.encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;i++)r[i]=e[i];return t};on.prototype.download=function(n){var e=this.getEnglishName("fontFamily"),t=this.getEnglishName("fontSubfamily");n=n||e.replace(/\s/g,"")+"-"+t+".otf";var r=this.toArrayBuffer();if($V())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),s=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=n;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=ZV(r);l.writeFileSync(n,c)}};on.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};on.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};on.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var uo=new Array(10);uo[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{posFormat:1,coverage:this.parsePointer(ge.coverage),value:this.parseValueRecord()};if(t===2)return{posFormat:2,coverage:this.parsePointer(ge.coverage),values:this.parseValueRecordList()};vt.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};uo[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();vt.assert(t===1||t===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(ge.coverage),i=this.parseUShort(),s=this.parseUShort();if(t===1)return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:s,pairSets:this.parseList(ge.pointer(ge.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}})))};if(t===2){var o=this.parsePointer(ge.classDef),a=this.parsePointer(ge.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,ge.list(c,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}}))}}};uo[3]=function(){return{error:"GPOS Lookup 3 not supported"}};uo[4]=function(){return{error:"GPOS Lookup 4 not supported"}};uo[5]=function(){return{error:"GPOS Lookup 5 not supported"}};uo[6]=function(){return{error:"GPOS Lookup 6 not supported"}};uo[7]=function(){return{error:"GPOS Lookup 7 not supported"}};uo[8]=function(){return{error:"GPOS Lookup 8 not supported"}};uo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var fj=Object.defineProperty,hj=(n,e,t)=>e in n?fj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ie=(n,e,t)=>(hj(n,typeof e!="symbol"?e+"":e,t),t);function f9(n,e){if(e===lS)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===V0||e===Y5){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===V0)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}new Re;const j_=class{parse(n,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:j_.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(n instanceof mt&&n.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const t=n.geometry,r=DracoEncoderModule(),i=new r.Encoder;let s,o;if(!t.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(n instanceof Kt&&n.isMesh){s=new r.MeshBuilder,o=new r.Mesh;const p=t.getAttribute("position");s.AddFloatAttributeToMesh(o,r.POSITION,p.count,p.itemSize,p.array);const m=t.getIndex();if(m!==null)s.AddFacesToMesh(o,m.count/3,m.array);else{const g=new(p.count>65535?Uint32Array:Uint16Array)(p.count);for(let A=0;A<g.length;A++)g[A]=A;s.AddFacesToMesh(o,p.count,g)}if(e.exportNormals){const g=t.getAttribute("normal");g!==void 0&&s.AddFloatAttributeToMesh(o,r.NORMAL,g.count,g.itemSize,g.array)}if(e.exportUvs){const g=t.getAttribute("uv");g!==void 0&&s.AddFloatAttributeToMesh(o,r.TEX_COORD,g.count,g.itemSize,g.array)}if(e.exportColor){const g=t.getAttribute("color");g!==void 0&&s.AddFloatAttributeToMesh(o,r.COLOR,g.count,g.itemSize,g.array)}}else if(n instanceof Am&&n.isPoints){s=new r.PointCloudBuilder,o=new r.PointCloud;const p=t.getAttribute("position");if(s.AddFloatAttribute(o,r.POSITION,p.count,p.itemSize,p.array),e.exportColor){const m=t.getAttribute("color");m!==void 0&&s.AddFloatAttribute(o,r.COLOR,m.count,m.itemSize,m.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new r.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,c=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(i.SetSpeedOptions(l,c),e.encoderMethod!==void 0&&i.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let p=0;p<5;p++)e.quantization[p]!==void 0&&i.SetAttributeQuantization(p,e.quantization[p]);let u;if(n instanceof Kt&&n.isMesh?u=i.EncodeMeshToDracoBuffer(o,a):u=i.EncodePointCloudToDracoBuffer(o,!0,a),r.destroy(o),u===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const d=new Int8Array(new ArrayBuffer(u));for(let p=0;p<u;p++)d[p]=a.GetValue(p);return r.destroy(a),r.destroy(i),r.destroy(s),d}};let Rs=j_;Ie(Rs,"MESH_EDGEBREAKER_ENCODING",1);Ie(Rs,"MESH_SEQUENTIAL_ENCODING",0);Ie(Rs,"POINT_CLOUD",0);Ie(Rs,"TRIANGULAR_MESH",1);Ie(Rs,"INVALID",-1);Ie(Rs,"POSITION",0);Ie(Rs,"NORMAL",1);Ie(Rs,"COLOR",2);Ie(Rs,"TEX_COORD",3);Ie(Rs,"GENERIC",4);const K_=class extends Kt{constructor(n,e={}){super(n),this.isReflector=!0,this.type="Reflector",this.camera=new $t;const t=this,r=e.color!==void 0?new Re(e.color):new Re(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||K_.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,c=new Ci,u=new L,d=new L,p=new L,m=new tt,g=new L(0,0,-1),A=new Nt,v=new L,C=new L,x=new Nt,E=new tt,_=this.camera,I=new Yt(i,s,{samples:l,type:kn}),M=new Ot({uniforms:An.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});M.uniforms.tDiffuse.value=I.texture,M.uniforms.color.value=r,M.uniforms.textureMatrix.value=E,this.material=M,this.onBeforeRender=function(T,w,R){if(d.setFromMatrixPosition(t.matrixWorld),p.setFromMatrixPosition(R.matrixWorld),m.extractRotation(t.matrixWorld),u.set(0,0,1),u.applyMatrix4(m),v.subVectors(d,p),v.dot(u)>0)return;v.reflect(u).negate(),v.add(d),m.extractRotation(R.matrixWorld),g.set(0,0,-1),g.applyMatrix4(m),g.add(p),C.subVectors(d,g),C.reflect(u).negate(),C.add(d),_.position.copy(v),_.up.set(0,1,0),_.up.applyMatrix4(m),_.up.reflect(u),_.lookAt(C),_.far=R.far,_.updateMatrixWorld(),_.projectionMatrix.copy(R.projectionMatrix),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(_.projectionMatrix),E.multiply(_.matrixWorldInverse),E.multiply(t.matrixWorld),c.setFromNormalAndCoplanarPoint(u,d),c.applyMatrix4(_.matrixWorldInverse),A.set(c.normal.x,c.normal.y,c.normal.z,c.constant);const D=_.projectionMatrix;x.x=(Math.sign(A.x)+D.elements[8])/D.elements[0],x.y=(Math.sign(A.y)+D.elements[9])/D.elements[5],x.z=-1,x.w=(1+D.elements[10])/D.elements[14],A.multiplyScalar(2/A.dot(x)),D.elements[2]=A.x,D.elements[6]=A.y,D.elements[10]=A.z+1-o,D.elements[14]=A.w,t.visible=!1;const P=T.getRenderTarget(),z=T.xr.enabled,q=T.shadowMap.autoUpdate,k=T.toneMapping;let Q=!1;"outputColorSpace"in T?Q=T.outputColorSpace==="srgb":Q=T.outputEncoding===3001,T.xr.enabled=!1,T.shadowMap.autoUpdate=!1,"outputColorSpace"in T?T.outputColorSpace="linear-srgb":T.outputEncoding=3e3,T.toneMapping=$r,T.setRenderTarget(I),T.state.buffers.depth.setMask(!0),T.autoClear===!1&&T.clear(),T.render(w,_),T.xr.enabled=z,T.shadowMap.autoUpdate=q,T.toneMapping=k,"outputColorSpace"in T?T.outputColorSpace=Q?"srgb":"srgb-linear":T.outputEncoding=Q?3001:3e3,T.setRenderTarget(P);const V=R.viewport;V!==void 0&&T.state.viewport(V),t.visible=!0},this.getRenderTarget=function(){return I},this.dispose=function(){I.dispose(),t.material.dispose()}}};let W1=K_;Ie(W1,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(lo.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const q_=class extends Kt{constructor(n,e={}){super(n),this.isRefractor=!0,this.type="Refractor",this.camera=new $t;const t=this,r=e.color!==void 0?new Re(e.color):new Re(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||q_.RefractorShader,l=e.multisample!==void 0?e.multisample:4,c=this.camera;c.matrixAutoUpdate=!1,c.userData.refractor=!0;const u=new Ci,d=new tt,p=new Yt(i,s,{samples:l,type:kn});this.material=new Ot({uniforms:An.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=r,this.material.uniforms.tDiffuse.value=p.texture,this.material.uniforms.textureMatrix.value=d;const m=function(){const x=new L,E=new L,_=new tt,I=new L,M=new L;return function(w){return x.setFromMatrixPosition(t.matrixWorld),E.setFromMatrixPosition(w.matrixWorld),I.subVectors(x,E),_.extractRotation(t.matrixWorld),M.set(0,0,1),M.applyMatrix4(_),I.dot(M)<0}}(),g=function(){const x=new L,E=new L,_=new Jn,I=new L;return function(){t.matrixWorld.decompose(E,_,I),x.set(0,0,1).applyQuaternion(_).normalize(),x.negate(),u.setFromNormalAndCoplanarPoint(x,E)}}(),A=function(){const x=new Ci,E=new Nt,_=new Nt;return function(M){c.matrixWorld.copy(M.matrixWorld),c.matrixWorldInverse.copy(c.matrixWorld).invert(),c.projectionMatrix.copy(M.projectionMatrix),c.far=M.far,x.copy(u),x.applyMatrix4(c.matrixWorldInverse),E.set(x.normal.x,x.normal.y,x.normal.z,x.constant);const T=c.projectionMatrix;_.x=(Math.sign(E.x)+T.elements[8])/T.elements[0],_.y=(Math.sign(E.y)+T.elements[9])/T.elements[5],_.z=-1,_.w=(1+T.elements[10])/T.elements[14],E.multiplyScalar(2/E.dot(_)),T.elements[2]=E.x,T.elements[6]=E.y,T.elements[10]=E.z+1-o,T.elements[14]=E.w}}();function v(x){d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(x.projectionMatrix),d.multiply(x.matrixWorldInverse),d.multiply(t.matrixWorld)}function C(x,E,_){t.visible=!1;const I=x.getRenderTarget(),M=x.xr.enabled,T=x.shadowMap.autoUpdate,w=x.toneMapping;let R=!1;"outputColorSpace"in x?R=x.outputColorSpace==="srgb":R=x.outputEncoding===3001,x.xr.enabled=!1,x.shadowMap.autoUpdate=!1,"outputColorSpace"in x?x.outputColorSpace="linear-srgb":x.outputEncoding=3e3,x.toneMapping=$r,x.setRenderTarget(p),x.autoClear===!1&&x.clear(),x.render(E,c),x.xr.enabled=M,x.shadowMap.autoUpdate=T,x.toneMapping=w,x.setRenderTarget(I),"outputColorSpace"in x?x.outputColorSpace=R?"srgb":"srgb-linear":x.outputEncoding=R?3001:3e3;const D=_.viewport;D!==void 0&&x.state.viewport(D),t.visible=!0}this.onBeforeRender=function(x,E,_){_.userData.refractor!==!0&&m(_)&&(g(),v(_),A(_),C(x,E,_))},this.getRenderTarget=function(){return p},this.dispose=function(){p.dispose(),t.material.dispose()}}};let J1=q_;Ie(J1,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(lo.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const dj=new mt,j1=class extends Kt{constructor(){super(j1.Geometry,new cr({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const n=new L,e=new L,t=new Es(new Uint8Array(16*16*3),16,16,Bn);t.minFilter=At,t.magFilter=At,t.wrapS=Mn,t.wrapT=Mn;const r=new Es(new Uint8Array(16*16*3),16,16,Bn);r.minFilter=At,r.magFilter=At,r.wrapS=Mn,r.wrapT=Mn;const i=j1.Geometry,s=new zf({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new zf({uniforms:{map:{value:t},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new Kt(i,s),l=[],c=Y_.Shader,u=new zf({uniforms:{map:{value:null},occlusionMap:{value:r},color:{value:new Re(16777215)},scale:{value:new he},screenPosition:{value:new L}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:eh,transparent:!0,depthWrite:!1}),d=new Kt(i,u);this.addElement=function(v){l.push(v)};const p=new he,m=new he,g=new t_,A=new Nt;this.onBeforeRender=function(v,C,x){v.getCurrentViewport(A);const E=A.w/A.z,_=A.z/2,I=A.w/2;let M=16/A.w;if(p.set(M*E,M),g.min.set(A.x,A.y),g.max.set(A.x+(A.z-16),A.y+(A.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(x.matrixWorldInverse),!(e.z>0)&&(n.copy(e).applyMatrix4(x.projectionMatrix),m.x=A.x+n.x*_+_-8,m.y=A.y+n.y*I+I-8,g.containsPoint(m))){v.copyFramebufferToTexture(m,t);let T=s.uniforms;T.scale.value=p,T.screenPosition.value=n,v.renderBufferDirect(x,null,i,s,a,null),v.copyFramebufferToTexture(m,r),T=o.uniforms,T.scale.value=p,T.screenPosition.value=n,v.renderBufferDirect(x,null,i,o,a,null);const w=-n.x*2,R=-n.y*2;for(let D=0,P=l.length;D<P;D++){const z=l[D],q=u.uniforms;q.color.value.copy(z.color),q.map.value=z.texture,q.screenPosition.value.x=n.x+w*z.distance,q.screenPosition.value.y=n.y+R*z.distance,M=z.size/A.w;const k=A.w/A.z;q.scale.value.set(M*k,M),u.uniformsNeedUpdate=!0,v.renderBufferDirect(x,null,i,u,d,null)}}},this.dispose=function(){s.dispose(),o.dispose(),u.dispose(),t.dispose(),r.dispose();for(let v=0,C=l.length;v<C;v++)l[v].texture.dispose()}}};let pj=j1;Ie(pj,"Geometry",dj);class Y_{constructor(e,t=1,r=0,i=new Re(16777215)){this.texture=e,this.size=t,this.distance=r,this.color=i}}Ie(Y_,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class Wf{constructor(e=Math){Ie(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),Ie(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),Ie(this,"p",[]),Ie(this,"perm",[]),Ie(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),Ie(this,"dot",(t,r,i)=>t[0]*r+t[1]*i),Ie(this,"dot3",(t,r,i,s)=>t[0]*r+t[1]*i+t[2]*s),Ie(this,"dot4",(t,r,i,s,o)=>t[0]*r+t[1]*i+t[2]*s+t[3]*o),Ie(this,"noise",(t,r)=>{let i,s,o;const a=.5*(Math.sqrt(3)-1),l=(t+r)*a,c=Math.floor(t+l),u=Math.floor(r+l),d=(3-Math.sqrt(3))/6,p=(c+u)*d,m=c-p,g=u-p,A=t-m,v=r-g;let C=0,x=1;A>v&&(C=1,x=0);const E=A-C+d,_=v-x+d,I=A-1+2*d,M=v-1+2*d,T=c&255,w=u&255,R=this.perm[T+this.perm[w]]%12,D=this.perm[T+C+this.perm[w+x]]%12,P=this.perm[T+1+this.perm[w+1]]%12;let z=.5-A*A-v*v;z<0?i=0:(z*=z,i=z*z*this.dot(this.grad3[R],A,v));let q=.5-E*E-_*_;q<0?s=0:(q*=q,s=q*q*this.dot(this.grad3[D],E,_));let k=.5-I*I-M*M;return k<0?o=0:(k*=k,o=k*k*this.dot(this.grad3[P],I,M)),70*(i+s+o)}),Ie(this,"noise3d",(t,r,i)=>{let s,o,a,l;const c=.3333333333333333,u=(t+r+i)*c,d=Math.floor(t+u),p=Math.floor(r+u),m=Math.floor(i+u),g=1/6,A=(d+p+m)*g,v=d-A,C=p-A,x=m-A,E=t-v,_=r-C,I=i-x;let M,T,w,R,D,P;E>=_?_>=I?(M=1,T=0,w=0,R=1,D=1,P=0):E>=I?(M=1,T=0,w=0,R=1,D=0,P=1):(M=0,T=0,w=1,R=1,D=0,P=1):_<I?(M=0,T=0,w=1,R=0,D=1,P=1):E<I?(M=0,T=1,w=0,R=0,D=1,P=1):(M=0,T=1,w=0,R=1,D=1,P=0);const z=E-M+g,q=_-T+g,k=I-w+g,Q=E-R+2*g,V=_-D+2*g,Y=I-P+2*g,G=E-1+3*g,j=_-1+3*g,K=I-1+3*g,ee=d&255,X=p&255,ae=m&255,Ae=this.perm[ee+this.perm[X+this.perm[ae]]]%12,_e=this.perm[ee+M+this.perm[X+T+this.perm[ae+w]]]%12,re=this.perm[ee+R+this.perm[X+D+this.perm[ae+P]]]%12,Ne=this.perm[ee+1+this.perm[X+1+this.perm[ae+1]]]%12;let Pe=.6-E*E-_*_-I*I;Pe<0?s=0:(Pe*=Pe,s=Pe*Pe*this.dot3(this.grad3[Ae],E,_,I));let Le=.6-z*z-q*q-k*k;Le<0?o=0:(Le*=Le,o=Le*Le*this.dot3(this.grad3[_e],z,q,k));let ve=.6-Q*Q-V*V-Y*Y;ve<0?a=0:(ve*=ve,a=ve*ve*this.dot3(this.grad3[re],Q,V,Y));let xe=.6-G*G-j*j-K*K;return xe<0?l=0:(xe*=xe,l=xe*xe*this.dot3(this.grad3[Ne],G,j,K)),32*(s+o+a+l)}),Ie(this,"noise4d",(t,r,i,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;let d,p,m,g,A;const v=(t+r+i+s)*c,C=Math.floor(t+v),x=Math.floor(r+v),E=Math.floor(i+v),_=Math.floor(s+v),I=(C+x+E+_)*u,M=C-I,T=x-I,w=E-I,R=_-I,D=t-M,P=r-T,z=i-w,q=s-R,k=D>P?32:0,Q=D>z?16:0,V=P>z?8:0,Y=D>q?4:0,G=P>q?2:0,j=z>q?1:0,K=k+Q+V+Y+G+j;let ee,X,ae,Ae,_e,re,Ne,Pe,Le,ve,xe,oe;ee=a[K][0]>=3?1:0,X=a[K][1]>=3?1:0,ae=a[K][2]>=3?1:0,Ae=a[K][3]>=3?1:0,_e=a[K][0]>=2?1:0,re=a[K][1]>=2?1:0,Ne=a[K][2]>=2?1:0,Pe=a[K][3]>=2?1:0,Le=a[K][0]>=1?1:0,ve=a[K][1]>=1?1:0,xe=a[K][2]>=1?1:0,oe=a[K][3]>=1?1:0;const ne=D-ee+u,Ce=P-X+u,Me=z-ae+u,Fe=q-Ae+u,qe=D-_e+2*u,je=P-re+2*u,ze=z-Ne+2*u,ct=q-Pe+2*u,rt=D-Le+3*u,W=P-ve+3*u,N=z-xe+3*u,se=q-oe+3*u,we=D-1+4*u,Te=P-1+4*u,Be=z-1+4*u,Ue=q-1+4*u,ue=C&255,We=x&255,Oe=E&255,U=_&255,O=l[ue+l[We+l[Oe+l[U]]]]%32,fe=l[ue+ee+l[We+X+l[Oe+ae+l[U+Ae]]]]%32,Se=l[ue+_e+l[We+re+l[Oe+Ne+l[U+Pe]]]]%32,Ke=l[ue+Le+l[We+ve+l[Oe+xe+l[U+oe]]]]%32,He=l[ue+1+l[We+1+l[Oe+1+l[U+1]]]]%32;let et=.6-D*D-P*P-z*z-q*q;et<0?d=0:(et*=et,d=et*et*this.dot4(o[O],D,P,z,q));let De=.6-ne*ne-Ce*Ce-Me*Me-Fe*Fe;De<0?p=0:(De*=De,p=De*De*this.dot4(o[fe],ne,Ce,Me,Fe));let ot=.6-qe*qe-je*je-ze*ze-ct*ct;ot<0?m=0:(ot*=ot,m=ot*ot*this.dot4(o[Se],qe,je,ze,ct));let ht=.6-rt*rt-W*W-N*N-se*se;ht<0?g=0:(ht*=ht,g=ht*ht*this.dot4(o[Ke],rt,W,N,se));let dt=.6-we*we-Te*Te-Be*Be-Ue*Ue;return dt<0?A=0:(dt*=dt,A=dt*dt*this.dot4(o[He],we,Te,Be,Ue)),27*(d+p+m+g+A)});for(let t=0;t<256;t++)this.p[t]=Math.floor(e.random()*256);for(let t=0;t<512;t++)this.perm[t]=this.p[t&255]}}const _r=class extends mt{constructor(n={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(_r.copyParameters(n,n)),this.createMesh()}static createRandomGenerator(){const e=[];for(let r=0;r<2053;r++)e.push(Math.random());const t={currentSeed:0,random:function(){const r=e[t.currentSeed];return t.currentSeed=(t.currentSeed+1)%2053,r},getSeed:function(){return t.currentSeed/2053},setSeed:function(r){t.currentSeed=Math.floor(r*2053)%2053}};return t}static copyParameters(n={},e={}){const t=function(r){return e===n?r:r.clone()};return n.sourceOffset=e.sourceOffset!==void 0?t(e.sourceOffset):new L(0,100,0),n.destOffset=e.destOffset!==void 0?t(e.destOffset):new L(0,0,0),n.timeScale=e.timeScale!==void 0?e.timeScale:1,n.roughness=e.roughness!==void 0?e.roughness:.9,n.straightness=e.straightness!==void 0?e.straightness:.7,n.up0=e.up0!==void 0?t(e.up0):new L(0,0,1),n.up1=e.up1!==void 0?t(e.up1):new L(0,0,1),n.radius0=e.radius0!==void 0?e.radius0:1,n.radius1=e.radius1!==void 0?e.radius1:1,n.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,n.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,n.minRadius=e.minRadius!==void 0?e.minRadius:.2,n.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,n.birthTime=e.birthTime,n.deathTime=e.deathTime,n.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,n.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,n.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,n.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,n.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,n.isStatic=e.isStatic!==void 0?e.isStatic:!1,n.ramification=e.ramification!==void 0?e.ramification:5,n.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,n.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,n.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,n.randomGenerator=e.randomGenerator,n.noiseSeed=e.noiseSeed,n.onDecideSubrayCreation=e.onDecideSubrayCreation,n.onSubrayCreation=e.onSubrayCreation,n}update(n){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=n&&n<=this.rayParameters.deathTime?(this.updateMesh(n),n<this.subrays[0].endPropagationTime?this.state=_r.RAY_PROPAGATING:n>this.subrays[0].beginVanishingTime?this.state=_r.RAY_VANISHING:this.state=_r.RAY_STEADY,this.visible=!0):(this.visible=!1,n<this.rayParameters.birthTime?this.state=_r.RAY_UNBORN:this.state=_r.RAY_EXTINGUISHED))}init(n){this.rayParameters=n,this.maxIterations=n.maxIterations!==void 0?Math.floor(n.maxIterations):9,n.maxIterations=this.maxIterations,this.isStatic=n.isStatic!==void 0?n.isStatic:!1,n.isStatic=this.isStatic,this.ramification=n.ramification!==void 0?Math.floor(n.ramification):5,n.ramification=this.ramification,this.maxSubrayRecursion=n.maxSubrayRecursion!==void 0?Math.floor(n.maxSubrayRecursion):3,n.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=n.recursionProbability!==void 0?n.recursionProbability:.6,n.recursionProbability=this.recursionProbability,this.generateUVs=n.generateUVs!==void 0?n.generateUVs:!1,n.generateUVs=this.generateUVs,n.randomGenerator!==void 0?(this.randomGenerator=n.randomGenerator,this.seedGenerator=n.randomGenerator,n.noiseSeed!==void 0&&this.seedGenerator.setSeed(n.noiseSeed)):(this.randomGenerator=_r.createRandomGenerator(),this.seedGenerator=Math),n.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=n.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),n.onSubrayCreation!==void 0&&(this.onSubrayCreation=n.onSubrayCreation)),this.state=_r.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),n.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new Wf(this.seedGenerator),this.simplexY=new Wf(this.seedGenerator),this.simplexZ=new Wf(this.seedGenerator),this.forwards=new L,this.forwardsFill=new L,this.side=new L,this.down=new L,this.middlePos=new L,this.middleLinPos=new L,this.newPos=new L,this.vPos=new L,this.cross1=new L}createMesh(){const n=1<<this.maxIterations,e=3*(n+1)*this.maxSubrays,t=18*n*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(t),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new lm(this.indices,1)),this.positionAttribute=new Ze(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new Ze(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=S0,this.positionAttribute.usage=S0,this.generateUVs&&(this.uvsAttribute.usage=S0)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(n){this.fillMesh(n),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(n){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(n,function(r){const i=e.currentSubray;n<i.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):n<i.endPropagationTime?e.timeFraction>=r.fraction0*i.propagationTimeFactor&&(e.createPrism(r),e.onDecideSubrayCreation(r,e)):n<i.beginVanishingTime?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):(e.timeFraction<=i.vanishingTimeFactor+r.fraction1*(1-i.vanishingTimeFactor)&&e.createPrism(r),e.onDecideSubrayCreation(r,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(n,e){n.pos0.copy(e.sourceOffset),n.pos1.copy(e.destOffset),n.up0.copy(e.up0),n.up1.copy(e.up1),n.radius0=e.radius0,n.radius1=e.radius1,n.birthTime=e.birthTime,n.deathTime=e.deathTime,n.timeScale=e.timeScale,n.roughness=e.roughness,n.straightness=e.straightness,n.propagationTimeFactor=e.propagationTimeFactor,n.vanishingTimeFactor=e.vanishingTimeFactor,n.maxIterations=this.maxIterations,n.seed=e.noiseSeed!==void 0?e.noiseSeed:0,n.recursion=0}fractalRay(n,e){this.time=n,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let t=0;t<this.numSubrays;t++){const r=this.subrays[t];this.currentSubray=r,this.randomGenerator.setSeed(r.seed),r.endPropagationTime=Oc.lerp(r.birthTime,r.deathTime,r.propagationTimeFactor),r.beginVanishingTime=Oc.lerp(r.deathTime,r.birthTime,1-r.vanishingTimeFactor);const i=this.randomGenerator.random;r.linPos0.set(i(),i(),i()).multiplyScalar(1e3),r.linPos1.set(i(),i(),i()).multiplyScalar(1e3),this.timeFraction=(n-r.birthTime)/(r.deathTime-r.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(r.pos0),s.pos1.copy(r.pos1),s.linPos0.copy(r.linPos0),s.linPos1.copy(r.linPos1),s.up0.copy(r.up0),s.up1.copy(r.up1),s.radius0=r.radius0,s.radius1=r.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-r.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,r.recursion)/(1<<r.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(n){if(n.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(n);return}this.forwards.subVectors(n.pos1,n.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const t=(n.radius0+n.radius1)*.5,r=(n.fraction0+n.fraction1)*.5,i=this.time*this.currentSubray.timeScale*Math.pow(2,n.iteration);this.middlePos.lerpVectors(n.pos0,n.pos1,.5),this.middleLinPos.lerpVectors(n.linPos0,n.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,i),this.simplexY.noise4d(s.x,s.y,s.z,i),this.simplexZ.noise4d(s.x,s.y,s.z,i)),this.newPos.multiplyScalar(n.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(n.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(n.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(n.up0),o.up1.copy(n.up1),o.radius0=n.radius0,o.radius1=t,o.fraction0=n.fraction0,o.fraction1=r,o.positionVariationFactor=n.positionVariationFactor*this.currentSubray.roughness,o.iteration=n.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(n.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(n.linPos1),this.cross1.crossVectors(n.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(n.up1),a.radius0=t,a.radius1=n.radius1,a.fraction0=r,a.fraction1=n.fraction1,a.positionVariationFactor=n.positionVariationFactor*this.currentSubray.roughness,a.iteration=n.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(n){this.forwardsFill.subVectors(n.pos1,n.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(n.pos0,n.up0,this.forwardsFill,n.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(n.pos1,n.up0,this.forwardsFill,n.radius1,n.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(n,e,t,r){this.side.crossVectors(e,t).multiplyScalar(r*_r.COS30DEG),this.down.copy(e).multiplyScalar(-r*_r.SIN30DEG);const i=this.vPos,s=this.vertices;i.copy(n).sub(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(n).add(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(e).multiplyScalar(r).add(n),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,this.currentVertex+=3}createTriangleVerticesWithUVs(n,e,t,r,i){this.side.crossVectors(e,t).multiplyScalar(r*_r.COS30DEG),this.down.copy(e).multiplyScalar(-r*_r.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(n).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=0,s.copy(n).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(r).add(n),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(n){const e=this.indices;n=this.currentVertex-6,e[this.currentIndex++]=n+1,e[this.currentIndex++]=n+2,e[this.currentIndex++]=n+5,e[this.currentIndex++]=n+1,e[this.currentIndex++]=n+5,e[this.currentIndex++]=n+4,e[this.currentIndex++]=n+0,e[this.currentIndex++]=n+1,e[this.currentIndex++]=n+4,e[this.currentIndex++]=n+0,e[this.currentIndex++]=n+4,e[this.currentIndex++]=n+3,e[this.currentIndex++]=n+2,e[this.currentIndex++]=n+0,e[this.currentIndex++]=n+3,e[this.currentIndex++]=n+2,e[this.currentIndex++]=n+3,e[this.currentIndex++]=n+5}createDefaultSubrayCreationCallbacks(){const n=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,c=o.rayParameters.subrayDutyCycle,u=o.rayParameters.isEternal&&a.recursion==0?-n()*l:Oc.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-n()*l,d=o.time-u,p=Math.floor(d/l),m=n()*(p+1),g=d%l<=c*l;let A=0;if(g&&(A=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&n()<A){const v=o.addNewSubray(),C=o.randomGenerator.getSeed();v.seed=m,o.randomGenerator.setSeed(m),v.recursion=a.recursion+1,v.maxIterations=Math.max(1,a.maxIterations-1),v.linPos0.set(n(),n(),n()).multiplyScalar(1e3),v.linPos1.set(n(),n(),n()).multiplyScalar(1e3),v.up0.copy(a.up0),v.up1.copy(a.up1),v.radius0=s.radius0*o.rayParameters.radius0Factor,v.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),v.birthTime=u+p*l,v.deathTime=v.birthTime+l*c,!o.rayParameters.isEternal&&a.recursion==0&&(v.birthTime=Math.max(v.birthTime,a.birthTime),v.deathTime=Math.min(v.deathTime,a.deathTime)),v.timeScale=a.timeScale*2,v.roughness=a.roughness,v.straightness=a.straightness,v.propagationTimeFactor=a.propagationTimeFactor,v.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,v,o),o.randomGenerator.setSeed(C)}};const e=new L,t=new L,r=new L,i=new L;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),t.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(n()*l));const d=e.length();r.crossVectors(o.up0,t);const p=2*Math.PI*n();r.multiplyScalar(Math.cos(p)),i.copy(o.up0).multiplyScalar(Math.sin(p)),a.pos1.copy(r).add(i).multiplyScalar(d*c*(u+n()*(1-u))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),t.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*n()-1)*l));const d=e.length();r.crossVectors(o.up0,t);const p=2*Math.PI*n();r.multiplyScalar(Math.cos(p)),i.copy(o.up0).multiplyScalar(Math.sin(p)),a.pos1.copy(r).add(i).multiplyScalar(d*c*(u+n()*(1-u))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new L,pos1:new L,linPos0:new L,linPos1:new L,up0:new L,up1:new L,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new L,pos1:new L,linPos0:new L,linPos1:new L,up0:new L,up1:new L,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(n){return super.copy(n),this.init(_r.copyParameters({},n.rayParameters)),this}clone(){return new this.constructor(_r.copyParameters({},this.rayParameters))}};let Ca=_r;Ie(Ca,"RAY_INITIALIZED",0);Ie(Ca,"RAY_UNBORN",1);Ie(Ca,"RAY_PROPAGATING",2);Ie(Ca,"RAY_STEADY",3);Ie(Ca,"RAY_VANISHING",4);Ie(Ca,"RAY_EXTINGUISHED",5);Ie(Ca,"COS30DEG",Math.cos(30*Math.PI/180));Ie(Ca,"SIN30DEG",Math.sin(30*Math.PI/180));const Xa=class extends Kt{constructor(n,e={}){super(n),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const t=this,r=e.color!==void 0?new Re(e.color):new Re(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||Xa.ReflectorShader,l=e.useDepthTexture===!0,c=new L(0,1,0),u=new L,d=new L;t.needsUpdate=!1,t.maxDistance=Xa.ReflectorShader.uniforms.maxDistance.value,t.opacity=Xa.ReflectorShader.uniforms.opacity.value,t.color=r,t.resolution=e.resolution||new he(window.innerWidth,window.innerHeight),t._distanceAttenuation=Xa.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(t,"distanceAttenuation",{get(){return t._distanceAttenuation},set(P){t._distanceAttenuation!==P&&(t._distanceAttenuation=P,t.material.defines.DISTANCE_ATTENUATION=P,t.material.needsUpdate=!0)}}),t._fresnel=Xa.ReflectorShader.defines.FRESNEL,Object.defineProperty(t,"fresnel",{get(){return t._fresnel},set(P){t._fresnel!==P&&(t._fresnel=P,t.material.defines.FRESNEL=P,t.material.needsUpdate=!0)}});const p=new L,m=new L,g=new L,A=new tt,v=new L(0,0,-1),C=new L,x=new L,E=new tt,_=new $t;let I;l&&(I=new bu,I.type=Eu,I.minFilter=At,I.magFilter=At);const M={depthTexture:l?I:null,type:kn},T=new Yt(i,s,M),w=new Ot({transparent:l,defines:Object.assign({},Xa.ReflectorShader.defines,{useDepthTexture:l}),uniforms:An.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});w.uniforms.tDiffuse.value=T.texture,w.uniforms.color.value=t.color,w.uniforms.textureMatrix.value=E,l&&(w.uniforms.tDepth.value=T.depthTexture),this.material=w;const D=[new Ci(new L(0,1,0),o)];this.doRender=function(P,z,q){if(w.uniforms.maxDistance.value=t.maxDistance,w.uniforms.color.value=t.color,w.uniforms.opacity.value=t.opacity,u.copy(q.position).normalize(),d.copy(u).reflect(c),w.uniforms.fresnelCoe.value=(u.dot(d)+1)/2,m.setFromMatrixPosition(t.matrixWorld),g.setFromMatrixPosition(q.matrixWorld),A.extractRotation(t.matrixWorld),p.set(0,0,1),p.applyMatrix4(A),C.subVectors(m,g),C.dot(p)>0)return;C.reflect(p).negate(),C.add(m),A.extractRotation(q.matrixWorld),v.set(0,0,-1),v.applyMatrix4(A),v.add(g),x.subVectors(m,v),x.reflect(p).negate(),x.add(m),_.position.copy(C),_.up.set(0,1,0),_.up.applyMatrix4(A),_.up.reflect(p),_.lookAt(x),_.far=q.far,_.updateMatrixWorld(),_.projectionMatrix.copy(q.projectionMatrix),w.uniforms.virtualCameraNear.value=q.near,w.uniforms.virtualCameraFar.value=q.far,w.uniforms.virtualCameraMatrixWorld.value=_.matrixWorld,w.uniforms.virtualCameraProjectionMatrix.value=q.projectionMatrix,w.uniforms.virtualCameraProjectionMatrixInverse.value=q.projectionMatrixInverse,w.uniforms.resolution.value=t.resolution,E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(_.projectionMatrix),E.multiply(_.matrixWorldInverse),E.multiply(t.matrixWorld);const k=P.getRenderTarget(),Q=P.xr.enabled,V=P.shadowMap.autoUpdate,Y=P.clippingPlanes;P.xr.enabled=!1,P.shadowMap.autoUpdate=!1,P.clippingPlanes=D,P.setRenderTarget(T),P.state.buffers.depth.setMask(!0),P.autoClear===!1&&P.clear(),P.render(z,_),P.xr.enabled=Q,P.shadowMap.autoUpdate=V,P.clippingPlanes=Y,P.setRenderTarget(k);const G=q.viewport;G!==void 0&&P.state.viewport(G)},this.getRenderTarget=function(){return T}}};let mj=Xa;Ie(mj,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new tt},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new tt},virtualCameraMatrixWorld:{value:new tt},virtualCameraProjectionMatrixInverse:{value:new tt},resolution:{value:new he}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const M0={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new L},up:{value:new L(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(lo.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},X_=new Ot({name:"SkyShader",fragmentShader:M0.fragmentShader,vertexShader:M0.vertexShader,uniforms:An.clone(M0.uniforms),side:Nr,depthWrite:!1});class $_ extends Kt{constructor(){super(new Ms(1,1,1),X_)}}Ie($_,"SkyShader",M0);Ie($_,"material",X_);const Z_=class extends Kt{constructor(n,e={}){super(n),this.isWater=!0,this.type="Water";const t=this,r=e.color!==void 0?new Re(e.color):new Re(16777215),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new he(1,0),l=e.flowSpeed||.03,c=e.reflectivity||.02,u=e.scale||1,d=e.shader||Z_.WaterShader,p=e.encoding!==void 0?e.encoding:3e3,m=e.flowMap||void 0,g=e.normalMap0,A=e.normalMap1,v=.15,C=v*.5,x=new tt,E=new Sm;if(W1===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(J1===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const _=new W1(n,{textureWidth:i,textureHeight:s,clipBias:o,encoding:p}),I=new J1(n,{textureWidth:i,textureHeight:s,clipBias:o,encoding:p});_.matrixAutoUpdate=!1,I.matrixAutoUpdate=!1,this.material=new Ot({uniforms:An.merge([Ge.fog,d.uniforms]),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,transparent:!0,fog:!0}),m!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:m}):this.material.uniforms.flowDirection={type:"v2",value:a},g.wrapS=g.wrapT=wi,A.wrapS=A.wrapT=wi,this.material.uniforms.tReflectionMap.value=_.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=I.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=g,this.material.uniforms.tNormalMap1.value=A,this.material.uniforms.color.value=r,this.material.uniforms.reflectivity.value=c,this.material.uniforms.textureMatrix.value=x,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=C,this.material.uniforms.config.value.z=C,this.material.uniforms.config.value.w=u;function M(w){x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(w.projectionMatrix),x.multiply(w.matrixWorldInverse),x.multiply(t.matrixWorld)}function T(){const w=E.getDelta(),R=t.material.uniforms.config;R.value.x+=l*w,R.value.y=R.value.x+C,R.value.x>=v?(R.value.x=0,R.value.y=C):R.value.y>=v&&(R.value.y=R.value.y-v)}this.onBeforeRender=function(w,R,D){M(D),T(),t.visible=!1,_.matrixWorld.copy(t.matrixWorld),I.matrixWorld.copy(t.matrixWorld),_.onBeforeRender(w,R,D),I.onBeforeRender(w,R,D),t.visible=!0}}};let gj=Z_;Ie(gj,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new Nt}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(lo.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const l2={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)},h9=(n,e)=>(n%e+e)%e;let Aj=class extends co{constructor(e,t){super(),Ie(this,"object"),Ie(this,"domElement"),Ie(this,"enabled",!0),Ie(this,"target",new L),Ie(this,"minDistance",0),Ie(this,"maxDistance",1/0),Ie(this,"minZoom",0),Ie(this,"maxZoom",1/0),Ie(this,"minPolarAngle",0),Ie(this,"maxPolarAngle",Math.PI),Ie(this,"minAzimuthAngle",-1/0),Ie(this,"maxAzimuthAngle",1/0),Ie(this,"enableDamping",!1),Ie(this,"dampingFactor",.05),Ie(this,"enableZoom",!0),Ie(this,"zoomSpeed",1),Ie(this,"enableRotate",!0),Ie(this,"rotateSpeed",1),Ie(this,"enablePan",!0),Ie(this,"panSpeed",1),Ie(this,"screenSpacePanning",!0),Ie(this,"keyPanSpeed",7),Ie(this,"autoRotate",!1),Ie(this,"autoRotateSpeed",2),Ie(this,"reverseOrbit",!1),Ie(this,"reverseHorizontalOrbit",!1),Ie(this,"reverseVerticalOrbit",!1),Ie(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ie(this,"mouseButtons",{LEFT:Ka.ROTATE,MIDDLE:Ka.DOLLY,RIGHT:Ka.PAN}),Ie(this,"touches",{ONE:qa.ROTATE,TWO:qa.DOLLY_PAN}),Ie(this,"target0"),Ie(this,"position0"),Ie(this,"zoom0"),Ie(this,"_domElementKeyEvents",null),Ie(this,"getPolarAngle"),Ie(this,"getAzimuthalAngle"),Ie(this,"setPolarAngle"),Ie(this,"setAzimuthalAngle"),Ie(this,"getDistance"),Ie(this,"listenToKeyEvents"),Ie(this,"stopListenToKeyEvents"),Ie(this,"saveState"),Ie(this,"reset"),Ie(this,"update"),Ie(this,"connect"),Ie(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=U=>{let O=h9(U,2*Math.PI),fe=u.phi;fe<0&&(fe+=2*Math.PI),O<0&&(O+=2*Math.PI);let Se=Math.abs(O-fe);2*Math.PI-Se<Se&&(O<fe?O+=2*Math.PI:fe+=2*Math.PI),d.phi=O-fe,r.update()},this.setAzimuthalAngle=U=>{let O=h9(U,2*Math.PI),fe=u.theta;fe<0&&(fe+=2*Math.PI),O<0&&(O+=2*Math.PI);let Se=Math.abs(O-fe);2*Math.PI-Se<Se&&(O<fe?O+=2*Math.PI:fe+=2*Math.PI),d.theta=O-fe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=U=>{U.addEventListener("keydown",se),this._domElementKeyEvents=U},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",se),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const U=new L,O=new L(0,1,0),fe=new Jn().setFromUnitVectors(e.up,O),Se=fe.clone().invert(),Ke=new L,He=new Jn,et=2*Math.PI;return function(){const ot=r.object.position;fe.setFromUnitVectors(e.up,O),Se.copy(fe).invert(),U.copy(ot).sub(r.target),U.applyQuaternion(fe),u.setFromVector3(U),r.autoRotate&&l===a.NONE&&z(D()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let ht=r.minAzimuthAngle,dt=r.maxAzimuthAngle;return isFinite(ht)&&isFinite(dt)&&(ht<-Math.PI?ht+=et:ht>Math.PI&&(ht-=et),dt<-Math.PI?dt+=et:dt>Math.PI&&(dt-=et),ht<=dt?u.theta=Math.max(ht,Math.min(dt,u.theta)):u.theta=u.theta>(ht+dt)/2?Math.max(ht,u.theta):Math.min(dt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),U.setFromSpherical(u),U.applyQuaternion(Se),ot.copy(r.target).add(U),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),p=1,g||Ke.distanceToSquared(r.object.position)>c||8*(1-He.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ke.copy(r.object.position),He.copy(r.object.quaternion),g=!1,!0):!1}})(),this.connect=U=>{U===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=U,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Be),r.domElement.addEventListener("pointerdown",qe),r.domElement.addEventListener("pointercancel",ct),r.domElement.addEventListener("wheel",N)},this.dispose=()=>{var U,O,fe,Se,Ke,He;(U=r.domElement)==null||U.removeEventListener("contextmenu",Be),(O=r.domElement)==null||O.removeEventListener("pointerdown",qe),(fe=r.domElement)==null||fe.removeEventListener("pointercancel",ct),(Se=r.domElement)==null||Se.removeEventListener("wheel",N),(Ke=r.domElement)==null||Ke.ownerDocument.removeEventListener("pointermove",je),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointerup",ze),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",se)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new F1,d=new F1;let p=1;const m=new L;let g=!1;const A=new he,v=new he,C=new he,x=new he,E=new he,_=new he,I=new he,M=new he,T=new he,w=[],R={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function P(){return Math.pow(.95,r.zoomSpeed)}function z(U){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=U:d.theta-=U}function q(U){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=U:d.phi-=U}const k=(()=>{const U=new L;return function(fe,Se){U.setFromMatrixColumn(Se,0),U.multiplyScalar(-fe),m.add(U)}})(),Q=(()=>{const U=new L;return function(fe,Se){r.screenSpacePanning===!0?U.setFromMatrixColumn(Se,1):(U.setFromMatrixColumn(Se,0),U.crossVectors(r.object.up,U)),U.multiplyScalar(fe),m.add(U)}})(),V=(()=>{const U=new L;return function(fe,Se){const Ke=r.domElement;if(Ke&&r.object instanceof $t&&r.object.isPerspectiveCamera){const He=r.object.position;U.copy(He).sub(r.target);let et=U.length();et*=Math.tan(r.object.fov/2*Math.PI/180),k(2*fe*et/Ke.clientHeight,r.object.matrix),Q(2*Se*et/Ke.clientHeight,r.object.matrix)}else Ke&&r.object instanceof _i&&r.object.isOrthographicCamera?(k(fe*(r.object.right-r.object.left)/r.object.zoom/Ke.clientWidth,r.object.matrix),Q(Se*(r.object.top-r.object.bottom)/r.object.zoom/Ke.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Y(U){r.object instanceof $t&&r.object.isPerspectiveCamera?p/=U:r.object instanceof _i&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*U)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(U){r.object instanceof $t&&r.object.isPerspectiveCamera?p*=U:r.object instanceof _i&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/U)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function j(U){A.set(U.clientX,U.clientY)}function K(U){I.set(U.clientX,U.clientY)}function ee(U){x.set(U.clientX,U.clientY)}function X(U){v.set(U.clientX,U.clientY),C.subVectors(v,A).multiplyScalar(r.rotateSpeed);const O=r.domElement;O&&(z(2*Math.PI*C.x/O.clientHeight),q(2*Math.PI*C.y/O.clientHeight)),A.copy(v),r.update()}function ae(U){M.set(U.clientX,U.clientY),T.subVectors(M,I),T.y>0?Y(P()):T.y<0&&G(P()),I.copy(M),r.update()}function Ae(U){E.set(U.clientX,U.clientY),_.subVectors(E,x).multiplyScalar(r.panSpeed),V(_.x,_.y),x.copy(E),r.update()}function _e(U){U.deltaY<0?G(P()):U.deltaY>0&&Y(P()),r.update()}function re(U){let O=!1;switch(U.code){case r.keys.UP:V(0,r.keyPanSpeed),O=!0;break;case r.keys.BOTTOM:V(0,-r.keyPanSpeed),O=!0;break;case r.keys.LEFT:V(r.keyPanSpeed,0),O=!0;break;case r.keys.RIGHT:V(-r.keyPanSpeed,0),O=!0;break}O&&(U.preventDefault(),r.update())}function Ne(){if(w.length==1)A.set(w[0].pageX,w[0].pageY);else{const U=.5*(w[0].pageX+w[1].pageX),O=.5*(w[0].pageY+w[1].pageY);A.set(U,O)}}function Pe(){if(w.length==1)x.set(w[0].pageX,w[0].pageY);else{const U=.5*(w[0].pageX+w[1].pageX),O=.5*(w[0].pageY+w[1].pageY);x.set(U,O)}}function Le(){const U=w[0].pageX-w[1].pageX,O=w[0].pageY-w[1].pageY,fe=Math.sqrt(U*U+O*O);I.set(0,fe)}function ve(){r.enableZoom&&Le(),r.enablePan&&Pe()}function xe(){r.enableZoom&&Le(),r.enableRotate&&Ne()}function oe(U){if(w.length==1)v.set(U.pageX,U.pageY);else{const fe=Oe(U),Se=.5*(U.pageX+fe.x),Ke=.5*(U.pageY+fe.y);v.set(Se,Ke)}C.subVectors(v,A).multiplyScalar(r.rotateSpeed);const O=r.domElement;O&&(z(2*Math.PI*C.x/O.clientHeight),q(2*Math.PI*C.y/O.clientHeight)),A.copy(v)}function ne(U){if(w.length==1)E.set(U.pageX,U.pageY);else{const O=Oe(U),fe=.5*(U.pageX+O.x),Se=.5*(U.pageY+O.y);E.set(fe,Se)}_.subVectors(E,x).multiplyScalar(r.panSpeed),V(_.x,_.y),x.copy(E)}function Ce(U){const O=Oe(U),fe=U.pageX-O.x,Se=U.pageY-O.y,Ke=Math.sqrt(fe*fe+Se*Se);M.set(0,Ke),T.set(0,Math.pow(M.y/I.y,r.zoomSpeed)),Y(T.y),I.copy(M)}function Me(U){r.enableZoom&&Ce(U),r.enablePan&&ne(U)}function Fe(U){r.enableZoom&&Ce(U),r.enableRotate&&oe(U)}function qe(U){var O,fe;r.enabled!==!1&&(w.length===0&&((O=r.domElement)==null||O.ownerDocument.addEventListener("pointermove",je),(fe=r.domElement)==null||fe.ownerDocument.addEventListener("pointerup",ze)),Ue(U),U.pointerType==="touch"?we(U):rt(U))}function je(U){r.enabled!==!1&&(U.pointerType==="touch"?Te(U):W(U))}function ze(U){var O,fe,Se;ue(U),w.length===0&&((O=r.domElement)==null||O.releasePointerCapture(U.pointerId),(fe=r.domElement)==null||fe.ownerDocument.removeEventListener("pointermove",je),(Se=r.domElement)==null||Se.ownerDocument.removeEventListener("pointerup",ze)),r.dispatchEvent(o),l=a.NONE}function ct(U){ue(U)}function rt(U){let O;switch(U.button){case 0:O=r.mouseButtons.LEFT;break;case 1:O=r.mouseButtons.MIDDLE;break;case 2:O=r.mouseButtons.RIGHT;break;default:O=-1}switch(O){case Ka.DOLLY:if(r.enableZoom===!1)return;K(U),l=a.DOLLY;break;case Ka.ROTATE:if(U.ctrlKey||U.metaKey||U.shiftKey){if(r.enablePan===!1)return;ee(U),l=a.PAN}else{if(r.enableRotate===!1)return;j(U),l=a.ROTATE}break;case Ka.PAN:if(U.ctrlKey||U.metaKey||U.shiftKey){if(r.enableRotate===!1)return;j(U),l=a.ROTATE}else{if(r.enablePan===!1)return;ee(U),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function W(U){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;X(U);break;case a.DOLLY:if(r.enableZoom===!1)return;ae(U);break;case a.PAN:if(r.enablePan===!1)return;Ae(U);break}}function N(U){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(U.preventDefault(),r.dispatchEvent(s),_e(U),r.dispatchEvent(o))}function se(U){r.enabled===!1||r.enablePan===!1||re(U)}function we(U){switch(We(U),w.length){case 1:switch(r.touches.ONE){case qa.ROTATE:if(r.enableRotate===!1)return;Ne(),l=a.TOUCH_ROTATE;break;case qa.PAN:if(r.enablePan===!1)return;Pe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case qa.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ve(),l=a.TOUCH_DOLLY_PAN;break;case qa.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;xe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Te(U){switch(We(U),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;oe(U),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ne(U),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Me(U),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Fe(U),r.update();break;default:l=a.NONE}}function Be(U){r.enabled!==!1&&U.preventDefault()}function Ue(U){w.push(U)}function ue(U){delete R[U.pointerId];for(let O=0;O<w.length;O++)if(w[O].pointerId==U.pointerId){w.splice(O,1);return}}function We(U){let O=R[U.pointerId];O===void 0&&(O=new he,R[U.pointerId]=O),O.set(U.pageX,U.pageY)}function Oe(U){const O=U.pointerId===w[0].pointerId?w[1]:w[0];return R[O.pointerId]}t!==void 0&&this.connect(t),this.update()}};class Im{constructor(){Ie(this,"enabled",!0),Ie(this,"needsSwap",!0),Ie(this,"clear",!1),Ie(this,"renderToScreen",!1)}setSize(e,t){}render(e,t,r,i,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class wm{constructor(e){Ie(this,"camera",new _i(-1,1,1,-1,0,1)),Ie(this,"geometry",new ia(2,2)),Ie(this,"mesh"),this.mesh=new Kt(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const Is={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},mf={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new he},cameraProjectionMatrix:{value:new tt},cameraInverseProjectionMatrix:{value:new tt},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},r0={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},i0={uniforms:{tDiffuse:{value:null},resolution:{value:new he}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},$a=class extends Im{constructor(n,e,t,r){super(),this.width=t!==void 0?t:512,this.height=r!==void 0?r:512,this.clear=!0,this.camera=e,this.scene=n,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const i=new bu;i.format=na,i.type=jo,this.beautyRenderTarget=new Yt(this.width,this.height),this.normalRenderTarget=new Yt(this.width,this.height,{minFilter:At,magFilter:At,depthTexture:i}),this.ssaoRenderTarget=new Yt(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),mf===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new Ot({defines:Object.assign({},mf.defines),uniforms:An.clone(mf.uniforms),vertexShader:mf.vertexShader,fragmentShader:mf.fragmentShader,blending:Bt}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Wh,this.normalMaterial.blending=Bt,this.blurMaterial=new Ot({defines:Object.assign({},i0.defines),uniforms:An.clone(i0.uniforms),vertexShader:i0.vertexShader,fragmentShader:i0.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Ot({defines:Object.assign({},r0.defines),uniforms:An.clone(r0.uniforms),vertexShader:r0.vertexShader,fragmentShader:r0.fragmentShader,blending:Bt}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Ot({uniforms:An.clone(Is.uniforms),vertexShader:Is.vertexShader,fragmentShader:Is.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:nm,blendDst:Wc,blendEquation:Yr,blendSrcAlpha:tm,blendDstAlpha:Wc,blendEquationAlpha:Yr}),this.fsQuad=new wm(null),this.originalClearColor=new Re}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(n,e){switch(n.capabilities.isWebGL2===!1&&(this.noiseTexture.format=K5),n.setRenderTarget(this.beautyRenderTarget),n.clear(),n.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(n,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(n,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(n,this.blurMaterial,this.blurRenderTarget),this.output){case $a.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case $a.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case $a.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case $a.OUTPUT.Depth:this.renderPass(n,this.depthRenderMaterial,this.renderToScreen?null:e);break;case $a.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case $a.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=th,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(n,e,t,r,i){n.getClearColor(this.originalClearColor);const s=n.getClearAlpha(),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,r!=null&&(n.setClearColor(r),n.setClearAlpha(i||0),n.clear()),this.fsQuad.material=e,this.fsQuad.render(n),n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}renderOverride(n,e,t,r,i){n.getClearColor(this.originalClearColor);const s=n.getClearAlpha(),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(n.setClearColor(r),n.setClearAlpha(i||0),n.clear()),this.scene.overrideMaterial=e,n.render(this.scene,this.camera),this.scene.overrideMaterial=null,n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}setSize(n,e){this.width=n,this.height=e,this.beautyRenderTarget.setSize(n,e),this.ssaoRenderTarget.setSize(n,e),this.normalRenderTarget.setSize(n,e),this.blurRenderTarget.setSize(n,e),this.ssaoMaterial.uniforms.resolution.value.set(n,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(n,e)}generateSampleKernel(){const n=this.kernelSize,e=this.kernel;for(let t=0;t<n;t++){const r=new L;r.x=Math.random()*2-1,r.y=Math.random()*2-1,r.z=Math.random(),r.normalize();let i=t/n;i=Oc.lerp(.1,1,i*i),r.multiplyScalar(i),e.push(r)}}generateRandomKernelRotations(){Wf===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const t=new Wf,r=4*4,i=new Float32Array(r);for(let s=0;s<r;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;i[s]=t.noise3d(o,a,l)}this.noiseTexture=new Es(i,4,4,al,Fr),this.noiseTexture.wrapS=wi,this.noiseTexture.wrapT=wi,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const n=this.scene,e=this._visibilityCache;n.traverse(function(t){e.set(t,t.visible),(t.isPoints||t.isLine)&&(t.visible=!1)})}restoreVisibility(){const n=this.scene,e=this._visibilityCache;n.traverse(function(t){const r=e.get(t);t.visible=r}),e.clear()}};let vj=$a;Ie(vj,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const yj={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Re(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},K1=class extends Im{constructor(n,e,t,r){super(),this.strength=e!==void 0?e:1,this.radius=t,this.threshold=r,this.resolution=n!==void 0?new he(n.x,n.y):new he(256,256),this.clearColor=new Re(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new Yt(i,s,{type:kn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const d=new Yt(i,s,{type:kn});d.texture.name="UnrealBloomPass.h"+u,d.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(d);const p=new Yt(i,s,{type:kn});p.texture.name="UnrealBloomPass.v"+u,p.texture.generateMipmaps=!1,this.renderTargetsVertical.push(p),i=Math.round(i/2),s=Math.round(s/2)}const o=yj;this.highPassUniforms=An.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Ot({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new he(i,s),i=Math.round(i/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new L(1,1,1),new L(1,1,1),new L(1,1,1),new L(1,1,1),new L(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const c=Is;this.copyUniforms=An.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Ot({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:eh,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Re,this.oldClearAlpha=1,this.basic=new cr,this.fsQuad=new wm(null)}dispose(){for(let n=0;n<this.renderTargetsHorizontal.length;n++)this.renderTargetsHorizontal[n].dispose();for(let n=0;n<this.renderTargetsVertical.length;n++)this.renderTargetsVertical[n].dispose();this.renderTargetBright.dispose();for(let n=0;n<this.separableBlurMaterials.length;n++)this.separableBlurMaterials[n].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(n,e){let t=Math.round(n/2),r=Math.round(e/2);this.renderTargetBright.setSize(t,r);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(t,r),this.renderTargetsVertical[i].setSize(t,r),this.separableBlurMaterials[i].uniforms.texSize.value=new he(t,r),t=Math.round(t/2),r=Math.round(r/2)}render(n,e,t,r,i){n.getClearColor(this._oldClearColor),this.oldClearAlpha=n.getClearAlpha();const s=n.autoClear;n.autoClear=!1,n.setClearColor(this.clearColor,0),i&&n.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,n.setRenderTarget(null),n.clear(),this.fsQuad.render(n)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,n.setRenderTarget(this.renderTargetBright),n.clear(),this.fsQuad.render(n);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=K1.BlurDirectionX,n.setRenderTarget(this.renderTargetsHorizontal[a]),n.clear(),this.fsQuad.render(n),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=K1.BlurDirectionY,n.setRenderTarget(this.renderTargetsVertical[a]),n.clear(),this.fsQuad.render(n),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,n.setRenderTarget(this.renderTargetsHorizontal[0]),n.clear(),this.fsQuad.render(n),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&n.state.buffers.stencil.setTest(!0),this.renderToScreen?(n.setRenderTarget(null),this.fsQuad.render(n)):(n.setRenderTarget(t),this.fsQuad.render(n)),n.setClearColor(this._oldClearColor,this.oldClearAlpha),n.autoClear=s}getSeperableBlurMaterial(n){return new Ot({defines:{KERNEL_RADIUS:n,SIGMA:n},uniforms:{colorTexture:{value:null},texSize:{value:new he(.5,.5)},direction:{value:new he(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(n){return new Ot({defines:{NUM_MIPS:n},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let eb=K1;Ie(eb,"BlurDirectionX",new he(1,0));Ie(eb,"BlurDirectionY",new he(0,1));const s0={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new he(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new tt},cameraInverseProjectionMatrix:{value:new tt},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},ko={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new he(512,512)},sampleUvOffsets:{value:[new he(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},e3={createSampleWeights:(n,e)=>{const t=(i,s)=>Math.exp(-(i*i)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),r=[];for(let i=0;i<=n;i++)r.push(t(i,e));return r},createSampleOffsets:(n,e)=>{const t=[];for(let r=0;r<=n;r++)t.push(e.clone().multiplyScalar(r));return t},configure:(n,e,t,r)=>{n.defines.KERNEL_RADIUS=e,n.uniforms.sampleUvOffsets.value=e3.createSampleOffsets(e,r),n.uniforms.sampleWeights.value=e3.createSampleWeights(e,t),n.needsUpdate=!0}};class xj extends Im{constructor(e,t,r=!1,i=!1,s=new he(256,256)){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=r,this.supportsNormalTexture=i,this.originalClearColor=new Re,this._oldClearColor=new Re,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new he(s.x,s.y),this.saoRenderTarget=new Yt(this.resolution.x,this.resolution.y,{type:kn}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new Yt(this.resolution.x,this.resolution.y,{minFilter:At,magFilter:At,type:kn}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new bu,o.type=Eu,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new fm,this.depthMaterial.depthPacking=X5,this.depthMaterial.blending=Bt,this.normalMaterial=new Wh,this.normalMaterial.blending=Bt,this.saoMaterial=new Ot({defines:Object.assign({},s0.defines),fragmentShader:s0.fragmentShader,vertexShader:s0.vertexShader,uniforms:An.clone(s0.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Bt,this.vBlurMaterial=new Ot({uniforms:An.clone(ko.uniforms),defines:Object.assign({},ko.defines),vertexShader:ko.vertexShader,fragmentShader:ko.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Bt,this.hBlurMaterial=new Ot({uniforms:An.clone(ko.uniforms),defines:Object.assign({},ko.defines),vertexShader:ko.vertexShader,fragmentShader:ko.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Bt,this.materialCopy=new Ot({uniforms:An.clone(Is.uniforms),vertexShader:Is.vertexShader,fragmentShader:Is.fragmentShader,blending:Bt}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=th,this.materialCopy.blendSrc=nm,this.materialCopy.blendDst=Wc,this.materialCopy.blendEquation=Yr,this.materialCopy.blendSrcAlpha=tm,this.materialCopy.blendDstAlpha=Wc,this.materialCopy.blendEquationAlpha=Yr,this.depthCopy=new Ot({uniforms:An.clone(l2.uniforms),vertexShader:l2.vertexShader,fragmentShader:l2.fragmentShader,blending:Bt}),this.fsQuad=new wm(null)}render(e,t,r){if(this.renderToScreen&&(this.materialCopy.blending=Bt,this.materialCopy.uniforms.tDiffuse.value=r.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(e3.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new he(0,1)),e3.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new he(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=th:o.blending=Bt,this.renderPass(e,o,this.renderToScreen?null:r),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}renderPass(e,t,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,t,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=t.clearColor||i,s=t.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,t){this.beautyRenderTarget.setSize(e,t),this.saoRenderTarget.setSize(e,t),this.blurIntermediateRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.depthRenderTarget.setSize(e,t),this.saoMaterial.uniforms.size.value.set(e,t),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,t),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,t),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}Ie(xj,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const ps={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new he},cameraProjectionMatrix:{value:new tt},cameraInverseProjectionMatrix:{value:new tt},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},o0={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},No={uniforms:{tDiffuse:{value:null},resolution:{value:new he},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},Za=class extends Im{constructor({renderer:n,scene:e,camera:t,width:r,height:i,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=r!==void 0?r:512,this.height=i!==void 0?i:512,this.clear=!0,this.renderer=n,this.scene=e,this.camera=t,this.groundReflector=a,this.opacity=ps.uniforms.opacity.value,this.output=0,this.maxDistance=ps.uniforms.maxDistance.value,this.thickness=ps.uniforms.thickness.value,this.tempColor=new Re,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=ps.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=ps.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=ps.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const l=new bu;l.type=Eu,l.minFilter=At,l.magFilter=At,this.beautyRenderTarget=new Yt(this.width,this.height,{minFilter:At,magFilter:At,type:kn,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new Yt(this.width,this.height,{minFilter:At,magFilter:At}),this.normalRenderTarget=new Yt(this.width,this.height,{minFilter:At,magFilter:At,type:kn}),this.metalnessRenderTarget=new Yt(this.width,this.height,{minFilter:At,magFilter:At,type:kn}),this.ssrRenderTarget=new Yt(this.width,this.height,{minFilter:At,magFilter:At}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new Ot({defines:Object.assign({},ps.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:An.clone(ps.uniforms),vertexShader:ps.vertexShader,fragmentShader:ps.fragmentShader,blending:Bt}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Wh,this.normalMaterial.blending=Bt,this.metalnessOnMaterial=new cr({color:"white"}),this.metalnessOffMaterial=new cr({color:"black"}),this.blurMaterial=new Ot({defines:Object.assign({},No.defines),uniforms:An.clone(No.uniforms),vertexShader:No.vertexShader,fragmentShader:No.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new Ot({defines:Object.assign({},No.defines),uniforms:An.clone(No.uniforms),vertexShader:No.vertexShader,fragmentShader:No.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Ot({defines:Object.assign({},o0.defines),uniforms:An.clone(o0.uniforms),vertexShader:o0.vertexShader,fragmentShader:o0.fragmentShader,blending:Bt}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Ot({uniforms:An.clone(Is.uniforms),vertexShader:Is.vertexShader,fragmentShader:Is.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:nh,blendDst:rh,blendEquation:Yr,blendSrcAlpha:nh,blendDstAlpha:rh,blendEquationAlpha:Yr}),this.fsQuad=new wm(null),this.originalClearColor=new Re}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(n,e){switch(n.setRenderTarget(this.beautyRenderTarget),n.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),n.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(n,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(n,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(n,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(n,this.blurMaterial,this.blurRenderTarget),this.renderPass(n,this.blurMaterial2,this.blurRenderTarget2)),this.output){case Za.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Cs,this.renderPass(n,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Cs,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e));break;case Za.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Cs,this.renderPass(n,this.copyMaterial,this.prevRenderTarget));break;case Za.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case Za.OUTPUT.Depth:this.renderPass(n,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Za.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case Za.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Bt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(n,e,t,r,i){this.originalClearColor.copy(n.getClearColor(this.tempColor));const s=n.getClearAlpha(this.tempColor),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,r!=null&&(n.setClearColor(r),n.setClearAlpha(i||0),n.clear()),this.fsQuad.material=e,this.fsQuad.render(n),n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}renderOverride(n,e,t,r,i){this.originalClearColor.copy(n.getClearColor(this.tempColor));const s=n.getClearAlpha(this.tempColor),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(n.setClearColor(r),n.setClearAlpha(i||0),n.clear()),this.scene.overrideMaterial=e,n.render(this.scene,this.camera),this.scene.overrideMaterial=null,n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}renderMetalness(n,e,t,r,i){this.originalClearColor.copy(n.getClearColor(this.tempColor));const s=n.getClearAlpha(this.tempColor),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(n.setClearColor(r),n.setClearAlpha(i||0),n.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),n.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}setSize(n,e){this.width=n,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(n*n+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(n,e),this.prevRenderTarget.setSize(n,e),this.ssrRenderTarget.setSize(n,e),this.normalRenderTarget.setSize(n,e),this.metalnessRenderTarget.setSize(n,e),this.blurRenderTarget.setSize(n,e),this.blurRenderTarget2.setSize(n,e),this.ssrMaterial.uniforms.resolution.value.set(n,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(n,e),this.blurMaterial2.uniforms.resolution.value.set(n,e)}};let Cj=Za;Ie(Cj,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class Mm extends fr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Ij(t)}),this.register(function(t){return new Lj(t)}),this.register(function(t){return new Fj(t)}),this.register(function(t){return new kj(t)}),this.register(function(t){return new Mj(t)}),this.register(function(t){return new Tj(t)}),this.register(function(t){return new Bj(t)}),this.register(function(t){return new Rj(t)}),this.register(function(t){return new bj(t)}),this.register(function(t){return new Pj(t)}),this.register(function(t){return new wj(t)}),this.register(function(t){return new Dj(t)}),this.register(function(t){return new Sj(t)}),this.register(function(t){return new Nj(t)}),this.register(function(t){return new Oj(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=_s.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new jn(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(_s.decodeText(new Uint8Array(e.slice(0,4)))===tb){try{o[Dt.KHR_BINARY_GLTF]=new Uj(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Dt.KHR_BINARY_GLTF].content)}else s=JSON.parse(_s.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new $j(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Dt.KHR_MATERIALS_UNLIT:o[u]=new _j;break;case Dt.KHR_DRACO_MESH_COMPRESSION:o[u]=new Gj(s,this.dracoLoader);break;case Dt.KHR_TEXTURE_TRANSFORM:o[u]=new Qj;break;case Dt.KHR_MESH_QUANTIZATION:o[u]=new Hj;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Ej(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Dt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Sj{constructor(e){this.parser=e,this.name=Dt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Re(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Cm(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Ev(u),c.distance=d;break;case"spot":c=new Cv(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Ho(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class _j{constructor(){this.name=Dt.KHR_MATERIALS_UNLIT}getMaterialType(){return cr}extendParams(e,t,r){const i=[];e.color=new Re(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class bj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Ij{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new he(a,a)}return Promise.all(s)}}class wj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Mj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Re(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Tj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Bj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Re(a[0],a[1],a[2]),Promise.all(s)}}class Rj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Pj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Re(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Dj{constructor(e){this.parser=e,this.name=Dt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Bs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Lj{constructor(e){this.parser=e,this.name=Dt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Fj{constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class kj{constructor(e){this.parser=e,this.name=Dt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Nj{constructor(e){this.name=Dt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,p,i.mode,i.filter),m})})}else return null}}class Oj{constructor(e){this.name=Dt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==yi.TRIANGLES&&c.mode!==yi.TRIANGLE_STRIP&&c.mode!==yi.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const g of d){const A=new tt,v=new L,C=new Jn,x=new L(1,1,1),E=new av(g.geometry,g.material,p);for(let _=0;_<p;_++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,_),l.ROTATION&&C.fromBufferAttribute(l.ROTATION,_),l.SCALE&&x.fromBufferAttribute(l.SCALE,_),E.setMatrixAt(_,A.compose(v,C,x));for(const _ in l)_!=="TRANSLATION"&&_!=="ROTATION"&&_!=="SCALE"&&g.geometry.setAttribute(_,l[_]);Vt.prototype.copy.call(E,g),this.parser.assignFinalMaterial(E),m.push(E)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const tb="glTF",gf=12,d9={JSON:1313821514,BIN:5130562};class Uj{constructor(e){this.name=Dt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,gf);if(this.header={magic:_s.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==tb)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-gf,i=new DataView(e,gf);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===d9.JSON){const l=new Uint8Array(e,gf+s,o);this.content=_s.decodeText(l)}else if(a===d9.BIN){const l=gf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Gj{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Dt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=q1[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=q1[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=Gc[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const g=p.attributes[m],A=l[m];A!==void 0&&(g.normalized=A)}d(p)},a,c)})})}}class Qj{constructor(){this.name=Dt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Hj{constructor(){this.name=Dt.KHR_MESH_QUANTIZATION}}class nb extends Iu{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,d=(r-t)/u,p=d*d,m=p*d,g=e*c,A=g-c,v=-2*m+3*p,C=m-p,x=1-v,E=C-p+d;for(let _=0;_!==a;_++){const I=o[A+_+a],M=o[A+_+l]*u,T=o[g+_+a],w=o[g+_]*u;s[_]=x*I+E*M+v*T+C*w}return s}}const zj=new Jn;class Vj extends nb{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return zj.fromArray(s).normalize().toArray(s),s}}const yi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Gc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},p9={9728:At,9729:tn,9984:oh,9985:im,9986:ah,9987:Yi},m9={33071:Mn,33648:Jc,10497:wi},c2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},q1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...lo.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Oo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Wj={CUBICSPLINE:void 0,LINEAR:Cl,STEP:jc},u2={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Jj(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Vh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zo})),n.DefaultMaterial}function Wa(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ho(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function jj(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(i){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Kj(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function qj(n){let e;const t=n.extensions&&n.extensions[Dt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+f2(t.attributes):e=n.indices+":"+f2(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+f2(n.targets[r]);return e}function f2(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function Y1(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Yj(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Xj=new tt;class $j{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ej,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new yv(this.options.manager):this.textureLoader=new XS(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new jn(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Wa(s,a,i),Ho(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Dt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(_s.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=c2[i.type],a=Gc[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new zt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=c2[i.type],c=Gc[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let A,v;if(m&&m!==d){const C=Math.floor(p/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+C+":"+i.count;let E=t.cache.get(x);E||(A=new c(a,C*m,i.count*m/u),E=new Hh(A,m/u),t.cache.add(x,E)),v=new sa(E,l,p%m/u,g)}else a===null?A=new c(i.count*l):A=new c(a,p,i.count*l),v=new zt(A,l,g);if(i.sparse!==void 0){const C=c2.SCALAR,x=Gc[i.sparse.indices.componentType],E=i.sparse.indices.byteOffset||0,_=i.sparse.values.byteOffset||0,I=new x(o[1],E,i.sparse.count*C),M=new c(o[2],_,i.sparse.count*l);a!==null&&(v=new zt(v.array.slice(),v.itemSize,v.normalized));for(let T=0,w=I.length;T<w;T++){const R=I[T];if(v.setX(R,M[T*l]),l>=2&&v.setY(R,M[T*l+1]),l>=3&&v.setZ(R,M[T*l+2]),l>=4&&v.setW(R,M[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=p9[p.magFilter]||tn,u.minFilter=p9[p.minFilter]||Yi,u.wrapS=m9[p.wrapS]||wi,u.wrapT=m9[p.wrapT]||wi,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let g=p;t.isImageBitmapLoader===!0&&(g=function(A){const v=new En(A);v.needsUpdate=!0,p(v)}),t.load(_s.resolveURL(d,s.path),g,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||Yj(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Dt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Dt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Dt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new gm,xn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new yr,xn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Vh}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Dt.KHR_MATERIALS_UNLIT]){const d=i[Dt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Re(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ro);const u=s.alphaMode||u2.OPAQUE;if(u===u2.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===u2.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==cr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new he(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==cr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==cr&&(a.emissive=new Re().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==cr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),Ho(d,s),t.associations.set(d,{materials:e}),s.extensions&&Wa(i,d,s),d})}createUniqueName(e){const t=kt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Dt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return g9(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=qj(c),d=i[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Dt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=g9(new mt,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Jj(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,g=u.length;m<g;m++){const A=u[m],v=o[m];let C;const x=c[m];if(v.mode===yi.TRIANGLES||v.mode===yi.TRIANGLE_STRIP||v.mode===yi.TRIANGLE_FAN||v.mode===void 0)C=s.isSkinnedMesh===!0?new ov(A,x):new Kt(A,x),C.isSkinnedMesh===!0&&C.normalizeSkinWeights(),v.mode===yi.TRIANGLE_STRIP?C.geometry=f9(C.geometry,Y5):v.mode===yi.TRIANGLE_FAN&&(C.geometry=f9(C.geometry,V0));else if(v.mode===yi.LINES)C=new Xi(A,x);else if(v.mode===yi.LINE_STRIP)C=new io(A,x);else if(v.mode===yi.LINE_LOOP)C=new lv(A,x);else if(v.mode===yi.POINTS)C=new Am(A,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(C.geometry.morphAttributes).length>0&&Kj(C,s),C.name=t.createUniqueName(s.name||"mesh_"+e),Ho(C,s),v.extensions&&Wa(i,C,v),t.assignFinalMaterial(C),d.push(C)}for(let m=0,g=d.length;m<g;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&Wa(i,d[0],s),d[0];const p=new Zs;s.extensions&&Wa(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,g=d.length;m<g;m++)p.add(d[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new $t(Oc.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new _i(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ho(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const p=new tt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new zh(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,d=r.channels.length;u<d;u++){const p=r.channels[u],m=r.samplers[p.sampler],g=p.target,A=g.node,v=r.parameters!==void 0?r.parameters[m.input]:m.input,C=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",A)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",C)),l.push(m),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],p=u[1],m=u[2],g=u[3],A=u[4],v=[];for(let C=0,x=d.length;C<x;C++){const E=d[C],_=p[C],I=m[C],M=g[C],T=A[C];if(E===void 0)continue;E.updateMatrix();let w;switch(Oo[T.path]){case Oo.weights:w=cu;break;case Oo.rotation:w=ca;break;case Oo.position:case Oo.scale:default:w=uu;break}const R=E.name?E.name:E.uuid,D=M.interpolation!==void 0?Wj[M.interpolation]:Cl,P=[];Oo[T.path]===Oo.weights?E.traverse(function(q){q.morphTargetInfluences&&P.push(q.name?q.name:q.uuid)}):P.push(R);let z=I.array;if(I.normalized){const q=Y1(z.constructor),k=new Float32Array(z.length);for(let Q=0,V=z.length;Q<V;Q++)k[Q]=z[Q]*q;z=k}for(let q=0,k=P.length;q<k;q++){const Q=new w(P[q]+"."+Oo[T.path],_.array,z,D);M.interpolation==="CUBICSPLINE"&&(Q.createInterpolant=function(Y){const G=this instanceof ca?Vj:nb;return new G(this.times,this.values,this.getValueSize()/3,Y)},Q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(Q)}}return new fu(i,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,Xj)});for(let m=0,g=d.length;m<g;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new mm:c.length>1?u=new Zs:c.length===1?u=c[0]:u=new Vt,u!==c[0])for(let d=0,p=c.length;d<p;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),Ho(u,s),s.extensions&&Wa(r,u,s),s.matrix!==void 0){const d=new tt;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Zs;r.name&&(s.name=i.createUniqueName(r.name)),Ho(s,r),r.extensions&&Wa(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[p,m]of i.associations)(p instanceof xn||p instanceof En)&&d.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&d.set(p,m)}),d};return i.associations=c(s),s})}}function Zj(n,e,t){const r=e.attributes,i=new Aa;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new L(l[0],l[1],l[2]),new L(c[0],c[1],c[2])),a.normalized){const u=Y1(Gc[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new L,l=new L;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,g=p.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),p.normalized){const A=Y1(Gc[p.componentType]);l.multiplyScalar(A)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new va;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function g9(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=q1[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Ho(n,e),Zj(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?jj(n,e.targets,t):n})}const X1=class{static createButton(n,e={}){const t=document.createElement("button");function r(){let a=null;async function l(u){u.addEventListener("end",c),await n.xr.setSession(u),t.textContent="EXIT VR",a=u}function c(){a.removeEventListener("end",c),t.textContent="ENTER VR",a=null}t.style.display="",t.style.cursor="pointer",t.style.left="calc(50% - 50px)",t.style.width="100px",t.textContent="ENTER VR",t.onmouseenter=()=>{t.style.opacity="1.0"},t.onmouseleave=()=>{t.style.opacity="0.5"},t.onclick=()=>{var u;if(a===null){const d=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(u=navigator.xr)==null||u.requestSession("immersive-vr",{...e,optionalFeatures:d}).then(l)}else a.end()}}function i(){t.style.display="",t.style.cursor="auto",t.style.left="calc(50% - 75px)",t.style.width="150px",t.onmouseenter=null,t.onmouseleave=null,t.onclick=null}function s(){i(),t.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(t),t.id="VRButton",t.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?r():s(),a&&X1.xrSessionIsGranted&&t.click()}),t;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{X1.xrSessionIsGranted=!0})}};let eK=X1;Ie(eK,"xrSessionIsGranted",!1);class rb{constructor(e){Ie(this,"data"),this.data=e}generateShapes(e,t=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=tK(e,t,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}Ie(rb,"isFont");Ie(rb,"type");function tK(n,e,t,r){const i=Array.from(n),s=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<i.length;u++){const d=i[u];if(d===`
`)l=0,c-=o*r.lineHeight;else{const p=nK(d,s,l,c,t);p&&(l+=p.offsetX+r.letterSpacing,a.push(p.path))}}return a}function nK(n,e,t,r,i){const s=i.glyphs[n]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+i.familyName+".");return}const o=new r_;let a,l,c,u,d,p,m,g;if(s.o){const A=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,C=A.length;v<C;)switch(A[v++]){case"m":a=parseInt(A[v++])*e+t,l=parseInt(A[v++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(A[v++])*e+t,l=parseInt(A[v++])*e+r,o.lineTo(a,l);break;case"q":c=parseInt(A[v++])*e+t,u=parseInt(A[v++])*e+r,d=parseInt(A[v++])*e+t,p=parseInt(A[v++])*e+r,o.quadraticCurveTo(d,p,c,u);break;case"b":c=parseInt(A[v++])*e+t,u=parseInt(A[v++])*e+r,d=parseInt(A[v++])*e+t,p=parseInt(A[v++])*e+r,m=parseInt(A[v++])*e+t,g=parseInt(A[v++])*e+r,o.bezierCurveTo(d,p,m,g,c,u);break}}return{offsetX:s.ha*e,path:o}}class rK extends En{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=At,this.minFilter=At,this.wrapR=Mn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var iK=typeof global=="object"&&global&&global.Object===Object&&global;const ib=iK;var sK=typeof self=="object"&&self&&self.Object===Object&&self,oK=ib||sK||Function("return this")();const Ps=oK;var aK=Ps.Symbol;const Mi=aK;var sb=Object.prototype,lK=sb.hasOwnProperty,cK=sb.toString,Af=Mi?Mi.toStringTag:void 0;function uK(n){var e=lK.call(n,Af),t=n[Af];try{n[Af]=void 0;var r=!0}catch{}var i=cK.call(n);return r&&(e?n[Af]=t:delete n[Af]),i}var fK=Object.prototype,hK=fK.toString;function dK(n){return hK.call(n)}var pK="[object Null]",mK="[object Undefined]",A9=Mi?Mi.toStringTag:void 0;function Ea(n){return n==null?n===void 0?mK:pK:A9&&A9 in Object(n)?uK(n):dK(n)}function Ki(n){return n!=null&&typeof n=="object"}var gK="[object Symbol]";function Tm(n){return typeof n=="symbol"||Ki(n)&&Ea(n)==gK}function Xh(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var AK=Array.isArray;const Ut=AK;var vK=1/0,v9=Mi?Mi.prototype:void 0,y9=v9?v9.toString:void 0;function ob(n){if(typeof n=="string")return n;if(Ut(n))return Xh(n,ob)+"";if(Tm(n))return y9?y9.call(n):"";var e=n+"";return e=="0"&&1/n==-vK?"-0":e}var yK=/\s/;function xK(n){for(var e=n.length;e--&&yK.test(n.charAt(e)););return e}var CK=/^\s+/;function EK(n){return n&&n.slice(0,xK(n)+1).replace(CK,"")}function Ti(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var x9=0/0,SK=/^[-+]0x[0-9a-f]+$/i,_K=/^0b[01]+$/i,bK=/^0o[0-7]+$/i,IK=parseInt;function wK(n){if(typeof n=="number")return n;if(Tm(n))return x9;if(Ti(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Ti(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=EK(n);var t=_K.test(n);return t||bK.test(n)?IK(n.slice(2),t?2:8):SK.test(n)?x9:+n}var C9=1/0,MK=17976931348623157e292;function TK(n){if(!n)return n===0?n:0;if(n=wK(n),n===C9||n===-C9){var e=n<0?-1:1;return e*MK}return n===n?n:0}function $h(n){var e=TK(n),t=e%1;return e===e?t?e-t:e:0}function du(n){return n}var BK="[object AsyncFunction]",RK="[object Function]",PK="[object GeneratorFunction]",DK="[object Proxy]";function fo(n){if(!Ti(n))return!1;var e=Ea(n);return e==RK||e==PK||e==BK||e==DK}var LK=Ps["__core-js_shared__"];const h2=LK;var E9=function(){var n=/[^.]+$/.exec(h2&&h2.keys&&h2.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function FK(n){return!!E9&&E9 in n}var kK=Function.prototype,NK=kK.toString;function Rl(n){if(n!=null){try{return NK.call(n)}catch{}try{return n+""}catch{}}return""}var OK=/[\\^$.*+?()[\]{}|]/g,UK=/^\[object .+?Constructor\]$/,GK=Function.prototype,QK=Object.prototype,HK=GK.toString,zK=QK.hasOwnProperty,VK=RegExp("^"+HK.call(zK).replace(OK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WK(n){if(!Ti(n)||FK(n))return!1;var e=fo(n)?VK:UK;return e.test(Rl(n))}function JK(n,e){return n==null?void 0:n[e]}function Pl(n,e){var t=JK(n,e);return WK(t)?t:void 0}var jK=Pl(Ps,"WeakMap");const $1=jK;var S9=Object.create,KK=function(){function n(){}return function(e){if(!Ti(e))return{};if(S9)return S9(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const qK=KK;function YK(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function zn(){}function XK(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var $K=800,ZK=16,eq=Date.now;function tq(n){var e=0,t=0;return function(){var r=eq(),i=ZK-(r-t);if(t=r,i>0){if(++e>=$K)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function nq(n){return function(){return n}}var rq=function(){try{var n=Pl(Object,"defineProperty");return n({},"",{}),n}catch{}}();const t3=rq;var iq=t3?function(n,e){return t3(n,"toString",{configurable:!0,enumerable:!1,value:nq(e),writable:!0})}:du;const sq=iq;var oq=tq(sq);const aq=oq;function ab(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function lb(n,e,t,r){for(var i=n.length,s=t+(r?1:-1);r?s--:++s<i;)if(e(n[s],s,n))return s;return-1}function lq(n){return n!==n}function cq(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}function Gv(n,e,t){return e===e?cq(n,e,t):lb(n,lq,t)}function cb(n,e){var t=n==null?0:n.length;return!!t&&Gv(n,e,0)>-1}var uq=9007199254740991,fq=/^(?:0|[1-9]\d*)$/;function Bm(n,e){var t=typeof n;return e=e??uq,!!e&&(t=="number"||t!="symbol"&&fq.test(n))&&n>-1&&n%1==0&&n<e}function Qv(n,e,t){e=="__proto__"&&t3?t3(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Zh(n,e){return n===e||n!==n&&e!==e}var hq=Object.prototype,dq=hq.hasOwnProperty;function Rm(n,e,t){var r=n[e];(!(dq.call(n,e)&&Zh(r,t))||t===void 0&&!(e in n))&&Qv(n,e,t)}function ed(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?Qv(t,a,l):Rm(t,a,l)}return t}var _9=Math.max;function pq(n,e,t){return e=_9(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=_9(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(o),YK(n,this,a)}}function Hv(n,e){return aq(pq(n,e,du),n+"")}var mq=9007199254740991;function zv(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=mq}function Ds(n){return n!=null&&zv(n.length)&&!fo(n)}function Pm(n,e,t){if(!Ti(t))return!1;var r=typeof e;return(r=="number"?Ds(t)&&Bm(e,t.length):r=="string"&&e in t)?Zh(t[e],n):!1}function gq(n){return Hv(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&Pm(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,s)}return e})}var Aq=Object.prototype;function td(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Aq;return n===t}function vq(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var yq="[object Arguments]";function b9(n){return Ki(n)&&Ea(n)==yq}var ub=Object.prototype,xq=ub.hasOwnProperty,Cq=ub.propertyIsEnumerable,Eq=b9(function(){return arguments}())?b9:function(n){return Ki(n)&&xq.call(n,"callee")&&!Cq.call(n,"callee")};const Dm=Eq;function Sq(){return!1}var fb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,I9=fb&&typeof module=="object"&&module&&!module.nodeType&&module,_q=I9&&I9.exports===fb,w9=_q?Ps.Buffer:void 0,bq=w9?w9.isBuffer:void 0,Iq=bq||Sq;const Ih=Iq;var wq="[object Arguments]",Mq="[object Array]",Tq="[object Boolean]",Bq="[object Date]",Rq="[object Error]",Pq="[object Function]",Dq="[object Map]",Lq="[object Number]",Fq="[object Object]",kq="[object RegExp]",Nq="[object Set]",Oq="[object String]",Uq="[object WeakMap]",Gq="[object ArrayBuffer]",Qq="[object DataView]",Hq="[object Float32Array]",zq="[object Float64Array]",Vq="[object Int8Array]",Wq="[object Int16Array]",Jq="[object Int32Array]",jq="[object Uint8Array]",Kq="[object Uint8ClampedArray]",qq="[object Uint16Array]",Yq="[object Uint32Array]",ln={};ln[Hq]=ln[zq]=ln[Vq]=ln[Wq]=ln[Jq]=ln[jq]=ln[Kq]=ln[qq]=ln[Yq]=!0;ln[wq]=ln[Mq]=ln[Gq]=ln[Tq]=ln[Qq]=ln[Bq]=ln[Rq]=ln[Pq]=ln[Dq]=ln[Lq]=ln[Fq]=ln[kq]=ln[Nq]=ln[Oq]=ln[Uq]=!1;function Xq(n){return Ki(n)&&zv(n.length)&&!!ln[Ea(n)]}function nd(n){return function(e){return n(e)}}var hb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jf=hb&&typeof module=="object"&&module&&!module.nodeType&&module,$q=Jf&&Jf.exports===hb,d2=$q&&ib.process,Zq=function(){try{var n=Jf&&Jf.require&&Jf.require("util").types;return n||d2&&d2.binding&&d2.binding("util")}catch{}}();const ha=Zq;var M9=ha&&ha.isTypedArray,eY=M9?nd(M9):Xq;const Vv=eY;var tY=Object.prototype,nY=tY.hasOwnProperty;function db(n,e){var t=Ut(n),r=!t&&Dm(n),i=!t&&!r&&Ih(n),s=!t&&!r&&!i&&Vv(n),o=t||r||i||s,a=o?vq(n.length,String):[],l=a.length;for(var c in n)(e||nY.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Bm(c,l)))&&a.push(c);return a}function pb(n,e){return function(t){return n(e(t))}}var rY=pb(Object.keys,Object);const iY=rY;var sY=Object.prototype,oY=sY.hasOwnProperty;function mb(n){if(!td(n))return iY(n);var e=[];for(var t in Object(n))oY.call(n,t)&&t!="constructor"&&e.push(t);return e}function ei(n){return Ds(n)?db(n):mb(n)}var aY=Object.prototype,lY=aY.hasOwnProperty,cY=gq(function(n,e){if(td(e)||Ds(e)){ed(e,ei(e),n);return}for(var t in e)lY.call(e,t)&&Rm(n,t,e[t])});const ti=cY;function uY(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var fY=Object.prototype,hY=fY.hasOwnProperty;function dY(n){if(!Ti(n))return uY(n);var e=td(n),t=[];for(var r in n)r=="constructor"&&(e||!hY.call(n,r))||t.push(r);return t}function Lm(n){return Ds(n)?db(n,!0):dY(n)}var pY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mY=/^\w*$/;function Wv(n,e){if(Ut(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Tm(n)?!0:mY.test(n)||!pY.test(n)||e!=null&&n in Object(e)}var gY=Pl(Object,"create");const wh=gY;function AY(){this.__data__=wh?wh(null):{},this.size=0}function vY(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var yY="__lodash_hash_undefined__",xY=Object.prototype,CY=xY.hasOwnProperty;function EY(n){var e=this.__data__;if(wh){var t=e[n];return t===yY?void 0:t}return CY.call(e,n)?e[n]:void 0}var SY=Object.prototype,_Y=SY.hasOwnProperty;function bY(n){var e=this.__data__;return wh?e[n]!==void 0:_Y.call(e,n)}var IY="__lodash_hash_undefined__";function wY(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=wh&&e===void 0?IY:e,this}function bl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}bl.prototype.clear=AY;bl.prototype.delete=vY;bl.prototype.get=EY;bl.prototype.has=bY;bl.prototype.set=wY;function MY(){this.__data__=[],this.size=0}function Fm(n,e){for(var t=n.length;t--;)if(Zh(n[t][0],e))return t;return-1}var TY=Array.prototype,BY=TY.splice;function RY(n){var e=this.__data__,t=Fm(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():BY.call(e,t,1),--this.size,!0}function PY(n){var e=this.__data__,t=Fm(e,n);return t<0?void 0:e[t][1]}function DY(n){return Fm(this.__data__,n)>-1}function LY(n,e){var t=this.__data__,r=Fm(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function ho(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ho.prototype.clear=MY;ho.prototype.delete=RY;ho.prototype.get=PY;ho.prototype.has=DY;ho.prototype.set=LY;var FY=Pl(Ps,"Map");const Mh=FY;function kY(){this.size=0,this.__data__={hash:new bl,map:new(Mh||ho),string:new bl}}function NY(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function km(n,e){var t=n.__data__;return NY(e)?t[typeof e=="string"?"string":"hash"]:t.map}function OY(n){var e=km(this,n).delete(n);return this.size-=e?1:0,e}function UY(n){return km(this,n).get(n)}function GY(n){return km(this,n).has(n)}function QY(n,e){var t=km(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function po(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}po.prototype.clear=kY;po.prototype.delete=OY;po.prototype.get=UY;po.prototype.has=GY;po.prototype.set=QY;var HY="Expected a function";function Jv(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(HY);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(Jv.Cache||po),t}Jv.Cache=po;var zY=500;function VY(n){var e=Jv(n,function(r){return t.size===zY&&t.clear(),r}),t=e.cache;return e}var WY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JY=/\\(\\)?/g,jY=VY(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(WY,function(t,r,i,s){e.push(i?s.replace(JY,"$1"):r||t)}),e});const KY=jY;function qY(n){return n==null?"":ob(n)}function Nm(n,e){return Ut(n)?n:Wv(n,e)?[n]:KY(qY(n))}var YY=1/0;function rd(n){if(typeof n=="string"||Tm(n))return n;var e=n+"";return e=="0"&&1/n==-YY?"-0":e}function jv(n,e){e=Nm(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[rd(e[t++])];return t&&t==r?n:void 0}function XY(n,e,t){var r=n==null?void 0:jv(n,e);return r===void 0?t:r}function Kv(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var T9=Mi?Mi.isConcatSpreadable:void 0;function $Y(n){return Ut(n)||Dm(n)||!!(T9&&n&&n[T9])}function Om(n,e,t,r,i){var s=-1,o=n.length;for(t||(t=$Y),i||(i=[]);++s<o;){var a=n[s];e>0&&t(a)?e>1?Om(a,e-1,t,r,i):Kv(i,a):r||(i[i.length]=a)}return i}function Vi(n){var e=n==null?0:n.length;return e?Om(n,1):[]}var ZY=pb(Object.getPrototypeOf,Object);const gb=ZY;function Ab(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function eX(n,e,t,r){var i=-1,s=n==null?0:n.length;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function tX(){this.__data__=new ho,this.size=0}function nX(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function rX(n){return this.__data__.get(n)}function iX(n){return this.__data__.has(n)}var sX=200;function oX(n,e){var t=this.__data__;if(t instanceof ho){var r=t.__data__;if(!Mh||r.length<sX-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new po(r)}return t.set(n,e),this.size=t.size,this}function ws(n){var e=this.__data__=new ho(n);this.size=e.size}ws.prototype.clear=tX;ws.prototype.delete=nX;ws.prototype.get=rX;ws.prototype.has=iX;ws.prototype.set=oX;function aX(n,e){return n&&ed(e,ei(e),n)}function lX(n,e){return n&&ed(e,Lm(e),n)}var vb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,B9=vb&&typeof module=="object"&&module&&!module.nodeType&&module,cX=B9&&B9.exports===vb,R9=cX?Ps.Buffer:void 0,P9=R9?R9.allocUnsafe:void 0;function uX(n,e){if(e)return n.slice();var t=n.length,r=P9?P9(t):new n.constructor(t);return n.copy(r),r}function qv(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function yb(){return[]}var fX=Object.prototype,hX=fX.propertyIsEnumerable,D9=Object.getOwnPropertySymbols,dX=D9?function(n){return n==null?[]:(n=Object(n),qv(D9(n),function(e){return hX.call(n,e)}))}:yb;const Yv=dX;function pX(n,e){return ed(n,Yv(n),e)}var mX=Object.getOwnPropertySymbols,gX=mX?function(n){for(var e=[];n;)Kv(e,Yv(n)),n=gb(n);return e}:yb;const xb=gX;function AX(n,e){return ed(n,xb(n),e)}function Cb(n,e,t){var r=e(n);return Ut(n)?r:Kv(r,t(n))}function Z1(n){return Cb(n,ei,Yv)}function Eb(n){return Cb(n,Lm,xb)}var vX=Pl(Ps,"DataView");const e5=vX;var yX=Pl(Ps,"Promise");const t5=yX;var xX=Pl(Ps,"Set");const Qc=xX;var L9="[object Map]",CX="[object Object]",F9="[object Promise]",k9="[object Set]",N9="[object WeakMap]",O9="[object DataView]",EX=Rl(e5),SX=Rl(Mh),_X=Rl(t5),bX=Rl(Qc),IX=Rl($1),el=Ea;(e5&&el(new e5(new ArrayBuffer(1)))!=O9||Mh&&el(new Mh)!=L9||t5&&el(t5.resolve())!=F9||Qc&&el(new Qc)!=k9||$1&&el(new $1)!=N9)&&(el=function(n){var e=Ea(n),t=e==CX?n.constructor:void 0,r=t?Rl(t):"";if(r)switch(r){case EX:return O9;case SX:return L9;case _X:return F9;case bX:return k9;case IX:return N9}return e});const pu=el;var wX=Object.prototype,MX=wX.hasOwnProperty;function TX(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&MX.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var BX=Ps.Uint8Array;const n3=BX;function Xv(n){var e=new n.constructor(n.byteLength);return new n3(e).set(new n3(n)),e}function RX(n,e){var t=e?Xv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var PX=/\w*$/;function DX(n){var e=new n.constructor(n.source,PX.exec(n));return e.lastIndex=n.lastIndex,e}var U9=Mi?Mi.prototype:void 0,G9=U9?U9.valueOf:void 0;function LX(n){return G9?Object(G9.call(n)):{}}function FX(n,e){var t=e?Xv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var kX="[object Boolean]",NX="[object Date]",OX="[object Map]",UX="[object Number]",GX="[object RegExp]",QX="[object Set]",HX="[object String]",zX="[object Symbol]",VX="[object ArrayBuffer]",WX="[object DataView]",JX="[object Float32Array]",jX="[object Float64Array]",KX="[object Int8Array]",qX="[object Int16Array]",YX="[object Int32Array]",XX="[object Uint8Array]",$X="[object Uint8ClampedArray]",ZX="[object Uint16Array]",e$="[object Uint32Array]";function t$(n,e,t){var r=n.constructor;switch(e){case VX:return Xv(n);case kX:case NX:return new r(+n);case WX:return RX(n,t);case JX:case jX:case KX:case qX:case YX:case XX:case $X:case ZX:case e$:return FX(n,t);case OX:return new r;case UX:case HX:return new r(n);case GX:return DX(n);case QX:return new r;case zX:return LX(n)}}function n$(n){return typeof n.constructor=="function"&&!td(n)?qK(gb(n)):{}}var r$="[object Map]";function i$(n){return Ki(n)&&pu(n)==r$}var Q9=ha&&ha.isMap,s$=Q9?nd(Q9):i$;const o$=s$;var a$="[object Set]";function l$(n){return Ki(n)&&pu(n)==a$}var H9=ha&&ha.isSet,c$=H9?nd(H9):l$;const u$=c$;var f$=1,h$=2,d$=4,Sb="[object Arguments]",p$="[object Array]",m$="[object Boolean]",g$="[object Date]",A$="[object Error]",_b="[object Function]",v$="[object GeneratorFunction]",y$="[object Map]",x$="[object Number]",bb="[object Object]",C$="[object RegExp]",E$="[object Set]",S$="[object String]",_$="[object Symbol]",b$="[object WeakMap]",I$="[object ArrayBuffer]",w$="[object DataView]",M$="[object Float32Array]",T$="[object Float64Array]",B$="[object Int8Array]",R$="[object Int16Array]",P$="[object Int32Array]",D$="[object Uint8Array]",L$="[object Uint8ClampedArray]",F$="[object Uint16Array]",k$="[object Uint32Array]",rn={};rn[Sb]=rn[p$]=rn[I$]=rn[w$]=rn[m$]=rn[g$]=rn[M$]=rn[T$]=rn[B$]=rn[R$]=rn[P$]=rn[y$]=rn[x$]=rn[bb]=rn[C$]=rn[E$]=rn[S$]=rn[_$]=rn[D$]=rn[L$]=rn[F$]=rn[k$]=!0;rn[A$]=rn[_b]=rn[b$]=!1;function T0(n,e,t,r,i,s){var o,a=e&f$,l=e&h$,c=e&d$;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!Ti(n))return n;var u=Ut(n);if(u){if(o=TX(n),!a)return XK(n,o)}else{var d=pu(n),p=d==_b||d==v$;if(Ih(n))return uX(n,a);if(d==bb||d==Sb||p&&!i){if(o=l||p?{}:n$(n),!a)return l?AX(n,lX(o,n)):pX(n,aX(o,n))}else{if(!rn[d])return i?n:{};o=t$(n,d,a)}}s||(s=new ws);var m=s.get(n);if(m)return m;s.set(n,o),u$(n)?n.forEach(function(v){o.add(T0(v,e,t,v,n,s))}):o$(n)&&n.forEach(function(v,C){o.set(C,T0(v,e,t,C,n,s))});var g=c?l?Eb:Z1:l?Lm:ei,A=u?void 0:g(n);return ab(A||n,function(v,C){A&&(C=v,v=n[C]),Rm(o,C,T0(v,e,t,C,n,s))}),o}var N$=4;function vr(n){return T0(n,N$)}function id(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var s=n[e];s&&(i[r++]=s)}return i}var O$="__lodash_hash_undefined__";function U$(n){return this.__data__.set(n,O$),this}function G$(n){return this.__data__.has(n)}function mu(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new po;++e<t;)this.add(n[e])}mu.prototype.add=mu.prototype.push=U$;mu.prototype.has=G$;function Ib(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function $v(n,e){return n.has(e)}var Q$=1,H$=2;function wb(n,e,t,r,i,s){var o=t&Q$,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var d=-1,p=!0,m=t&H$?new mu:void 0;for(s.set(n,e),s.set(e,n);++d<a;){var g=n[d],A=e[d];if(r)var v=o?r(A,g,d,e,n,s):r(g,A,d,n,e,s);if(v!==void 0){if(v)continue;p=!1;break}if(m){if(!Ib(e,function(C,x){if(!$v(m,x)&&(g===C||i(g,C,t,r,s)))return m.push(x)})){p=!1;break}}else if(!(g===A||i(g,A,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}function z$(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function Zv(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var V$=1,W$=2,J$="[object Boolean]",j$="[object Date]",K$="[object Error]",q$="[object Map]",Y$="[object Number]",X$="[object RegExp]",$$="[object Set]",Z$="[object String]",eZ="[object Symbol]",tZ="[object ArrayBuffer]",nZ="[object DataView]",z9=Mi?Mi.prototype:void 0,p2=z9?z9.valueOf:void 0;function rZ(n,e,t,r,i,s,o){switch(t){case nZ:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case tZ:return!(n.byteLength!=e.byteLength||!s(new n3(n),new n3(e)));case J$:case j$:case Y$:return Zh(+n,+e);case K$:return n.name==e.name&&n.message==e.message;case X$:case Z$:return n==e+"";case q$:var a=z$;case $$:var l=r&V$;if(a||(a=Zv),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;r|=W$,o.set(n,e);var u=wb(a(n),a(e),r,i,s,o);return o.delete(n),u;case eZ:if(p2)return p2.call(n)==p2.call(e)}return!1}var iZ=1,sZ=Object.prototype,oZ=sZ.hasOwnProperty;function aZ(n,e,t,r,i,s){var o=t&iZ,a=Z1(n),l=a.length,c=Z1(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:oZ.call(e,p)))return!1}var m=s.get(n),g=s.get(e);if(m&&g)return m==e&&g==n;var A=!0;s.set(n,e),s.set(e,n);for(var v=o;++d<l;){p=a[d];var C=n[p],x=e[p];if(r)var E=o?r(x,C,p,e,n,s):r(C,x,p,n,e,s);if(!(E===void 0?C===x||i(C,x,t,r,s):E)){A=!1;break}v||(v=p=="constructor")}if(A&&!v){var _=n.constructor,I=e.constructor;_!=I&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof I=="function"&&I instanceof I)&&(A=!1)}return s.delete(n),s.delete(e),A}var lZ=1,V9="[object Arguments]",W9="[object Array]",a0="[object Object]",cZ=Object.prototype,J9=cZ.hasOwnProperty;function uZ(n,e,t,r,i,s){var o=Ut(n),a=Ut(e),l=o?W9:pu(n),c=a?W9:pu(e);l=l==V9?a0:l,c=c==V9?a0:c;var u=l==a0,d=c==a0,p=l==c;if(p&&Ih(n)){if(!Ih(e))return!1;o=!0,u=!1}if(p&&!u)return s||(s=new ws),o||Vv(n)?wb(n,e,t,r,i,s):rZ(n,e,l,t,r,i,s);if(!(t&lZ)){var m=u&&J9.call(n,"__wrapped__"),g=d&&J9.call(e,"__wrapped__");if(m||g){var A=m?n.value():n,v=g?e.value():e;return s||(s=new ws),i(A,v,t,r,s)}}return p?(s||(s=new ws),aZ(n,e,t,r,i,s)):!1}function e6(n,e,t,r,i){return n===e?!0:n==null||e==null||!Ki(n)&&!Ki(e)?n!==n&&e!==e:uZ(n,e,t,r,e6,i)}var fZ=1,hZ=2;function dZ(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var a=t[i];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<s;){a=t[i];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var d=new ws;if(r)var p=r(c,u,l,n,e,d);if(!(p===void 0?e6(u,c,fZ|hZ,r,d):p))return!1}}return!0}function Mb(n){return n===n&&!Ti(n)}function pZ(n){for(var e=ei(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,Mb(i)]}return e}function Tb(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function mZ(n){var e=pZ(n);return e.length==1&&e[0][2]?Tb(e[0][0],e[0][1]):function(t){return t===n||dZ(t,n,e)}}function gZ(n,e){return n!=null&&e in Object(n)}function Bb(n,e,t){e=Nm(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=rd(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&zv(i)&&Bm(o,i)&&(Ut(n)||Dm(n)))}function AZ(n,e){return n!=null&&Bb(n,e,gZ)}var vZ=1,yZ=2;function xZ(n,e){return Wv(n)&&Mb(e)?Tb(rd(n),e):function(t){var r=XY(t,n);return r===void 0&&r===e?AZ(t,n):e6(e,r,vZ|yZ)}}function CZ(n){return function(e){return e==null?void 0:e[n]}}function EZ(n){return function(e){return jv(e,n)}}function SZ(n){return Wv(n)?CZ(rd(n)):EZ(n)}function Ls(n){return typeof n=="function"?n:n==null?du:typeof n=="object"?Ut(n)?xZ(n[0],n[1]):mZ(n):SZ(n)}function _Z(n,e,t,r){for(var i=-1,s=n==null?0:n.length;++i<s;){var o=n[i];e(r,o,t(o),n)}return r}function bZ(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++i];if(t(s[l],l,s)===!1)break}return e}}var IZ=bZ();const wZ=IZ;function MZ(n,e){return n&&wZ(n,e,ei)}function TZ(n,e){return function(t,r){if(t==null)return t;if(!Ds(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var BZ=TZ(MZ);const Dl=BZ;function RZ(n,e,t,r){return Dl(n,function(i,s,o){e(r,i,t(i),o)}),r}function PZ(n,e){return function(t,r){var i=Ut(t)?_Z:RZ,s=e?e():{};return i(t,n,Ls(r),s)}}var Rb=Object.prototype,DZ=Rb.hasOwnProperty,LZ=Hv(function(n,e){n=Object(n);var t=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Pm(e[0],e[1],i)&&(r=1);++t<r;)for(var s=e[t],o=Lm(s),a=-1,l=o.length;++a<l;){var c=o[a],u=n[c];(u===void 0||Zh(u,Rb[c])&&!DZ.call(n,c))&&(n[c]=s[c])}return n});const t6=LZ;function j9(n){return Ki(n)&&Ds(n)}function Pb(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}var FZ=200;function kZ(n,e,t,r){var i=-1,s=cb,o=!0,a=n.length,l=[],c=e.length;if(!a)return l;t&&(e=Xh(e,nd(t))),r?(s=Pb,o=!1):e.length>=FZ&&(s=$v,o=!1,e=new mu(e));e:for(;++i<a;){var u=n[i],d=t==null?u:t(u);if(u=r||u!==0?u:0,o&&d===d){for(var p=c;p--;)if(e[p]===d)continue e;l.push(u)}else s(e,d,r)||l.push(u)}return l}var NZ=Hv(function(n,e){return j9(n)?kZ(n,Om(e,1,j9,!0)):[]});const Um=NZ;function gu(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function lr(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:$h(e),Ab(n,e<0?0:e,r)):[]}function Th(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:$h(e),e=r-e,Ab(n,0,e<0?0:e)):[]}function OZ(n){return typeof n=="function"?n:du}function ut(n,e){var t=Ut(n)?ab:Dl;return t(n,OZ(e))}function UZ(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}function GZ(n,e){var t=!0;return Dl(n,function(r,i,s){return t=!!e(r,i,s),t}),t}function Wi(n,e,t){var r=Ut(n)?UZ:GZ;return t&&Pm(n,e,t)&&(e=void 0),r(n,Ls(e))}function Db(n,e){var t=[];return Dl(n,function(r,i,s){e(r,i,s)&&t.push(r)}),t}function Di(n,e){var t=Ut(n)?qv:Db;return t(n,Ls(e))}function QZ(n){return function(e,t,r){var i=Object(e);if(!Ds(e)){var s=Ls(t);e=ei(e),t=function(a){return s(i[a],a,i)}}var o=n(e,t,r);return o>-1?i[s?e[o]:o]:void 0}}var HZ=Math.max;function zZ(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:$h(t);return i<0&&(i=HZ(r+i,0)),lb(n,Ls(e),i)}var VZ=QZ(zZ);const Au=VZ;function qi(n){return n&&n.length?n[0]:void 0}function WZ(n,e){var t=-1,r=Ds(n)?Array(n.length):[];return Dl(n,function(i,s,o){r[++t]=e(i,s,o)}),r}function st(n,e){var t=Ut(n)?Xh:WZ;return t(n,Ls(e))}function bi(n,e){return Om(st(n,e),1)}var JZ=Object.prototype,jZ=JZ.hasOwnProperty,KZ=PZ(function(n,e,t){jZ.call(n,t)?n[t].push(e):Qv(n,t,[e])});const qZ=KZ;var YZ=Object.prototype,XZ=YZ.hasOwnProperty;function $Z(n,e){return n!=null&&XZ.call(n,e)}function lt(n,e){return n!=null&&Bb(n,e,$Z)}var ZZ="[object String]";function Ur(n){return typeof n=="string"||!Ut(n)&&Ki(n)&&Ea(n)==ZZ}function eee(n,e){return Xh(e,function(t){return n[t]})}function Vn(n){return n==null?[]:eee(n,ei(n))}var tee=Math.max;function Mr(n,e,t,r){n=Ds(n)?n:Vn(n),t=t&&!r?$h(t):0;var i=n.length;return t<0&&(t=tee(i+t,0)),Ur(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&Gv(n,e,t)>-1}var nee=Math.max;function K9(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:$h(t);return i<0&&(i=nee(r+i,0)),Gv(n,e,i)}var ree="[object Map]",iee="[object Set]",see=Object.prototype,oee=see.hasOwnProperty;function sn(n){if(n==null)return!0;if(Ds(n)&&(Ut(n)||typeof n=="string"||typeof n.splice=="function"||Ih(n)||Vv(n)||Dm(n)))return!n.length;var e=pu(n);if(e==ree||e==iee)return!n.size;if(td(n))return!mb(n).length;for(var t in n)if(oee.call(n,t))return!1;return!0}var aee="[object RegExp]";function lee(n){return Ki(n)&&Ea(n)==aee}var q9=ha&&ha.isRegExp,cee=q9?nd(q9):lee;const so=cee;function oo(n){return n===void 0}var uee="Expected a function";function fee(n){if(typeof n!="function")throw new TypeError(uee);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function hee(n,e,t,r){if(!Ti(n))return n;e=Nm(e,n);for(var i=-1,s=e.length,o=s-1,a=n;a!=null&&++i<s;){var l=rd(e[i]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(i!=o){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=Ti(u)?u:Bm(e[i+1])?[]:{})}Rm(a,l,c),a=a[l]}return n}function dee(n,e,t){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=jv(n,o);t(a,o)&&hee(s,Nm(o,n),a)}return s}function ns(n,e){if(n==null)return{};var t=Xh(Eb(n),function(r){return[r]});return e=Ls(e),dee(n,t,function(r,i){return e(r,i[0])})}function pee(n,e,t,r,i){return i(n,function(s,o,a){t=r?(r=!1,s):e(t,s,o,a)}),t}function ni(n,e,t){var r=Ut(n)?eX:pee,i=arguments.length<3;return r(n,Ls(e),t,i,Dl)}function Gm(n,e){var t=Ut(n)?qv:Db;return t(n,fee(Ls(e)))}function mee(n,e){var t;return Dl(n,function(r,i,s){return t=e(r,i,s),!t}),!!t}function Lb(n,e,t){var r=Ut(n)?Ib:mee;return t&&Pm(n,e,t)&&(e=void 0),r(n,Ls(e))}var gee=1/0,Aee=Qc&&1/Zv(new Qc([,-0]))[1]==gee?function(n){return new Qc(n)}:zn;const vee=Aee;var yee=200;function xee(n,e,t){var r=-1,i=cb,s=n.length,o=!0,a=[],l=a;if(t)o=!1,i=Pb;else if(s>=yee){var c=e?null:vee(n);if(c)return Zv(c);o=!1,i=$v,l=new mu}else l=e?[]:a;e:for(;++r<s;){var u=n[r],d=e?e(u):u;if(u=t||u!==0?u:0,o&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,t)||(l!==a&&l.push(d),a.push(u))}return a}function n6(n){return n&&n.length?xee(n):[]}function n5(n){console&&console.error&&console.error(`Error: ${n}`)}function Fb(n){console&&console.warn&&console.warn(`Warning: ${n}`)}function kb(n){const e=new Date().getTime(),t=n();return{time:new Date().getTime()-e,value:t}}function Nb(n){function e(){}e.prototype=n;const t=new e;function r(){return typeof t.bar}return r(),r(),n}function Cee(n){return Eee(n)?n.LABEL:n.name}function Eee(n){return Ur(n.LABEL)&&n.LABEL!==""}class Fs{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),ut(this.definition,t=>{t.accept(e)})}}class ri extends Fs{constructor(e){super([]),this.idx=1,ti(this,ns(e,t=>t!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class Bu extends Fs{constructor(e){super(e.definition),this.orgText="",ti(this,ns(e,t=>t!==void 0))}}class Gr extends Fs{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,ti(this,ns(e,t=>t!==void 0))}}class Or extends Fs{constructor(e){super(e.definition),this.idx=1,ti(this,ns(e,t=>t!==void 0))}}class ks extends Fs{constructor(e){super(e.definition),this.idx=1,ti(this,ns(e,t=>t!==void 0))}}class Ns extends Fs{constructor(e){super(e.definition),this.idx=1,ti(this,ns(e,t=>t!==void 0))}}class Wn extends Fs{constructor(e){super(e.definition),this.idx=1,ti(this,ns(e,t=>t!==void 0))}}class rs extends Fs{constructor(e){super(e.definition),this.idx=1,ti(this,ns(e,t=>t!==void 0))}}class is extends Fs{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,ti(this,ns(e,t=>t!==void 0))}}class Cn{constructor(e){this.idx=1,ti(this,ns(e,t=>t!==void 0))}accept(e){e.visit(this)}}function See(n){return st(n,B0)}function B0(n){function e(t){return st(t,B0)}if(n instanceof ri){const t={type:"NonTerminal",name:n.nonTerminalName,idx:n.idx};return Ur(n.label)&&(t.label=n.label),t}else{if(n instanceof Gr)return{type:"Alternative",definition:e(n.definition)};if(n instanceof Or)return{type:"Option",idx:n.idx,definition:e(n.definition)};if(n instanceof ks)return{type:"RepetitionMandatory",idx:n.idx,definition:e(n.definition)};if(n instanceof Ns)return{type:"RepetitionMandatoryWithSeparator",idx:n.idx,separator:B0(new Cn({terminalType:n.separator})),definition:e(n.definition)};if(n instanceof rs)return{type:"RepetitionWithSeparator",idx:n.idx,separator:B0(new Cn({terminalType:n.separator})),definition:e(n.definition)};if(n instanceof Wn)return{type:"Repetition",idx:n.idx,definition:e(n.definition)};if(n instanceof is)return{type:"Alternation",idx:n.idx,definition:e(n.definition)};if(n instanceof Cn){const t={type:"Terminal",name:n.terminalType.name,label:Cee(n.terminalType),idx:n.idx};Ur(n.label)&&(t.terminalLabel=n.label);const r=n.terminalType.PATTERN;return n.terminalType.PATTERN&&(t.pattern=so(r)?r.source:r),t}else{if(n instanceof Bu)return{type:"Rule",name:n.name,orgText:n.orgText,definition:e(n.definition)};throw Error("non exhaustive match")}}}class Ru{visit(e){const t=e;switch(t.constructor){case ri:return this.visitNonTerminal(t);case Gr:return this.visitAlternative(t);case Or:return this.visitOption(t);case ks:return this.visitRepetitionMandatory(t);case Ns:return this.visitRepetitionMandatoryWithSeparator(t);case rs:return this.visitRepetitionWithSeparator(t);case Wn:return this.visitRepetition(t);case is:return this.visitAlternation(t);case Cn:return this.visitTerminal(t);case Bu:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function _ee(n){return n instanceof Gr||n instanceof Or||n instanceof Wn||n instanceof ks||n instanceof Ns||n instanceof rs||n instanceof Cn||n instanceof Bu}function r3(n,e=[]){return n instanceof Or||n instanceof Wn||n instanceof rs?!0:n instanceof is?Lb(n.definition,r=>r3(r,e)):n instanceof ri&&Mr(e,n)?!1:n instanceof Fs?(n instanceof ri&&e.push(n),Wi(n.definition,r=>r3(r,e))):!1}function bee(n){return n instanceof is}function vs(n){if(n instanceof ri)return"SUBRULE";if(n instanceof Or)return"OPTION";if(n instanceof is)return"OR";if(n instanceof ks)return"AT_LEAST_ONE";if(n instanceof Ns)return"AT_LEAST_ONE_SEP";if(n instanceof rs)return"MANY_SEP";if(n instanceof Wn)return"MANY";if(n instanceof Cn)return"CONSUME";throw Error("non exhaustive match")}class Qm{walk(e,t=[]){ut(e.definition,(r,i)=>{const s=lr(e.definition,i+1);if(r instanceof ri)this.walkProdRef(r,s,t);else if(r instanceof Cn)this.walkTerminal(r,s,t);else if(r instanceof Gr)this.walkFlat(r,s,t);else if(r instanceof Or)this.walkOption(r,s,t);else if(r instanceof ks)this.walkAtLeastOne(r,s,t);else if(r instanceof Ns)this.walkAtLeastOneSep(r,s,t);else if(r instanceof rs)this.walkManySep(r,s,t);else if(r instanceof Wn)this.walkMany(r,s,t);else if(r instanceof is)this.walkOr(r,s,t);else throw Error("non exhaustive match")})}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){const i=t.concat(r);this.walk(e,i)}walkOption(e,t,r){const i=t.concat(r);this.walk(e,i)}walkAtLeastOne(e,t,r){const i=[new Or({definition:e.definition})].concat(t,r);this.walk(e,i)}walkAtLeastOneSep(e,t,r){const i=Y9(e,t,r);this.walk(e,i)}walkMany(e,t,r){const i=[new Or({definition:e.definition})].concat(t,r);this.walk(e,i)}walkManySep(e,t,r){const i=Y9(e,t,r);this.walk(e,i)}walkOr(e,t,r){const i=t.concat(r);ut(e.definition,s=>{const o=new Gr({definition:[s]});this.walk(o,i)})}}function Y9(n,e,t){return[new Or({definition:[new Cn({terminalType:n.separator})].concat(n.definition)})].concat(e,t)}function sd(n){if(n instanceof ri)return sd(n.referencedRule);if(n instanceof Cn)return Mee(n);if(_ee(n))return Iee(n);if(bee(n))return wee(n);throw Error("non exhaustive match")}function Iee(n){let e=[];const t=n.definition;let r=0,i=t.length>r,s,o=!0;for(;i&&o;)s=t[r],o=r3(s),e=e.concat(sd(s)),r=r+1,i=t.length>r;return n6(e)}function wee(n){const e=st(n.definition,t=>sd(t));return n6(Vi(e))}function Mee(n){return[n.terminalType]}const Ob="_~IN~_";class Tee extends Qm{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){const i=Ree(e.referencedRule,e.idx)+this.topProd.name,s=t.concat(r),o=new Gr({definition:s}),a=sd(o);this.follows[i]=a}}function Bee(n){const e={};return ut(n,t=>{const r=new Tee(t).startWalking();ti(e,r)}),e}function Ree(n,e){return n.name+e+Ob}function ft(n){return n.charCodeAt(0)}function m2(n,e){Array.isArray(n)?n.forEach(function(t){e.push(t)}):e.push(n)}function vf(n,e){if(n[e]===!0)throw"duplicate flag "+e;n[e],n[e]=!0}function yc(n){if(n===void 0)throw Error("Internal Error - Should never get here!");return!0}function Pee(){throw Error("Internal Error - Should never get here!")}function X9(n){return n.type==="Character"}const i3=[];for(let n=ft("0");n<=ft("9");n++)i3.push(n);const s3=[ft("_")].concat(i3);for(let n=ft("a");n<=ft("z");n++)s3.push(n);for(let n=ft("A");n<=ft("Z");n++)s3.push(n);const $9=[ft(" "),ft("\f"),ft(`
`),ft("\r"),ft("	"),ft("\v"),ft("	"),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft(" "),ft("\u2028"),ft("\u2029"),ft(" "),ft(" "),ft("　"),ft("\uFEFF")],Dee=/[0-9a-fA-F]/,l0=/[0-9]/,Lee=/[1-9]/;class Fee{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":vf(r,"global");break;case"i":vf(r,"ignoreCase");break;case"m":vf(r,"multiLine");break;case"u":vf(r,"unicode");break;case"y":vf(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}yc(t);const r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return Pee()}quantifier(e=!1){let t;const r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),t={atLeast:i,atMost:s}):t={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&t===void 0)return;yc(t);break}if(!(e===!0&&t===void 0)&&yc(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),yc(e))return e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[ft(`
`),ft("\r"),ft("\u2028"),ft("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=i3;break;case"D":e=i3,t=!0;break;case"s":e=$9;break;case"S":e=$9,t=!0;break;case"w":e=s3;break;case"W":e=s3,t=!0;break}if(yc(e))return{type:"Set",value:e,complement:t}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=ft("\f");break;case"n":e=ft(`
`);break;case"r":e=ft("\r");break;case"t":e=ft("	");break;case"v":e=ft("\v");break}if(yc(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:ft("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:ft(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:ft(e)}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,X9(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,X9(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else m2(r.value,e),e.push(ft("-")),m2(i.value,e)}else m2(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:ft("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const t=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(Lee.test(e)===!1)throw Error("Expecting a positive integer");for(;l0.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(l0.test(e)===!1)throw Error("Expecting an integer");for(;l0.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:ft(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return l0.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let i=0;i<e;i++){const s=this.popChar();if(Dee.test(s)===!1)throw Error("Expecting a HexDecimal digits");t+=s}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class r6{visitChildren(e){for(const t in e){const r=e[t];e.hasOwnProperty(t)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let R0={};const kee=new Fee;function Hm(n){const e=n.toString();if(R0.hasOwnProperty(e))return R0[e];{const t=kee.pattern(e);return R0[e]=t,t}}function Nee(){R0={}}const Ub="Complement Sets are not supported for first char optimization",o3=`Unable to use "first char" lexer optimizations:
`;function Oee(n,e=!1){try{const t=Hm(n);return r5(t.value,{},t.flags.ignoreCase)}catch(t){if(t.message===Ub)e&&Fb(`${o3}	Unable to optimize: < ${n.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),n5(`${o3}
	Failed parsing: < ${n.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function r5(n,e,t){switch(n.type){case"Disjunction":for(let i=0;i<n.value.length;i++)r5(n.value[i],e,t);break;case"Alternative":const r=n.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":c0(o.value,e,t);break;case"Set":if(o.complement===!0)throw Error(Ub);ut(o.value,l=>{if(typeof l=="number")c0(l,e,t);else{const c=l;if(t===!0)for(let u=c.from;u<=c.to;u++)c0(u,e,t);else{for(let u=c.from;u<=c.to&&u<wf;u++)c0(u,e,t);if(c.to>=wf){const u=c.from>=wf?c.from:wf,d=c.to,p=da(u),m=da(d);for(let g=p;g<=m;g++)e[g]=g}}}});break;case"Group":r5(o.value,e,t);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&i5(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return Vn(e)}function c0(n,e,t){const r=da(n);e[r]=r,t===!0&&Uee(n,e)}function Uee(n,e){const t=String.fromCharCode(n),r=t.toUpperCase();if(r!==t){const i=da(r.charCodeAt(0));e[i]=i}else{const i=t.toLowerCase();if(i!==t){const s=da(i.charCodeAt(0));e[s]=s}}}function Z9(n,e){return Au(n.value,t=>{if(typeof t=="number")return Mr(e,t);{const r=t;return Au(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function i5(n){const e=n.quantifier;return e&&e.atLeast===0?!0:n.value?Ut(n.value)?Wi(n.value,i5):i5(n.value):!1}class Gee extends r6{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Mr(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?Z9(e,this.targetCharCodes)===void 0&&(this.found=!0):Z9(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function i6(n,e){if(e instanceof RegExp){const t=Hm(e),r=new Gee(n);return r.visit(t),r.found}else return Au(e,t=>Mr(n,t.charCodeAt(0)))!==void 0}const Il="PATTERN",If="defaultMode",u0="modes";let Gb=typeof new RegExp("(?:)").sticky=="boolean";function Qee(n,e){e=t6(e,{useSticky:Gb,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(x,E)=>E()});const t=e.tracer;t("initCharCodeToOptimizedIndexMap",()=>{ute()});let r;t("Reject Lexer.NA",()=>{r=Gm(n,x=>x[Il]===Ii.NA)});let i=!1,s;t("Transform Patterns",()=>{i=!1,s=st(r,x=>{const E=x[Il];if(so(E)){const _=E.source;return _.length===1&&_!=="^"&&_!=="$"&&_!=="."&&!E.ignoreCase?_:_.length===2&&_[0]==="\\"&&!Mr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],_[1])?_[1]:e.useSticky?t7(E):e7(E)}else{if(fo(E))return i=!0,{exec:E};if(typeof E=="object")return i=!0,E;if(typeof E=="string"){if(E.length===1)return E;{const _=E.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),I=new RegExp(_);return e.useSticky?t7(I):e7(I)}}else throw Error("non exhaustive match")}})});let o,a,l,c,u;t("misc mapping",()=>{o=st(r,x=>x.tokenTypeIdx),a=st(r,x=>{const E=x.GROUP;if(E!==Ii.SKIPPED){if(Ur(E))return E;if(oo(E))return!1;throw Error("non exhaustive match")}}),l=st(r,x=>{const E=x.LONGER_ALT;if(E)return Ut(E)?st(E,I=>K9(r,I)):[K9(r,E)]}),c=st(r,x=>x.PUSH_MODE),u=st(r,x=>lt(x,"POP_MODE"))});let d;t("Line Terminator Handling",()=>{const x=zb(e.lineTerminatorCharacters);d=st(r,E=>!1),e.positionTracking!=="onlyOffset"&&(d=st(r,E=>lt(E,"LINE_BREAKS")?!!E.LINE_BREAKS:Hb(E,x)===!1&&i6(x,E.PATTERN)))});let p,m,g,A;t("Misc Mapping #2",()=>{p=st(r,Qb),m=st(s,ate),g=ni(r,(x,E)=>{const _=E.GROUP;return Ur(_)&&_!==Ii.SKIPPED&&(x[_]=[]),x},{}),A=st(s,(x,E)=>({pattern:s[E],longerAlt:l[E],canLineTerminator:d[E],isCustom:p[E],short:m[E],group:a[E],push:c[E],pop:u[E],tokenTypeIdx:o[E],tokenType:r[E]}))});let v=!0,C=[];return e.safeMode||t("First Char Optimization",()=>{C=ni(r,(x,E,_)=>{if(typeof E.PATTERN=="string"){const I=E.PATTERN.charCodeAt(0),M=da(I);g2(x,M,A[_])}else if(Ut(E.START_CHARS_HINT)){let I;ut(E.START_CHARS_HINT,M=>{const T=typeof M=="string"?M.charCodeAt(0):M,w=da(T);I!==w&&(I=w,g2(x,w,A[_]))})}else if(so(E.PATTERN))if(E.PATTERN.unicode)v=!1,e.ensureOptimizations&&n5(`${o3}	Unable to analyze < ${E.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const I=Oee(E.PATTERN,e.ensureOptimizations);sn(I)&&(v=!1),ut(I,M=>{g2(x,M,A[_])})}else e.ensureOptimizations&&n5(`${o3}	TokenType: <${E.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return x},[])}),{emptyGroups:g,patternIdxToConfig:A,charCodeToPatternIdxToConfig:C,hasCustom:i,canBeOptimized:v}}function Hee(n,e){let t=[];const r=Vee(n);t=t.concat(r.errors);const i=Wee(r.valid),s=i.valid;return t=t.concat(i.errors),t=t.concat(zee(s)),t=t.concat(Zee(s)),t=t.concat(ete(s,e)),t=t.concat(tte(s)),t}function zee(n){let e=[];const t=Di(n,r=>so(r[Il]));return e=e.concat(jee(t)),e=e.concat(Yee(t)),e=e.concat(Xee(t)),e=e.concat($ee(t)),e=e.concat(Kee(t)),e}function Vee(n){const e=Di(n,i=>!lt(i,Il)),t=st(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Tn.MISSING_PATTERN,tokenTypes:[i]})),r=Um(n,e);return{errors:t,valid:r}}function Wee(n){const e=Di(n,i=>{const s=i[Il];return!so(s)&&!fo(s)&&!lt(s,"exec")&&!Ur(s)}),t=st(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Tn.INVALID_PATTERN,tokenTypes:[i]})),r=Um(n,e);return{errors:t,valid:r}}const Jee=/[^\\][$]/;function jee(n){class e extends r6{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const t=Di(n,i=>{const s=i.PATTERN;try{const o=Hm(s),a=new e;return a.visit(o),a.found}catch{return Jee.test(s.source)}});return st(t,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Tn.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Kee(n){const e=Di(n,r=>r.PATTERN.test(""));return st(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Tn.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const qee=/[^\\[][\^]|^\^/;function Yee(n){class e extends r6{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const t=Di(n,i=>{const s=i.PATTERN;try{const o=Hm(s),a=new e;return a.visit(o),a.found}catch{return qee.test(s.source)}});return st(t,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Tn.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Xee(n){const e=Di(n,r=>{const i=r[Il];return i instanceof RegExp&&(i.multiline||i.global)});return st(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Tn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function $ee(n){const e=[];let t=st(n,s=>ni(n,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!Mr(e,a)&&a.PATTERN!==Ii.NA&&(e.push(a),o.push(a)),o),[]));t=id(t);const r=Di(t,s=>s.length>1);return st(r,s=>{const o=st(s,l=>l.name);return{message:`The same RegExp pattern ->${qi(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:Tn.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function Zee(n){const e=Di(n,r=>{if(!lt(r,"GROUP"))return!1;const i=r.GROUP;return i!==Ii.SKIPPED&&i!==Ii.NA&&!Ur(i)});return st(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Tn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function ete(n,e){const t=Di(n,i=>i.PUSH_MODE!==void 0&&!Mr(e,i.PUSH_MODE));return st(t,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Tn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function tte(n){const e=[],t=ni(n,(r,i,s)=>{const o=i.PATTERN;return o===Ii.NA||(Ur(o)?r.push({str:o,idx:s,tokenType:i}):so(o)&&rte(o)&&r.push({str:o.source,idx:s,tokenType:i})),r},[]);return ut(n,(r,i)=>{ut(t,({str:s,idx:o,tokenType:a})=>{if(i<o&&nte(s,r.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Tn.UNREACHABLE_PATTERN,tokenTypes:[r,a]})}})}),e}function nte(n,e){if(so(e)){const t=e.exec(n);return t!==null&&t.index===0}else{if(fo(e))return e(n,0,[],{});if(lt(e,"exec"))return e.exec(n,0,[],{});if(typeof e=="string")return e===n;throw Error("non exhaustive match")}}function rte(n){return Au([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>n.source.indexOf(t)!==-1)===void 0}function e7(n){const e=n.ignoreCase?"i":"";return new RegExp(`^(?:${n.source})`,e)}function t7(n){const e=n.ignoreCase?"iy":"y";return new RegExp(`${n.source}`,e)}function ite(n,e,t){const r=[];return lt(n,If)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+If+`> property in its definition
`,type:Tn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),lt(n,u0)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+u0+`> property in its definition
`,type:Tn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),lt(n,u0)&&lt(n,If)&&!lt(n.modes,n.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${If}: <${n.defaultMode}>which does not exist
`,type:Tn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),lt(n,u0)&&ut(n.modes,(i,s)=>{ut(i,(o,a)=>{if(oo(o))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:Tn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(lt(o,"LONGER_ALT")){const l=Ut(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];ut(l,c=>{!oo(c)&&!Mr(i,c)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${o.name}> outside of mode <${s}>
`,type:Tn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function ste(n,e,t){const r=[];let i=!1;const s=id(Vi(Vn(n.modes))),o=Gm(s,l=>l[Il]===Ii.NA),a=zb(t);return e&&ut(o,l=>{const c=Hb(l,a);if(c!==!1){const d={message:cte(l,c),type:c.issue,tokenType:l};r.push(d)}else lt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):i6(a,l.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Tn.NO_LINE_BREAKS_FLAGS}),r}function ote(n){const e={},t=ei(n);return ut(t,r=>{const i=n[r];if(Ut(i))e[r]=[];else throw Error("non exhaustive match")}),e}function Qb(n){const e=n.PATTERN;if(so(e))return!1;if(fo(e))return!0;if(lt(e,"exec"))return!0;if(Ur(e))return!1;throw Error("non exhaustive match")}function ate(n){return Ur(n)&&n.length===1?n.charCodeAt(0):!1}const lte={test:function(n){const e=n.length;for(let t=this.lastIndex;t<e;t++){const r=n.charCodeAt(t);if(r===10)return this.lastIndex=t+1,!0;if(r===13)return n.charCodeAt(t+1)===10?this.lastIndex=t+2:this.lastIndex=t+1,!0}return!1},lastIndex:0};function Hb(n,e){if(lt(n,"LINE_BREAKS"))return!1;if(so(n.PATTERN)){try{i6(e,n.PATTERN)}catch(t){return{issue:Tn.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}else{if(Ur(n.PATTERN))return!1;if(Qb(n))return{issue:Tn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function cte(n,e){if(e.issue===Tn.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${n.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Tn.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${n.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function zb(n){return st(n,t=>Ur(t)?t.charCodeAt(0):t)}function g2(n,e,t){n[e]===void 0?n[e]=[t]:n[e].push(t)}const wf=256;let P0=[];function da(n){return n<wf?n:P0[n]}function ute(){if(sn(P0)){P0=new Array(65536);for(let n=0;n<65536;n++)P0[n]=n>255?255+~~(n/255):n}}function od(n,e){const t=n.tokenTypeIdx;return t===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[t]===!0}function a3(n,e){return n.tokenTypeIdx===e.tokenTypeIdx}let n7=1;const Vb={};function ad(n){const e=fte(n);hte(e),pte(e),dte(e),ut(e,t=>{t.isParent=t.categoryMatches.length>0})}function fte(n){let e=vr(n),t=n,r=!0;for(;r;){t=id(Vi(st(t,s=>s.CATEGORIES)));const i=Um(t,e);e=e.concat(i),sn(i)?r=!1:t=i}return e}function hte(n){ut(n,e=>{Jb(e)||(Vb[n7]=e,e.tokenTypeIdx=n7++),r7(e)&&!Ut(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),r7(e)||(e.CATEGORIES=[]),mte(e)||(e.categoryMatches=[]),gte(e)||(e.categoryMatchesMap={})})}function dte(n){ut(n,e=>{e.categoryMatches=[],ut(e.categoryMatchesMap,(t,r)=>{e.categoryMatches.push(Vb[r].tokenTypeIdx)})})}function pte(n){ut(n,e=>{Wb([],e)})}function Wb(n,e){ut(n,t=>{e.categoryMatchesMap[t.tokenTypeIdx]=!0}),ut(e.CATEGORIES,t=>{const r=n.concat(e);Mr(r,t)||Wb(r,t)})}function Jb(n){return lt(n,"tokenTypeIdx")}function r7(n){return lt(n,"CATEGORIES")}function mte(n){return lt(n,"categoryMatches")}function gte(n){return lt(n,"categoryMatchesMap")}function Ate(n){return lt(n,"tokenTypeIdx")}const vte={buildUnableToPopLexerModeMessage(n){return`Unable to pop Lexer Mode after encountering Token ->${n.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(n,e,t,r,i){return`unexpected character: ->${n.charAt(e)}<- at offset: ${e}, skipped ${t} characters.`}};var Tn;(function(n){n[n.MISSING_PATTERN=0]="MISSING_PATTERN",n[n.INVALID_PATTERN=1]="INVALID_PATTERN",n[n.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",n[n.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",n[n.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",n[n.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",n[n.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",n[n.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",n[n.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",n[n.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",n[n.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",n[n.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",n[n.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",n[n.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",n[n.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",n[n.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",n[n.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",n[n.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Tn||(Tn={}));const Mf={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:vte,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Mf);class Ii{constructor(e,t=Mf){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${i}>`);const{time:a,value:l}=kb(s),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${o}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=ti({},Mf,t);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Mf.lineTerminatorsPattern)this.config.lineTerminatorsPattern=lte;else if(this.config.lineTerminatorCharacters===Mf.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Ut(e)?i={modes:{defaultMode:vr(e)},defaultMode:If}:(s=!1,i=vr(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(ite(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(ste(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},ut(i.modes,(a,l)=>{i.modes[l]=Gm(a,c=>oo(c))});const o=ei(i.modes);if(ut(i.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Hee(a,o))}),sn(this.lexerDefinitionErrors)){ad(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=Qee(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=ti({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!sn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=st(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}ut(this.lexerDefinitionWarning,a=>{Fb(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Gb?(this.chopInput=du,this.match=this.matchWithTest):(this.updateLastIndex=zn,this.match=this.matchWithExec),s&&(this.handleModes=zn),this.trackStartLines===!1&&(this.computeNewColumn=du),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=zn),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=ni(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(t.ensureOptimizations&&!sn(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Nee()}),this.TRACE_INIT("toFastProperties",()=>{Nb(this)})})}tokenize(e,t=this.defaultMode){if(!sn(this.lexerDefinitionErrors)){const i=st(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,i,s,o,a,l,c,u,d,p,m,g,A,v,C;const x=e,E=x.length;let _=0,I=0;const M=this.hasCustom?0:Math.floor(e.length/10),T=new Array(M),w=[];let R=this.trackStartLines?1:void 0,D=this.trackStartLines?1:void 0;const P=ote(this.emptyGroups),z=this.trackStartLines,q=this.config.lineTerminatorsPattern;let k=0,Q=[],V=[];const Y=[],G=[];Object.freeze(G);let j;function K(){return Q}function ee(re){const Ne=da(re),Pe=V[Ne];return Pe===void 0?G:Pe}const X=re=>{if(Y.length===1&&re.tokenType.PUSH_MODE===void 0){const Ne=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(re);w.push({offset:re.startOffset,line:re.startLine,column:re.startColumn,length:re.image.length,message:Ne})}else{Y.pop();const Ne=gu(Y);Q=this.patternIdxToConfig[Ne],V=this.charCodeToPatternIdxToConfig[Ne],k=Q.length;const Pe=this.canModeBeOptimized[Ne]&&this.config.safeMode===!1;V&&Pe?j=ee:j=K}};function ae(re){Y.push(re),V=this.charCodeToPatternIdxToConfig[re],Q=this.patternIdxToConfig[re],k=Q.length,k=Q.length;const Ne=this.canModeBeOptimized[re]&&this.config.safeMode===!1;V&&Ne?j=ee:j=K}ae.call(this,t);let Ae;const _e=this.config.recoveryEnabled;for(;_<E;){l=null;const re=x.charCodeAt(_),Ne=j(re),Pe=Ne.length;for(r=0;r<Pe;r++){Ae=Ne[r];const Le=Ae.pattern;c=null;const ve=Ae.short;if(ve!==!1?re===ve&&(l=Le):Ae.isCustom===!0?(C=Le.exec(x,_,T,P),C!==null?(l=C[0],C.payload!==void 0&&(c=C.payload)):l=null):(this.updateLastIndex(Le,_),l=this.match(Le,e,_)),l!==null){if(a=Ae.longerAlt,a!==void 0){const xe=a.length;for(s=0;s<xe;s++){const oe=Q[a[s]],ne=oe.pattern;if(u=null,oe.isCustom===!0?(C=ne.exec(x,_,T,P),C!==null?(o=C[0],C.payload!==void 0&&(u=C.payload)):o=null):(this.updateLastIndex(ne,_),o=this.match(ne,e,_)),o&&o.length>l.length){l=o,c=u,Ae=oe;break}}}break}}if(l!==null){if(d=l.length,p=Ae.group,p!==void 0&&(m=Ae.tokenTypeIdx,g=this.createTokenInstance(l,_,m,Ae.tokenType,R,D,d),this.handlePayload(g,c),p===!1?I=this.addToken(T,I,g):P[p].push(g)),e=this.chopInput(e,d),_=_+d,D=this.computeNewColumn(D,d),z===!0&&Ae.canLineTerminator===!0){let Le=0,ve,xe;q.lastIndex=0;do ve=q.test(l),ve===!0&&(xe=q.lastIndex-1,Le++);while(ve===!0);Le!==0&&(R=R+Le,D=d-xe,this.updateTokenEndLineColumnLocation(g,p,xe,Le,R,D,d))}this.handleModes(Ae,X,ae,g)}else{const Le=_,ve=R,xe=D;let oe=_e===!1;for(;oe===!1&&_<E;)for(e=this.chopInput(e,1),_++,i=0;i<k;i++){const ne=Q[i],Ce=ne.pattern,Me=ne.short;if(Me!==!1?x.charCodeAt(_)===Me&&(oe=!0):ne.isCustom===!0?oe=Ce.exec(x,_,T,P)!==null:(this.updateLastIndex(Ce,_),oe=Ce.exec(e)!==null),oe===!0)break}if(A=_-Le,D=this.computeNewColumn(D,A),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,Le,A,ve,xe),w.push({offset:Le,line:ve,column:xe,length:A,message:v}),_e===!1)break}}return this.hasCustom||(T.length=I),{tokens:T,groups:P,errors:w}}handleModes(e,t,r,i){if(e.pop===!0){const s=e.push;t(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,i,s,o,a){let l,c;t!==void 0&&(l=r===a-1,c=l?-1:0,i===1&&l===!0||(e.endLine=s+c,e.endColumn=o-1+-c))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,i){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,t,r,i,s,o){return{image:e,startOffset:t,startLine:s,startColumn:o,tokenTypeIdx:r,tokenType:i}}createFullToken(e,t,r,i,s,o,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,t++,t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){t!==null&&(e.payload=t)}matchWithTest(e,t,r){return e.test(t)===!0?t.substring(r,e.lastIndex):null}matchWithExec(e,t){const r=e.exec(t);return r!==null?r[0]:null}}Ii.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Ii.NA=/NOT_APPLICABLE/;function jf(n){return jb(n)?n.LABEL:n.name}function jb(n){return Ur(n.LABEL)&&n.LABEL!==""}const yte="parent",i7="categories",s7="label",o7="group",a7="push_mode",l7="pop_mode",c7="longer_alt",u7="line_breaks",f7="start_chars_hint";function Kb(n){return xte(n)}function xte(n){const e=n.pattern,t={};if(t.name=n.name,oo(e)||(t.PATTERN=e),lt(n,yte))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return lt(n,i7)&&(t.CATEGORIES=n[i7]),ad([t]),lt(n,s7)&&(t.LABEL=n[s7]),lt(n,o7)&&(t.GROUP=n[o7]),lt(n,l7)&&(t.POP_MODE=n[l7]),lt(n,a7)&&(t.PUSH_MODE=n[a7]),lt(n,c7)&&(t.LONGER_ALT=n[c7]),lt(n,u7)&&(t.LINE_BREAKS=n[u7]),lt(n,f7)&&(t.START_CHARS_HINT=n[f7]),t}const wl=Kb({name:"EOF",pattern:Ii.NA});ad([wl]);function s6(n,e,t,r,i,s,o,a){return{image:e,startOffset:t,endOffset:r,startLine:i,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:n.tokenTypeIdx,tokenType:n}}function Cte(n,e){return od(n,e)}const qb={buildMismatchTokenMessage({expected:n,actual:e,previous:t,ruleName:r}){return`Expecting ${jb(n)?`--> ${jf(n)} <--`:`token of type --> ${n.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:n,ruleName:e}){return"Redundant input, expecting EOF but found: "+n.image},buildNoViableAltMessage({expectedPathsPerAlt:n,actual:e,previous:t,customUserDescription:r,ruleName:i}){const s="Expecting: ",a=`
but found: '`+qi(e).image+"'";if(r)return s+r+a;{const l=ni(n,(p,m)=>p.concat(m),[]),c=st(l,p=>`[${st(p,m=>jf(m)).join(", ")}]`),d=`one of these possible Token sequences:
${st(c,(p,m)=>`  ${m+1}. ${p}`).join(`
`)}`;return s+d+a}},buildEarlyExitMessage({expectedIterationPaths:n,actual:e,customUserDescription:t,ruleName:r}){const i="Expecting: ",o=`
but found: '`+qi(e).image+"'";if(t)return i+t+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${st(n,c=>`[${st(c,u=>jf(u)).join(",")}]`).join(" ,")}>`;return i+l+o}}};Object.freeze(qb);const Ete={buildRuleNotFoundError(n,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+n.name+"<-"}},fl={buildDuplicateFoundError(n,e){function t(u){return u instanceof Cn?u.terminalType.name:u instanceof ri?u.nonTerminalName:""}const r=n.name,i=qi(e),s=i.idx,o=vs(i),a=t(i),l=s>0;let c=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(n){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${n.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(n){const e=st(n.prefixPath,i=>jf(i)).join(", "),t=n.alternation.idx===0?"":n.alternation.idx;return`Ambiguous alternatives: <${n.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${t}> inside <${n.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(n){const e=st(n.prefixPath,i=>jf(i)).join(", "),t=n.alternation.idx===0?"":n.alternation.idx;let r=`Ambiguous Alternatives Detected: <${n.ambiguityIndices.join(" ,")}> in <OR${t}> inside <${n.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(n){let e=vs(n.repetition);return n.repetition.idx!==0&&(e+=n.repetition.idx),`The repetition <${e}> within Rule <${n.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(n){return"deprecated"},buildEmptyAlternationError(n){return`Ambiguous empty alternative: <${n.emptyChoiceIdx+1}> in <OR${n.alternation.idx}> inside <${n.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(n){return`An Alternation cannot have more than 256 alternatives:
<OR${n.alternation.idx}> inside <${n.topLevelRule.name}> Rule.
 has ${n.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(n){const e=n.topLevelRule.name,t=st(n.leftRecursionPath,s=>s.name),r=`${e} --> ${t.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(n){return"deprecated"},buildDuplicateRuleNameError(n){let e;return n.topLevelRule instanceof Bu?e=n.topLevelRule.name:e=n.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${n.grammarName}<-`}};function Ste(n,e){const t=new _te(n,e);return t.resolveRefs(),t.errors}class _te extends Ru{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){ut(Vn(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:wr.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class bte extends Qm{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=vr(this.path.ruleStack).reverse(),this.occurrenceStack=vr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){sn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Ite extends bte{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=t.concat(r),s=new Gr({definition:i});this.possibleTokTypes=sd(s),this.found=!0}}}class zm extends Qm{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class wte extends zm{walkMany(e,t,r){if(e.idx===this.occurrence){const i=qi(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,t,r)}}class h7 extends zm{walkManySep(e,t,r){if(e.idx===this.occurrence){const i=qi(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,t,r)}}class Mte extends zm{walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){const i=qi(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,t,r)}}class d7 extends zm{walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){const i=qi(t.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,t,r)}}function s5(n,e,t=[]){t=vr(t);let r=[],i=0;function s(a){return a.concat(lr(n,i+1))}function o(a){const l=s5(s(a),e,t);return r.concat(l)}for(;t.length<e&&i<n.length;){const a=n[i];if(a instanceof Gr)return o(a.definition);if(a instanceof ri)return o(a.definition);if(a instanceof Or)r=o(a.definition);else if(a instanceof ks){const l=a.definition.concat([new Wn({definition:a.definition})]);return o(l)}else if(a instanceof Ns){const l=[new Gr({definition:a.definition}),new Wn({definition:[new Cn({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof rs){const l=a.definition.concat([new Wn({definition:[new Cn({terminalType:a.separator})].concat(a.definition)})]);r=o(l)}else if(a instanceof Wn){const l=a.definition.concat([new Wn({definition:a.definition})]);r=o(l)}else{if(a instanceof is)return ut(a.definition,l=>{sn(l.definition)===!1&&(r=o(l.definition))}),r;if(a instanceof Cn)t.push(a.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:t,suffixDef:lr(n,i)}),r}function Yb(n,e,t,r){const i="EXIT_NONE_TERMINAL",s=[i],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,c=l-r-1,u=[],d=[];for(d.push({idx:-1,def:n,ruleStack:[],occurrenceStack:[]});!sn(d);){const p=d.pop();if(p===o){a&&gu(d).idx<=c&&d.pop();continue}const m=p.def,g=p.idx,A=p.ruleStack,v=p.occurrenceStack;if(sn(m))continue;const C=m[0];if(C===i){const x={idx:g,def:lr(m),ruleStack:Th(A),occurrenceStack:Th(v)};d.push(x)}else if(C instanceof Cn)if(g<l-1){const x=g+1,E=e[x];if(t(E,C.terminalType)){const _={idx:x,def:lr(m),ruleStack:A,occurrenceStack:v};d.push(_)}}else if(g===l-1)u.push({nextTokenType:C.terminalType,nextTokenOccurrence:C.idx,ruleStack:A,occurrenceStack:v}),a=!0;else throw Error("non exhaustive match");else if(C instanceof ri){const x=vr(A);x.push(C.nonTerminalName);const E=vr(v);E.push(C.idx);const _={idx:g,def:C.definition.concat(s,lr(m)),ruleStack:x,occurrenceStack:E};d.push(_)}else if(C instanceof Or){const x={idx:g,def:lr(m),ruleStack:A,occurrenceStack:v};d.push(x),d.push(o);const E={idx:g,def:C.definition.concat(lr(m)),ruleStack:A,occurrenceStack:v};d.push(E)}else if(C instanceof ks){const x=new Wn({definition:C.definition,idx:C.idx}),E=C.definition.concat([x],lr(m)),_={idx:g,def:E,ruleStack:A,occurrenceStack:v};d.push(_)}else if(C instanceof Ns){const x=new Cn({terminalType:C.separator}),E=new Wn({definition:[x].concat(C.definition),idx:C.idx}),_=C.definition.concat([E],lr(m)),I={idx:g,def:_,ruleStack:A,occurrenceStack:v};d.push(I)}else if(C instanceof rs){const x={idx:g,def:lr(m),ruleStack:A,occurrenceStack:v};d.push(x),d.push(o);const E=new Cn({terminalType:C.separator}),_=new Wn({definition:[E].concat(C.definition),idx:C.idx}),I=C.definition.concat([_],lr(m)),M={idx:g,def:I,ruleStack:A,occurrenceStack:v};d.push(M)}else if(C instanceof Wn){const x={idx:g,def:lr(m),ruleStack:A,occurrenceStack:v};d.push(x),d.push(o);const E=new Wn({definition:C.definition,idx:C.idx}),_=C.definition.concat([E],lr(m)),I={idx:g,def:_,ruleStack:A,occurrenceStack:v};d.push(I)}else if(C instanceof is)for(let x=C.definition.length-1;x>=0;x--){const E=C.definition[x],_={idx:g,def:E.definition.concat(lr(m)),ruleStack:A,occurrenceStack:v};d.push(_),d.push(o)}else if(C instanceof Gr)d.push({idx:g,def:C.definition.concat(lr(m)),ruleStack:A,occurrenceStack:v});else if(C instanceof Bu)d.push(Tte(C,g,A,v));else throw Error("non exhaustive match")}return u}function Tte(n,e,t,r){const i=vr(t);i.push(n.name);const s=vr(r);return s.push(1),{idx:e,def:n.definition,ruleStack:i,occurrenceStack:s}}var wn;(function(n){n[n.OPTION=0]="OPTION",n[n.REPETITION=1]="REPETITION",n[n.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",n[n.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",n[n.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",n[n.ALTERNATION=5]="ALTERNATION"})(wn||(wn={}));function Xb(n){if(n instanceof Or||n==="Option")return wn.OPTION;if(n instanceof Wn||n==="Repetition")return wn.REPETITION;if(n instanceof ks||n==="RepetitionMandatory")return wn.REPETITION_MANDATORY;if(n instanceof Ns||n==="RepetitionMandatoryWithSeparator")return wn.REPETITION_MANDATORY_WITH_SEPARATOR;if(n instanceof rs||n==="RepetitionWithSeparator")return wn.REPETITION_WITH_SEPARATOR;if(n instanceof is||n==="Alternation")return wn.ALTERNATION;throw Error("non exhaustive match")}function Bte(n,e,t,r,i,s){const o=o6(n,e,t),a=eI(o)?a3:od;return s(o,r,a,i)}function Rte(n,e,t,r,i,s){const o=a6(n,e,i,t),a=eI(o)?a3:od;return s(o[0],a,r)}function Pte(n,e,t,r){const i=n.length,s=Wi(n,o=>Wi(o,a=>a.length===1));if(e)return function(o){const a=st(o,l=>l.GATE);for(let l=0;l<i;l++){const c=n[l],u=c.length,d=a[l];if(!(d!==void 0&&d.call(this)===!1))e:for(let p=0;p<u;p++){const m=c[p],g=m.length;for(let A=0;A<g;A++){const v=this.LA(A+1);if(t(v,m[A])===!1)continue e}return l}}};if(s&&!r){const o=st(n,l=>Vi(l)),a=ni(o,(l,c,u)=>(ut(c,d=>{lt(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=u),ut(d.categoryMatches,p=>{lt(l,p)||(l[p]=u)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<i;o++){const a=n[o],l=a.length;e:for(let c=0;c<l;c++){const u=a[c],d=u.length;for(let p=0;p<d;p++){const m=this.LA(p+1);if(t(m,u[p])===!1)continue e}return o}}}}function Dte(n,e,t){const r=Wi(n,s=>s.length===1),i=n.length;if(r&&!t){const s=Vi(n);if(s.length===1&&sn(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=ni(s,(a,l,c)=>(a[l.tokenTypeIdx]=!0,ut(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const o=n[s],a=o.length;for(let l=0;l<a;l++){const c=this.LA(l+1);if(e(c,o[l])===!1)continue e}return!0}return!1}}class Lte extends Qm{constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===t?(this.restDef=r.concat(i),!0):!1}walkOption(e,t,r){this.checkIsTarget(e,wn.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,wn.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,wn.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,wn.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,wn.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}}class $b extends Ru{constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,wn.OPTION)}visitRepetition(e){this.checkIsTarget(e,wn.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,wn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,wn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,wn.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,wn.ALTERNATION)}}function p7(n){const e=new Array(n);for(let t=0;t<n;t++)e[t]=[];return e}function A2(n){let e=[""];for(let t=0;t<n.length;t++){const r=n[t],i=[];for(let s=0;s<e.length;s++){const o=e[s];i.push(o+"_"+r.tokenTypeIdx);for(let a=0;a<r.categoryMatches.length;a++){const l="_"+r.categoryMatches[a];i.push(o+l)}}e=i}return e}function Fte(n,e,t){for(let r=0;r<n.length;r++){if(r===t)continue;const i=n[r];for(let s=0;s<e.length;s++){const o=e[s];if(i[o]===!0)return!1}}return!0}function Zb(n,e){const t=st(n,o=>s5([o],1)),r=p7(t.length),i=st(t,o=>{const a={};return ut(o,l=>{const c=A2(l.partialPath);ut(c,u=>{a[u]=!0})}),a});let s=t;for(let o=1;o<=e;o++){const a=s;s=p7(a.length);for(let l=0;l<a.length;l++){const c=a[l];for(let u=0;u<c.length;u++){const d=c[u].partialPath,p=c[u].suffixDef,m=A2(d);if(Fte(i,m,l)||sn(p)||d.length===e){const A=r[l];if(o5(A,d)===!1){A.push(d);for(let v=0;v<m.length;v++){const C=m[v];i[l][C]=!0}}}else{const A=s5(p,o+1,d);s[l]=s[l].concat(A),ut(A,v=>{const C=A2(v.partialPath);ut(C,x=>{i[l][x]=!0})})}}}}return r}function o6(n,e,t,r){const i=new $b(n,wn.ALTERNATION,r);return e.accept(i),Zb(i.result,t)}function a6(n,e,t,r){const i=new $b(n,t);e.accept(i);const s=i.result,a=new Lte(e,n,t).startWalking(),l=new Gr({definition:s}),c=new Gr({definition:a});return Zb([l,c],r)}function o5(n,e){e:for(let t=0;t<n.length;t++){const r=n[t];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],o=r[i];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function kte(n,e){return n.length<e.length&&Wi(n,(t,r)=>{const i=e[r];return t===i||i.categoryMatchesMap[t.tokenTypeIdx]})}function eI(n){return Wi(n,e=>Wi(e,t=>Wi(t,r=>sn(r.categoryMatches))))}function Nte(n){const e=n.lookaheadStrategy.validate({rules:n.rules,tokenTypes:n.tokenTypes,grammarName:n.grammarName});return st(e,t=>Object.assign({type:wr.CUSTOM_LOOKAHEAD_VALIDATION},t))}function Ote(n,e,t,r){const i=bi(n,l=>Ute(l,t)),s=Xte(n,e,t),o=bi(n,l=>jte(l,t)),a=bi(n,l=>Hte(l,n,r,t));return i.concat(s,o,a)}function Ute(n,e){const t=new Qte;n.accept(t);const r=t.allProductions,i=qZ(r,Gte),s=ns(i,a=>a.length>1);return st(Vn(s),a=>{const l=qi(a),c=e.buildDuplicateFoundError(n,a),u=vs(l),d={message:c,type:wr.DUPLICATE_PRODUCTIONS,ruleName:n.name,dslName:u,occurrence:l.idx},p=tI(l);return p&&(d.parameter=p),d})}function Gte(n){return`${vs(n)}_#_${n.idx}_#_${tI(n)}`}function tI(n){return n instanceof Cn?n.terminalType.name:n instanceof ri?n.nonTerminalName:""}class Qte extends Ru{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function Hte(n,e,t,r){const i=[];if(ni(e,(o,a)=>a.name===n.name?o+1:o,0)>1){const o=r.buildDuplicateRuleNameError({topLevelRule:n,grammarName:t});i.push({message:o,type:wr.DUPLICATE_RULE_NAME,ruleName:n.name})}return i}function zte(n,e,t){const r=[];let i;return Mr(e,n)||(i=`Invalid rule override, rule: ->${n}<- cannot be overridden in the grammar: ->${t}<-as it is not defined in any of the super grammars `,r.push({message:i,type:wr.INVALID_RULE_OVERRIDE,ruleName:n})),r}function nI(n,e,t,r=[]){const i=[],s=D0(e.definition);if(sn(s))return[];{const o=n.name;Mr(s,n)&&i.push({message:t.buildLeftRecursionError({topLevelRule:n,leftRecursionPath:r}),type:wr.LEFT_RECURSION,ruleName:o});const l=Um(s,r.concat([n])),c=bi(l,u=>{const d=vr(r);return d.push(u),nI(n,u,t,d)});return i.concat(c)}}function D0(n){let e=[];if(sn(n))return e;const t=qi(n);if(t instanceof ri)e.push(t.referencedRule);else if(t instanceof Gr||t instanceof Or||t instanceof ks||t instanceof Ns||t instanceof rs||t instanceof Wn)e=e.concat(D0(t.definition));else if(t instanceof is)e=Vi(st(t.definition,s=>D0(s.definition)));else if(!(t instanceof Cn))throw Error("non exhaustive match");const r=r3(t),i=n.length>1;if(r&&i){const s=lr(n);return e.concat(D0(s))}else return e}class l6 extends Ru{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function Vte(n,e){const t=new l6;n.accept(t);const r=t.alternations;return bi(r,s=>{const o=Th(s.definition);return bi(o,(a,l)=>{const c=Yb([a],[],od,1);return sn(c)?[{message:e.buildEmptyAlternationError({topLevelRule:n,alternation:s,emptyChoiceIdx:l}),type:wr.NONE_LAST_EMPTY_ALT,ruleName:n.name,occurrence:s.idx,alternative:l+1}]:[]})})}function Wte(n,e,t){const r=new l6;n.accept(r);let i=r.alternations;return i=Gm(i,o=>o.ignoreAmbiguities===!0),bi(i,o=>{const a=o.idx,l=o.maxLookahead||e,c=o6(a,n,l,o),u=qte(c,o,n,t),d=Yte(c,o,n,t);return u.concat(d)})}class Jte extends Ru{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function jte(n,e){const t=new l6;n.accept(t);const r=t.alternations;return bi(r,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:n,alternation:s}),type:wr.TOO_MANY_ALTS,ruleName:n.name,occurrence:s.idx}]:[])}function Kte(n,e,t){const r=[];return ut(n,i=>{const s=new Jte;i.accept(s);const o=s.allProductions;ut(o,a=>{const l=Xb(a),c=a.maxLookahead||e,u=a.idx,p=a6(u,i,l,c)[0];if(sn(Vi(p))){const m=t.buildEmptyRepetitionError({topLevelRule:i,repetition:a});r.push({message:m,type:wr.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function qte(n,e,t,r){const i=[],s=ni(n,(a,l,c)=>(e.definition[c].ignoreAmbiguities===!0||ut(l,u=>{const d=[c];ut(n,(p,m)=>{c!==m&&o5(p,u)&&e.definition[m].ignoreAmbiguities!==!0&&d.push(m)}),d.length>1&&!o5(i,u)&&(i.push(u),a.push({alts:d,path:u}))}),a),[]);return st(s,a=>{const l=st(a.alts,u=>u+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:t,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:wr.AMBIGUOUS_ALTS,ruleName:t.name,occurrence:e.idx,alternatives:a.alts}})}function Yte(n,e,t,r){const i=ni(n,(o,a,l)=>{const c=st(a,u=>({idx:l,path:u}));return o.concat(c)},[]);return id(bi(i,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,c=o.path,u=Di(i,p=>e.definition[p.idx].ignoreAmbiguities!==!0&&p.idx<l&&kte(p.path,c));return st(u,p=>{const m=[p.idx+1,l+1],g=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:t,alternation:e,ambiguityIndices:m,prefixPath:p.path}),type:wr.AMBIGUOUS_PREFIX_ALTS,ruleName:t.name,occurrence:g,alternatives:m}})}))}function Xte(n,e,t){const r=[],i=st(e,s=>s.name);return ut(n,s=>{const o=s.name;if(Mr(i,o)){const a=t.buildNamespaceConflictError(s);r.push({message:a,type:wr.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),r}function $te(n){const e=t6(n,{errMsgProvider:Ete}),t={};return ut(n.rules,r=>{t[r.name]=r}),Ste(t,e.errMsgProvider)}function Zte(n){return n=t6(n,{errMsgProvider:fl}),Ote(n.rules,n.tokenTypes,n.errMsgProvider,n.grammarName)}const rI="MismatchedTokenException",iI="NoViableAltException",sI="EarlyExitException",oI="NotAllInputParsedException",aI=[rI,iI,sI,oI];Object.freeze(aI);function l3(n){return Mr(aI,n.name)}class Vm extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class lI extends Vm{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=rI}}class ene extends Vm{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=iI}}class tne extends Vm{constructor(e,t){super(e,t),this.name=oI}}class nne extends Vm{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=sI}}const v2={},cI="InRuleRecoveryException";class rne extends Error{constructor(e){super(e),this.name=cI}}class ine{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=lt(e,"recoveryEnabled")?e.recoveryEnabled:pa.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=sne)}getTokenToInsert(e){const t=s6(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,i){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const d=()=>{const p=this.LA(0),m=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:p,ruleName:this.getCurrRuleFullName()}),g=new lI(m,c,this.LA(0));g.resyncedTokens=Th(a),this.SAVE_ERROR(g)};for(;!l;)if(this.tokenMatcher(u,i)){d();return}else if(r.call(this)){d(),e.apply(this,t);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){const r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new rne("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||sn(t))return!1;const r=this.LA(1);return Au(t,s=>this.tokenMatcher(r,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return Mr(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),r=2;for(;;){const i=Au(e,s=>Cte(t,s));if(i!==void 0)return i;t=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return v2;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return st(e,(r,i)=>i===0?v2:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=st(this.buildFullFollowKeyStack(),t=>this.getFollowSetFromFollowKey(t));return Vi(e)}getFollowSetFromFollowKey(e){if(e===v2)return[wl];const t=e.ruleName+e.idxInCallingRule+Ob+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,wl)||t.push(e),t}reSyncTo(e){const t=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return Th(t)}attemptInRepetitionRecovery(e,t,r,i,s,o,a){}getCurrentGrammarPath(e,t){const r=this.getHumanReadableRuleStack(),i=vr(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return st(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function sne(n,e,t,r,i,s,o){const a=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[a];if(l===void 0){const p=this.getCurrRuleFullName(),m=this.getGAstProductions()[p];l=new s(m,i).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&c===void 0&&(c=wl,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(n,e,t,c)}const one=4,Sa=8,uI=1<<Sa,fI=2<<Sa,a5=3<<Sa,l5=4<<Sa,c5=5<<Sa,L0=6<<Sa;function y2(n,e,t){return t|e|n}class ane{constructor(e){var t;this.maxLookahead=(t=e==null?void 0:e.maxLookahead)!==null&&t!==void 0?t:pa.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if(sn(t)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...i,...s]}return t}validateNoLeftRecursion(e){return bi(e,t=>nI(t,t,fl))}validateEmptyOrAlternatives(e){return bi(e,t=>Vte(t,fl))}validateAmbiguousAlternationAlternatives(e,t){return bi(e,r=>Wte(r,t,fl))}validateSomeNonEmptyLookaheadPath(e,t){return Kte(e,t,fl)}buildLookaheadForAlternation(e){return Bte(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Pte)}buildLookaheadForOptional(e){return Rte(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Xb(e.prodType),Dte)}}class lne{initLooksAhead(e){this.dynamicTokensEnabled=lt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:pa.dynamicTokensEnabled,this.maxLookahead=lt(e,"maxLookahead")?e.maxLookahead:pa.maxLookahead,this.lookaheadStrategy=lt(e,"lookaheadStrategy")?e.lookaheadStrategy:new ane({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){ut(e,t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=une(t);ut(r,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${vs(c)}${u}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:t,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=y2(this.fullRuleNameToShort[t.name],uI,c.idx);this.setLaFuncCache(p,d)})}),ut(i,c=>{this.computeLookaheadFunc(t,c.idx,a5,"Repetition",c.maxLookahead,vs(c))}),ut(s,c=>{this.computeLookaheadFunc(t,c.idx,fI,"Option",c.maxLookahead,vs(c))}),ut(o,c=>{this.computeLookaheadFunc(t,c.idx,l5,"RepetitionMandatory",c.maxLookahead,vs(c))}),ut(a,c=>{this.computeLookaheadFunc(t,c.idx,L0,"RepetitionMandatoryWithSeparator",c.maxLookahead,vs(c))}),ut(l,c=>{this.computeLookaheadFunc(t,c.idx,c5,"RepetitionWithSeparator",c.maxLookahead,vs(c))})})})}computeLookaheadFunc(e,t,r,i,s,o){this.TRACE_INIT(`${o}${t===0?"":t}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=y2(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,t){const r=this.getLastExplicitRuleShortName();return y2(r,e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}}class cne extends Ru{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const f0=new cne;function une(n){f0.reset(),n.accept(f0);const e=f0.dslMethods;return f0.reset(),e}function m7(n,e){isNaN(n.startOffset)===!0?(n.startOffset=e.startOffset,n.endOffset=e.endOffset):n.endOffset<e.endOffset&&(n.endOffset=e.endOffset)}function g7(n,e){isNaN(n.startOffset)===!0?(n.startOffset=e.startOffset,n.startColumn=e.startColumn,n.startLine=e.startLine,n.endOffset=e.endOffset,n.endColumn=e.endColumn,n.endLine=e.endLine):n.endOffset<e.endOffset&&(n.endOffset=e.endOffset,n.endColumn=e.endColumn,n.endLine=e.endLine)}function fne(n,e,t){n.children[t]===void 0?n.children[t]=[e]:n.children[t].push(e)}function hne(n,e,t){n.children[e]===void 0?n.children[e]=[t]:n.children[e].push(t)}const dne="name";function hI(n,e){Object.defineProperty(n,dne,{enumerable:!1,configurable:!0,writable:!1,value:e})}function pne(n,e){const t=ei(n),r=t.length;for(let i=0;i<r;i++){const s=t[i],o=n[s],a=o.length;for(let l=0;l<a;l++){const c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function mne(n,e){const t=function(){};hI(t,n+"BaseSemantics");const r={visit:function(i,s){if(Ut(i)&&(i=i[0]),!oo(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=Ane(this,e);if(!sn(i)){const s=st(i,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return t.prototype=r,t.prototype.constructor=t,t._RULE_NAMES=e,t}function gne(n,e,t){const r=function(){};hI(r,n+"BaseSemanticsWithDefaults");const i=Object.create(t.prototype);return ut(e,s=>{i[s]=pne}),r.prototype=i,r.prototype.constructor=r,r}var u5;(function(n){n[n.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",n[n.MISSING_METHOD=1]="MISSING_METHOD"})(u5||(u5={}));function Ane(n,e){return vne(n,e)}function vne(n,e){const t=Di(e,i=>fo(n[i])===!1),r=st(t,i=>({msg:`Missing visitor method: <${i}> on ${n.constructor.name} CST Visitor.`,type:u5.MISSING_METHOD,methodName:i}));return id(r)}class yne{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=lt(e,"nodeLocationTracking")?e.nodeLocationTracking:pa.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=zn,this.cstFinallyStateUpdate=zn,this.cstPostTerminal=zn,this.cstPostNonTerminal=zn,this.cstPostRule=zn;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=g7,this.setNodeLocationFromNode=g7,this.cstPostRule=zn,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=zn,this.setNodeLocationFromNode=zn,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=m7,this.setNodeLocationFromNode=m7,this.cstPostRule=zn,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=zn,this.setNodeLocationFromNode=zn,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=zn,this.setNodeLocationFromNode=zn,this.cstPostRule=zn,this.setInitialNodeLocation=zn;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){const r=this.CST_STACK[this.CST_STACK.length-1];fne(r,t,e),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){const r=this.CST_STACK[this.CST_STACK.length-1];hne(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(oo(this.baseCstVisitorConstructor)){const e=mne(this.className,ei(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(oo(this.baseCstVisitorWithDefaultsConstructor)){const e=gne(this.className,ei(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class xne{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):u3}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?u3:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class Cne{ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=f3){if(Mr(this.definedRulesNames,e)){const o={message:fl.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:wr.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const i=this.defineRule(e,t,r);return this[e]=i,i}OVERRIDE_RULE(e,t,r=f3){const i=zte(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,t,r);return this[e]=s,s}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,t),!0}catch(i){if(l3(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return See(Vn(this.gastProductionsCache))}}class Ene{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=a3,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},lt(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Ut(e)){if(sn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Ut(e))this.tokensMap=ni(e,(s,o)=>(s[o.name]=o,s),{});else if(lt(e,"modes")&&Wi(Vi(Vn(e.modes)),Ate)){const s=Vi(Vn(e.modes)),o=n6(s);this.tokensMap=ni(o,(a,l)=>(a[l.name]=l,a),{})}else if(Ti(e))this.tokensMap=vr(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=wl;const r=lt(e,"modes")?Vi(Vn(e.modes)):Vn(e),i=Wi(r,s=>sn(s.categoryMatches));this.tokenMatcher=i?a3:od,ad(Vn(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=lt(r,"resyncEnabled")?r.resyncEnabled:f3.resyncEnabled,s=lt(r,"recoveryValueFunc")?r.recoveryValueFunc:f3.recoveryValueFunc,o=this.ruleShortNameIdx<<one+Sa;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,u);const d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,i,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,u)}catch(d){return this.invokeRuleCatch(d,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){const i=this.RULE_STACK.length===1,s=t&&!this.isBackTracking()&&this.recoveryEnabled;if(l3(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(i)return this.moveToTerminatedState(),r(e);throw o}}else throw e}optionInternal(e,t){const r=this.getKeyForAutomaticLookahead(fI,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,t){const r=this.getKeyForAutomaticLookahead(l5,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let i=this.getLaFuncFromCache(r),s;if(typeof t!="function"){s=t.DEF;const o=t.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=t;if(i.call(this)===!0){let o=this.doSingleRepetition(s);for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,wn.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,l5,e,Mte)}atLeastOneSepFirstInternal(e,t){const r=this.getKeyForAutomaticLookahead(L0,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){const i=t.DEF,s=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,d7],a,L0,e,d7)}else throw this.raiseEarlyExitException(e,wn.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(e,t){const r=this.getKeyForAutomaticLookahead(a5,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let i=this.getLaFuncFromCache(r),s;if(typeof t!="function"){s=t.DEF;const a=t.GATE;if(a!==void 0){const l=i;i=()=>a.call(this)&&l.call(this)}}else s=t;let o=!0;for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,a5,e,wte,o)}manySepFirstInternal(e,t){const r=this.getKeyForAutomaticLookahead(c5,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){const i=t.DEF,s=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,h7],a,c5,e,h7)}}repetitionSepSecondInternal(e,t,r,i,s){for(;r();)this.CONSUME(t),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,i,s],r,L0,e,s)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const r=this.getKeyForAutomaticLookahead(uI,t),i=Ut(e)?e:e.DEF,o=this.getLaFuncFromCache(r).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new tne(t,e))}}subruleInternal(e,t,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=t,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,t,r){throw l3(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,t,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,t,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new lI(i,t,s))}consumeInternalRecovery(e,t,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===cI?r:s}}else throw r}saveRecogState(){const e=this.errors,t=vr(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),wl)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class Sne{initErrorHandler(e){this._errors=[],this.errorMessageProvider=lt(e,"errorMessageProvider")?e.errorMessageProvider:pa.errorMessageProvider}SAVE_ERROR(e){if(l3(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:vr(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return vr(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],a=a6(e,s,t,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new nne(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=o6(e,i,this.maxLookahead),o=[];for(let c=1;c<=this.maxLookahead;c++)o.push(this.LA(c));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new ene(l,this.LA(1),a))}}class _ne{initContentAssist(){}computeContentAssist(e,t){const r=this.gastProductionsCache[e];if(oo(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Yb([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=qi(e.ruleStack),i=this.getGAstProductions()[t];return new Ite(i,e).startWalking()}}const Wm={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Wm);const A7=!0,v7=Math.pow(2,Sa)-1,dI=Kb({name:"RECORDING_PHASE_TOKEN",pattern:Ii.NA});ad([dI]);const pI=s6(dI,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(pI);const bne={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class Ine{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${t}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${t}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${t}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${t}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${t}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${t}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${t}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let t=0;t<10;t++){const r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return u3}topLevelRuleRecord(e,t){try{const r=new Bu({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,t){return yf.call(this,Or,e,t)}atLeastOneInternalRecord(e,t){yf.call(this,ks,t,e)}atLeastOneSepFirstInternalRecord(e,t){yf.call(this,Ns,t,e,A7)}manyInternalRecord(e,t){yf.call(this,Wn,t,e)}manySepFirstInternalRecord(e,t){yf.call(this,rs,t,e,A7)}orInternalRecord(e,t){return wne.call(this,e,t)}subruleInternalRecord(e,t,r){if(c3(t),!e||lt(e,"ruleName")===!1){const a=new Error(`<SUBRULE${y7(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=gu(this.recordingProdStack),s=e.ruleName,o=new ri({idx:t,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?bne:Wm}consumeInternalRecord(e,t,r){if(c3(t),!Jb(e)){const o=new Error(`<CONSUME${y7(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=gu(this.recordingProdStack),s=new Cn({idx:t,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),pI}}function yf(n,e,t,r=!1){c3(t);const i=gu(this.recordingProdStack),s=fo(e)?e:e.DEF,o=new n({definition:[],idx:t});return r&&(o.separator=e.SEP),lt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),i.definition.push(o),this.recordingProdStack.pop(),Wm}function wne(n,e){c3(e);const t=gu(this.recordingProdStack),r=Ut(n)===!1,i=r===!1?n:n.DEF,s=new is({definition:[],idx:e,ignoreAmbiguities:r&&n.IGNORE_AMBIGUITIES===!0});lt(n,"MAX_LOOKAHEAD")&&(s.maxLookahead=n.MAX_LOOKAHEAD);const o=Lb(i,a=>fo(a.GATE));return s.hasPredicates=o,t.definition.push(s),ut(i,a=>{const l=new Gr({definition:[]});s.definition.push(l),lt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:lt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),Wm}function y7(n){return n===0?"":`${n}`}function c3(n){if(n<0||n>v7){const e=new Error(`Invalid DSL Method idx value: <${n}>
	Idx value must be a none negative value smaller than ${v7+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class Mne{initPerformanceTracer(e){if(lt(e,"traceInitPerf")){const t=e.traceInitPerf,r=typeof t=="number";this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=pa.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=kb(t),o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return t()}}function Tne(n,e){e.forEach(t=>{const r=t.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(n.prototype,i,s):n.prototype[i]=t.prototype[i]})})}const u3=s6(wl,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(u3);const pa=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:qb,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),f3=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var wr;(function(n){n[n.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",n[n.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",n[n.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",n[n.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",n[n.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",n[n.LEFT_RECURSION=5]="LEFT_RECURSION",n[n.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",n[n.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",n[n.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",n[n.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",n[n.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",n[n.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",n[n.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",n[n.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(wr||(wr={}));class Jm{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{Nb(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),ut(this.definedRulesNames,i=>{const o=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=$te({rules:Vn(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(sn(r)&&this.skipValidations===!1){const i=Zte({rules:Vn(this.gastProductionsCache),tokenTypes:Vn(this.tokensMap),errMsgProvider:fl,grammarName:t}),s=Nte({lookaheadStrategy:this.lookaheadStrategy,rules:Vn(this.gastProductionsCache),tokenTypes:Vn(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(i,s)}}),sn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=Bee(Vn(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:Vn(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Vn(this.gastProductionsCache))})),!Jm.DEFER_DEFINITION_ERRORS_HANDLING&&!sn(this.definitionErrors))throw e=st(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(t),r.initLexerAdapter(),r.initLooksAhead(t),r.initRecognizerEngine(e,t),r.initRecoverable(t),r.initTreeBuilder(t),r.initContentAssist(),r.initGastRecorder(t),r.initPerformanceTracer(t),lt(t,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=lt(t,"skipValidations")?t.skipValidations:pa.skipValidations}}Jm.DEFER_DEFINITION_ERRORS_HANDLING=!1;Tne(Jm,[ine,lne,yne,xne,Ene,Cne,Sne,_ne,Ine,Mne]);class Bne{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const r=this.workersResolve[e];if(r&&r(t),this.queue.length){const{resolve:i,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(r=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=r,this.workers[i].postMessage(e,t)):this.queue.push({resolve:r,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class Rne extends Yc{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Mn}}const x2=new WeakMap;let C2=0,E2;const Tf=class extends fr{constructor(n){super(n),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Bne,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(n){return this.transcoderPath=n,this}setWorkerLimit(n){return this.workerPool.setWorkerLimit(n),this}detectSupport(n){return this.workerConfig={astcSupported:n.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:n.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:n.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:n.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:n.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:n.extensions.has("WEBGL_compressed_texture_pvrtc")||n.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},n.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const n=new jn(this.manager);n.setPath(this.transcoderPath),n.setWithCredentials(this.withCredentials);const e=n.loadAsync("basis_transcoder.js"),t=new jn(this.manager);t.setPath(this.transcoderPath),t.setResponseType("arraybuffer"),t.setWithCredentials(this.withCredentials);const r=t.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=Tf.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Tf.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Tf.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Tf.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),l})}),C2>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),C2++}return this.transcoderPending}load(n,e,t,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new jn(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials),i.load(n,s=>{if(x2.has(s))return x2.get(s).promise.then(e).catch(r);this._createTexture(s).then(o=>e?e(o):null).catch(r)},t,r)}_createTextureFrom(n,e){const{mipmaps:t,width:r,height:i,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=n;if(o==="error")return Promise.reject(a);const u=e.layerCount>1?new Rne(t,r,i,e.layerCount,s,er):new Yc(t,r,i,s,er);return u.minFilter=t.length===1?tn:Yi,u.magFilter=tn,u.generateMipmaps=!1,u.needsUpdate=!0,"colorSpace"in u?u.colorSpace=l===k1?"srgb":"srgb-linear":u.encoding=l===k1?3001:3e3,u.premultiplyAlpha=!!(c&cz),u}async _createTexture(n,e={}){const t=dz(new Uint8Array(n));if(t.vkFormat!==a_)return Dne(t);const r=e,i=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:n,taskConfig:r},[n])).then(s=>this._createTextureFrom(s.data,t));return x2.set(n,{promise:i}),i}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),C2--,this}};let jm=Tf;Ie(jm,"BasisFormat",{ETC1S:0,UASTC_4x4:1});Ie(jm,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});Ie(jm,"EngineFormat",{RGBAFormat:Bn,RGBA_ASTC_4x4_Format:hh,RGBA_BPTC_Format:dh,RGBA_ETC2_EAC_Format:fh,RGBA_PVRTC_4BPPV1_Format:ch,RGBA_S3TC_DXT5_Format:Nc,RGB_ETC1_Format:sm,RGB_ETC2_Format:uh,RGB_PVRTC_4BPPV1_Format:lh,RGB_S3TC_DXT1_Format:kc});Ie(jm,"BasisWorker",function(){let n,e,t;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(g){const A=g.data;switch(A.type){case"init":n=A.config,o(A.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:v,height:C,hasAlpha:x,mipmaps:E,format:_,dfdTransferFn:I,dfdFlags:M}=a(A.buffer),T=[];for(let w=0;w<E.length;++w)T.push(E[w].data.buffer);self.postMessage({type:"transcode",id:A.id,width:v,height:C,hasAlpha:x,mipmaps:E,format:_,dfdTransferFn:I,dfdFlags:M},T)}catch(v){console.error(v),self.postMessage({type:"error",id:A.id,error:v.message})}});break}});function o(g){e=new Promise(A=>{t={wasmBinary:g,onRuntimeInitialized:A},BASIS(t)}).then(()=>{t.initializeBasis(),t.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(g){const A=new t.KTX2File(new Uint8Array(g));function v(){A.close(),A.delete()}if(!A.isValid())throw v(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const C=A.isUASTC()?s.UASTC_4x4:s.ETC1S,x=A.getWidth(),E=A.getHeight(),_=A.getLayers()||1,I=A.getLevels(),M=A.getHasAlpha(),T=A.getDFDTransferFunc(),w=A.getDFDFlags(),{transcoderFormat:R,engineFormat:D}=d(C,x,E,M);if(!x||!E||!I)throw v(),new Error("THREE.KTX2Loader:	Invalid texture");if(!A.startTranscoding())throw v(),new Error("THREE.KTX2Loader: .startTranscoding failed");const P=[];for(let z=0;z<I;z++){const q=[];let k,Q;for(let V=0;V<_;V++){const Y=A.getImageLevelInfo(z,V,0);k=Y.origWidth<4?Y.origWidth:Y.width,Q=Y.origHeight<4?Y.origHeight:Y.height;const G=new Uint8Array(A.getImageTranscodedSizeInBytes(z,V,0,R));if(!A.transcodeImage(G,z,V,0,R,0,-1,-1))throw v(),new Error("THREE.KTX2Loader: .transcodeImage failed.");q.push(G)}P.push({data:m(q),width:k,height:Q})}return v(),{width:x,height:E,hasAlpha:M,mipmaps:P,format:D,dfdTransferFn:T,dfdFlags:w}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(g,A){return g.priorityETC1S-A.priorityETC1S}),u=l.sort(function(g,A){return g.priorityUASTC-A.priorityUASTC});function d(g,A,v,C){let x,E;const _=g===s.ETC1S?c:u;for(let I=0;I<_.length;I++){const M=_[I];if(n[M.if]&&M.basisFormat.includes(g)&&!(C&&M.transcoderFormat.length<2)&&!(M.needsPowerOfTwo&&!(p(A)&&p(v))))return x=M.transcoderFormat[C?1:0],E=M.engineFormat[C?1:0],{transcoderFormat:x,engineFormat:E}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),x=i.RGBA32,E=r.RGBAFormat,{transcoderFormat:x,engineFormat:E}}function p(g){return g<=2?!0:(g&g-1)===0&&g!==0}function m(g){let A=0;for(let x=0;x<g.length;x++){const E=g[x];A+=E.byteLength}const v=new Uint8Array(A);let C=0;for(let x=0;x<g.length;x++){const E=g[x];v.set(E,C),C+=E.byteLength}return v}});const x7={[g_]:Bn,[d_]:Bn,[u_]:Bn,[Pv]:Bn,[m_]:wc,[h_]:wc,[c_]:wc,[Rv]:wc,[p_]:al,[f_]:al,[Bv]:al,[l_]:al},S2={[g_]:Fr,[d_]:kn,[u_]:er,[Pv]:er,[m_]:Fr,[h_]:kn,[c_]:er,[Rv]:er,[p_]:Fr,[f_]:kn,[Bv]:er,[l_]:er},Pne={[Pv]:3001,[Rv]:3001,[Bv]:3001};async function Dne(n){const{vkFormat:e,pixelWidth:t,pixelHeight:r,pixelDepth:i}=n;if(x7[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=n.levels[0];let o,a;if(n.supercompressionScheme===o_)o=s.levelData;else if(n.supercompressionScheme===rz)E2||(E2=new Promise(async c=>{const u=new pz;await u.init(),c(u)})),o=(await E2).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");S2[e]===Fr?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):S2[e]===kn?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=i===0?new Es(a,t,r):new rK(a,t,r,i);return l.type=S2[e],l.format=x7[e],l.encoding=Pne[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}const _2=new WeakMap,Bf=class extends fr{constructor(n){super(n),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(n){return this.transcoderPath=n,this}setWorkerLimit(n){return this.workerLimit=n,this}detectSupport(n){return this.workerConfig={astcSupported:n.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:n.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:n.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:n.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:n.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:n.extensions.has("WEBGL_compressed_texture_pvrtc")||n.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(n,e,t,r){const i=new jn(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const s=new Yc;return i.load(n,o=>{if(_2.has(o))return _2.get(o).promise.then(e).catch(r);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(r)},t,r),s}parseInternalAsync(n){const{levels:e}=n,t=new Set;for(let r=0;r<e.length;r++)t.add(e[r].data.buffer);return this._createTexture(Array.from(t),{...n,lowLevel:!0})}_createTexture(n,e={}){let t,r;const i=e;let s=0;for(let a=0;a<n.length;a++)s+=n[a].byteLength;const o=this._allocateWorker(s).then(a=>(t=a,r=this.workerNextTaskID++,new Promise((l,c)=>{t._callbacks[r]={resolve:l,reject:c},t.postMessage({type:"transcode",id:r,buffers:n,taskConfig:i},n)}))).then(a=>{const{mipmaps:l,width:c,height:u,format:d}=a,p=new Yc(l,c,u,d,er);return p.minFilter=l.length===1?tn:Yi,p.magFilter=tn,p.generateMipmaps=!1,p.needsUpdate=!0,p});return o.catch(()=>!0).then(()=>{t&&r&&(t._taskLoad-=s,delete t._callbacks[r])}),_2.set(n[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const n=new jn(this.manager);n.setPath(this.transcoderPath),n.setWithCredentials(this.withCredentials);const e=new Promise((i,s)=>{n.load("basis_transcoder.js",i,void 0,s)}),t=new jn(this.manager);t.setPath(this.transcoderPath),t.setResponseType("arraybuffer"),t.setWithCredentials(this.withCredentials);const r=new Promise((i,s)=>{t.load("basis_transcoder.wasm",i,void 0,s)});this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=Bf.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Bf.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Bf.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Bf.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(n){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskLoad=0,t.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),t.onmessage=function(r){const i=r.data;switch(i.type){case"transcode":t._callbacks[i.id].resolve(i);break;case"error":t._callbacks[i.id].reject(i);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort(function(t,r){return t._taskLoad>r._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=n,e})}dispose(){for(let n=0;n<this.workerPool.length;n++)this.workerPool[n].terminate();return this.workerPool.length=0,this}};let Km=Bf;Ie(Km,"BasisFormat",{ETC1S:0,UASTC_4x4:1});Ie(Km,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});Ie(Km,"EngineFormat",{RGBAFormat:Bn,RGBA_ASTC_4x4_Format:hh,RGBA_BPTC_Format:dh,RGBA_ETC2_EAC_Format:fh,RGBA_PVRTC_4BPPV1_Format:ch,RGBA_S3TC_DXT5_Format:Nc,RGB_ETC1_Format:sm,RGB_ETC2_Format:uh,RGB_PVRTC_4BPPV1_Format:lh,RGB_S3TC_DXT1_Format:kc});Ie(Km,"BasisWorker",function(){let n,e,t;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;onmessage=function(x){const E=x.data;switch(E.type){case"init":n=E.config,o(E.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:_,height:I,hasAlpha:M,mipmaps:T,format:w}=E.taskConfig.lowLevel?a(E.taskConfig):l(E.buffers[0]),R=[];for(let D=0;D<T.length;++D)R.push(T[D].data.buffer);self.postMessage({type:"transcode",id:E.id,width:_,height:I,hasAlpha:M,mipmaps:T,format:w},R)}catch(_){console.error(_),self.postMessage({type:"error",id:E.id,error:_.message})}});break}};function o(x){e=new Promise(E=>{t={wasmBinary:x,onRuntimeInitialized:E},BASIS(t)}).then(()=>{t.initializeBasis()})}function a(x){const{basisFormat:E,width:_,height:I,hasAlpha:M}=x,{transcoderFormat:T,engineFormat:w}=p(E,_,I,M),R=t.getBytesPerBlockOrPixel(T);m(t.isFormatSupported(T),"THREE.BasisTextureLoader: Unsupported format.");const D=[];if(E===s.ETC1S){const P=new t.LowLevelETC1SImageTranscoder,{endpointCount:z,endpointsData:q,selectorCount:k,selectorsData:Q,tablesData:V}=x.globalData;try{let Y;Y=P.decodePalettes(z,q,k,Q),m(Y,"THREE.BasisTextureLoader: decodePalettes() failed."),Y=P.decodeTables(V),m(Y,"THREE.BasisTextureLoader: decodeTables() failed.");for(let G=0;G<x.levels.length;G++){const j=x.levels[G],K=x.globalData.imageDescs[G],ee=v(T,j.width,j.height),X=new Uint8Array(ee);Y=P.transcodeImage(T,X,ee/R,j.data,g(T,j.width),A(T,j.height),j.width,j.height,j.index,K.rgbSliceByteOffset,K.rgbSliceByteLength,K.alphaSliceByteOffset,K.alphaSliceByteLength,K.imageFlags,M,!1,0,0),m(Y,"THREE.BasisTextureLoader: transcodeImage() failed for level "+j.index+"."),D.push({data:X,width:j.width,height:j.height})}}finally{P.delete()}}else for(let P=0;P<x.levels.length;P++){const z=x.levels[P],q=v(T,z.width,z.height),k=new Uint8Array(q),Q=t.transcodeUASTCImage(T,k,q/R,z.data,g(T,z.width),A(T,z.height),z.width,z.height,z.index,0,z.data.byteLength,0,M,!1,0,0,-1,-1);m(Q,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+z.index+"."),D.push({data:k,width:z.width,height:z.height})}return{width:_,height:I,hasAlpha:M,mipmaps:D,format:w}}function l(x){const E=new t.BasisFile(new Uint8Array(x)),_=E.isUASTC()?s.UASTC_4x4:s.ETC1S,I=E.getImageWidth(0,0),M=E.getImageHeight(0,0),T=E.getNumLevels(0),w=E.getHasAlpha();function R(){E.close(),E.delete()}const{transcoderFormat:D,engineFormat:P}=p(_,I,M,w);if(!I||!M||!T)throw R(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!E.startTranscoding())throw R(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const z=[];for(let q=0;q<T;q++){const k=E.getImageWidth(0,q),Q=E.getImageHeight(0,q),V=new Uint8Array(E.getImageTranscodedSizeInBytes(0,q,D));if(!E.transcodeImage(V,0,q,D,0,w))throw R(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");z.push({data:V,width:k,height:Q})}return R(),{width:I,height:M,hasAlpha:w,mipmaps:z,format:P}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(x,E){return x.priorityETC1S-E.priorityETC1S}),d=c.sort(function(x,E){return x.priorityUASTC-E.priorityUASTC});function p(x,E,_,I){let M,T;const w=x===s.ETC1S?u:d;for(let R=0;R<w.length;R++){const D=w[R];if(n[D.if]&&D.basisFormat.includes(x)&&!(D.needsPowerOfTwo&&!(C(E)&&C(_))))return M=D.transcoderFormat[I?1:0],T=D.engineFormat[I?1:0],{transcoderFormat:M,engineFormat:T}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),M=i.RGBA32,T=r.RGBAFormat,{transcoderFormat:M,engineFormat:T}}function m(x,E){if(!x)throw new Error(E)}function g(x,E){return Math.ceil(E/t.getFormatBlockWidth(x))}function A(x,E){return Math.ceil(E/t.getFormatBlockHeight(x))}function v(x,E,_){const I=t.getBytesPerBlockOrPixel(x);if(t.formatIsUncompressed(x))return E*_*I;if(x===i.PVRTC1_4_RGB||x===i.PVRTC1_4_RGBA){const M=E+3&-4,T=_+3&-4;return(Math.max(8,M)*Math.max(8,T)*4+7)/8}return g(x,E)*A(x,_)*I}function C(x){return x<=2?!0:(x&x-1)===0&&x!==0}});const b2=new WeakMap;class mI extends fr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new jn(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(b2.has(e)){const l=b2.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),b2.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new mt;e.index&&t.setIndex(new zt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new zt(o,a))}return t}_loadLibrary(e,t){const r=new jn(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Lne.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Lne(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(d,p,m,c),A=g.attributes.map(v=>v.array.buffer);g.index&&A.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},A)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(g===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const A={index:null,attributes:[]};for(const v in u){const C=self[d[v]];let x,E;if(c.useUniqueIDs)E=u[v],x=a.GetAttributeByUniqueId(p,E);else{if(E=a.GetAttributeId(p,o[u[v]]),E===-1)continue;x=a.GetAttribute(p,E)}A.attributes.push(i(o,a,p,v,C,x))}return g===o.TRIANGULAR_MESH&&(A.index=r(o,a,p)),o.destroy(p),A}function r(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,d){const p=d.num_components(),g=l.num_points()*p,A=g*u.BYTES_PER_ELEMENT,v=s(o,u),C=o._malloc(A);a.GetAttributeDataArrayForAllPoints(l,d,v,A,C);const x=new u(o.HEAPF32.buffer,C,g).slice();return o._free(C),{name:c,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let h0;const I2=()=>{if(h0)return h0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let g=0;g<d.length;++g){const A=d.charCodeAt(g);p[g]=A>96?A-71:A>64?A-65:A>47?A+4:A>46?63:62}let m=0;for(let g=0;g<d.length;++g)p[m++]=p[g]<60?r[p[g]]:(p[g]-60)*64+p[++g];return p.buffer.slice(0,m)}function l(d,p,m,g,A,v){const C=s.exports.sbrk,x=m+3&-4,E=C(x*g),_=C(A.length),I=new Uint8Array(s.exports.memory.buffer);I.set(A,_);const M=d(E,m,g,_,A.length);if(M===0&&v&&v(E,x,g),p.set(I.subarray(E,E+m*g)),C(E-C(0)),M!==0)throw new Error(`Malformed buffer data: ${M}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return h0={ready:o,supported:!0,decodeVertexBuffer(d,p,m,g,A){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,g,s.exports[c[A]])},decodeIndexBuffer(d,p,m,g){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,g)},decodeIndexSequence(d,p,m,g){l(s.exports.meshopt_decodeIndexSequence,d,p,m,g)},decodeGltfBuffer(d,p,m,g,A,v){l(s.exports[u[A]],d,p,m,g,s.exports[c[v]])}},h0};ua.enabled=!0;const gI=new mI,Fne=new Mm;gI.setDecoderPath("/draco/");Fne.setDRACOLoader(gI);new yv;const kne=n=>{n==null||n.traverse(e=>{if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)C7(e.material);else for(const t of e.material)C7(t)})},C7=n=>{var e,t,r;n.dispose();for(const i of Object.keys(n)){const s=n[i];s&&typeof s=="object"&&"minFilter"in s&&(s.dispose(),(r=(t=(e=s.source)==null?void 0:e.data)==null?void 0:t.close)==null||r.call(t))}},Nne=n=>{n.dispose(),n=null},One=n=>{for(const e of n)e.parent.remove(e)},Une=`#define PHONG

uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;

uniform float time;
varying vec2 vUv;
varying vec3 newPosition;
varying float noise;

#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {
	#include <clipping_planes_fragment>

  vec3 color = vec3(vUv * (0.2 - 2.0 * noise), 1.0);
  vec3 finalColors = vec3(color.b * 1.5, color.r, color.r);
  vec4 diffuseColor = vec4(cos(finalColors * noise * 3.0), 1.0);
  ReflectedLight reflectedLight = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));
  vec3 totalEmissiveRadiance = emissive;

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>

	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
  
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>

  gl_FragColor = vec4(outgoingLight, diffuseColor.a);
}`,Gne=`#define PHONG

vec3 mod289(vec3 x)
{
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 mod289(vec4 x)
{
  return x - floor(x * (1.0 / 289.0)) * 289.0;
}

vec4 permute(vec4 x)
{
  return mod289(((x*34.0)+1.0)*x);
}

vec4 taylorInvSqrt(vec4 r)
{
  return 1.79284291400159 - 0.85373472095314 * r;
}

vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

// Classic Perlin noise
float cnoise(vec3 P)
{
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return 2.2 * n_xyz;
}

// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return 2.2 * n_xyz;
}

float turbulence(vec3 p) {
  float w = 100.0;
  float t = -.5;
  for (float f = 1.0 ; f <= 10.0 ; f++) {
    float power = pow(2.0, f);
    t += abs(pnoise(vec3(power * p), vec3(10.0, 10.0, 10.0)) / power);
  }
  return t;
}

// START
uniform float time;
varying vec2 vUv;
varying float noise;

varying vec3 vViewPosition;

#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>

	vViewPosition = - mvPosition.xyz;

	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>

  vUv = uv;

  noise = turbulence(0.01 * position + normal + time * 0.8);
  vec3 displacement = vec3((position.x) * noise, position.y * noise, position.z * noise);
  gl_Position = projectionMatrix * modelViewMatrix * vec4((position + normal) + displacement, 1.0);
}`,E7={stiffness:30,damping:20,mass:2},Qne=.45,Hne=n=>{const e=F.useRef(Date.now()),t=F.useRef(),r=F.useRef(),i=F.useRef(),s=F.useRef(),o=F.useRef(),a=F.useRef(),l=F.useRef(),c=F.useRef(),u=F.useRef(),d=F.useRef(),p=tE(),m=wF(t),g=MF(),A=o1(0,E7),v=o1(0,E7),{measureFps:C,isLowFps:x}=TF(m),E=lC("(max-width:600px)");F.useEffect(()=>{const{innerWidth:M,innerHeight:T}=window;return r.current=new he(.8,.5),i.current=new hm({canvas:t.current,antialias:!1,alpha:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0}),i.current.setSize(M,T),i.current.setPixelRatio(1),i.current.outputEncoding=an,s.current=new $t(54,M/T,.1,100),s.current.position.z=52,o.current=new Ah,c.current=new mv,c.current.onBeforeCompile=w=>{l.current=An.merge([w.uniforms,{time:{type:"f",value:0}}]),w.uniforms=l.current,w.vertexShader=Gne,w.fragmentShader=Une},F.startTransition(()=>{u.current=new la(32,128,128),d.current=new Kt(u.current,c.current),d.current.position.z=0,d.current.modifier=Math.random(),o.current.add(d.current)}),()=>{kne(o.current),Nne(i.current)}},[]),F.useEffect(()=>{const M=new Cm("white",.6),T=new Sv("white",.1);return M.position.z=200,M.position.x=100,M.position.y=100,a.current=[M,T],a.current.forEach(w=>o.current.add(w)),()=>{One(a.current)}},[]),F.useEffect(()=>{let{width:M,height:T}=g;const w=T+T*.3;i.current.setSize(M,w),s.current.aspect=M/w,s.current.updateProjectionMatrix(),p&&i.current.render(o.current,s.current),M<=Sx.mobile?(d.current.position.x=14,d.current.position.y=10):M<=Sx.tablet?(d.current.position.x=18,d.current.position.y=14):(d.current.position.x=22,d.current.position.y=16)},[p,g]),F.useEffect(()=>{const M=T=>{const w={x:T.clientX/window.innerWidth,y:T.clientY/window.innerHeight};A.set(w.y/2),v.set(w.x/2)};return!E&&!p&&m&&window.addEventListener("mousemove",M),()=>{window.removeEventListener("mousemove",M)}},[m,p,A,v,E]),F.useEffect(()=>{let M;const T=()=>{M=requestAnimationFrame(T),l.current!==void 0&&(l.current.time.value=5e-5*(Date.now()-e.current)),d.current.rotation.z+=.001,d.current.rotation.x=A.get(),d.current.rotation.y=v.get(),i.current.render(o.current,s.current),C(),x.current?i.current.setPixelRatio(.5):i.current.setPixelRatio(1)};return!p&&m?T():i.current.render(o.current,s.current),()=>{cancelAnimationFrame(M)}},[m,C,p,x,A,v]);const[_,I]=F.useState(0);return F.useEffect(()=>{I(1)},[]),F.useEffect(()=>{const M=()=>{t.current&&(t.current.style.transform=`translateY(${window.scrollY*Qne}px)`)};return E||window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)},[E]),$.jsx("canvas",{style:{opacity:`${_}`,position:"absolute",width:"100dvw",inset:0,transition:"opacity 3s cubic-bezier(0.4, 0.0, 0.2, 1)"},"aria-hidden":!0,ref:t,...n})},zne="_StyledSideElement_sty2z_1",Vne="_left_sty2z_8",Wne="_StyledSocialList_sty2z_26",Jne="_feather_sty2z_82",jne="_bar_sty2z_101",h3={StyledSideElement:zne,left:Vne,StyledSocialList:Wne,feather:Jne,bar:jne},Kne=600+1e3,qne=1e3,Yne="fadeup",Xne=({children:n})=>$.jsx("div",{className:[h3.StyledSideElement,h3.left].join(" "),children:n}),$ne=()=>{const[n,e]=F.useState(!1),t=lC("(max-width: 767.5px)");return F.useEffect(()=>{if(t)return;const r=setTimeout(()=>e(!0),Kne);return()=>clearTimeout(r)},[t]),t?null:$.jsx(Xne,{children:$.jsx("ul",{className:h3.StyledSocialList,children:$.jsx(cC,{component:null,children:n&&ey&&[{},...ey,{}].map(({url:r,name:i},s)=>$.jsx(uC,{mountOnEnter:!1,classNames:Yne,timeout:qne,children:$.jsx("li",{style:{transitionDelay:`${s+1}00ms`},children:r?$.jsx("a",{href:r,"aria-label":i,target:"_blank",rel:"noreferrer",children:$.jsx(K2,{name:i})}):$.jsx("div",{className:h3.bar,style:{transitionDelay:`${s+1}00ms`}})},`icon-li-${s}`)},`icon-transition-element-${s}`))})})})},Zne="_footer_w6t3y_6",ere="_nameLink_w6t3y_19",S7={footer:Zne,nameLink:ere},tre=()=>$.jsxs("footer",{className:S7.footer,children:[$.jsxs("div",{children:["Copyright © ",new Date().getFullYear()," All rights reserved"]}),$.jsxs("div",{children:["Made with ❤️ by"," ",$.jsx("a",{className:S7.nameLink,href:"https://www.linkedin.com/in/kaushik-dutta-a19b67352/",target:"_blank",rel:"noopener noreferrer",children:"Kaushik Dutta"})]})]});async function nre(n){return new Promise(e=>setTimeout(e,n))}const rre="_text_1wpec_1",ire="_glyph_1wpec_7",sre="_value_1wpec_14",ore="_hidden_1wpec_18",F0={text:rre,glyph:ire,value:sre,hidden:ore},are=["क","ख","ग","घ","च","छ","ज","झ","ञ","ट","ठ","ड","ढ","ण","त","थ","द","ध","न","प","फ","ब","भ","म","य","र","ल","व","श","ष","स","ह","क्ष","त्र","र"],_7=are,Kf={Glyph:"glyph",Value:"value"};function lre(n,e,t){return n.map((r,i)=>{if(i<t)return{type:Kf.Value,value:r};if(t%1<.5){const s=Math.floor(Math.random()*_7.length);return{type:Kf.Glyph,value:_7[s]}}return{type:Kf.Glyph,value:e[i].value}})}const cre={stiffness:8,damping:5},ure=F.memo(({text:n,start:e=!0,delay:t=0,eachCharClass:r,className:i,...s})=>{const o=F.useRef([{type:Kf.Glyph,value:""}]),a=F.useRef(),l=tE(),c=o1(0,cre);return F.useEffect(()=>{const u=a.current,d=n.split("");let p;const m=()=>{const v=o.current.map((C,x)=>`<span class="${F0[C.type]} ${r+x}">${C.value}</span>`);u.innerHTML=v.join("")},g=c.onChange(v=>{o.current=lre(d,o.current,v),m()});return e&&!p&&!l&&(async()=>{await nre(t),c.set(d.length)})(),l&&(o.current=d.map((v,C)=>({type:Kf.Value,value:d[C]})),m()),()=>{g==null||g()}},[c,l,e,t,n,r]),$.jsxs("span",{className:nz(F0.text,i),...s,children:[$.jsx(fre,{text:n}),$.jsx("span",{"aria-hidden":!0,className:F0.content,ref:a})]})}),fre=({text:n})=>$.jsx("span",{className:F0.hidden,"data-show-on-focus":!1,"data-hidden":!0,children:n});function hre({data:n,delay:e=1e3}){const t=F.useRef(null);return F.useEffect(()=>{if(!t.current)return;const r=t.current,i=new dre(r);let s=null,o=0;const a=()=>{i.setText(n[o]).then(()=>{s=setTimeout(a,e)}),o=(o+1)%n.length};return a(),()=>s&&clearTimeout(s)},[n,e]),$.jsx("div",{className:"scramblingText_text",ref:t})}class dre{constructor(e){this.el=e,this.chars="!<>-_\\/[]{}—=+*^?#________",this.update=this.update.bind(this)}setText(e){const t=this.el.innerText,r=Math.max(t.length,e.length),i=new Promise(s=>this.resolve=s);this.queue=[];for(let s=0;s<r;s++){const o=t[s]||"",a=e[s]||"",l=Math.floor(Math.random()*40),c=l+Math.floor(Math.random()*40);this.queue.push({from:o,to:a,start:l,end:c})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),i}update(){let e="",t=0;for(let r=0,i=this.queue.length;r<i;r++){let{from:s,to:o,start:a,end:l,char:c}=this.queue[r];this.frame>=l?(t++,e+=o):this.frame>=a?((!c||Math.random()<.28)&&(c=this.randomChar(),this.queue[r].char=c),e+=`<span class="scramblingText_dud">${c}</span>`):e+=s}this.el.innerHTML=e,t===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}const pre=()=>{const n="fadeup",[r,i]=F.useState(!1);F.useEffect(()=>{const o=setTimeout(()=>i(!0),1e3);return()=>clearTimeout(o)},[]);const s=[$.jsx("div",{style:{paddingBottom:15},className:"hithere font-2-4",children:"Hi There !"}),$.jsx("h1",{className:"myname mb-1x font-2-4",children:$.jsx(ure,{text:`I’m ${lM}`,eachCharClass:"namechar",delay:250})}),$.jsx("h3",{children:cM}),$.jsx("div",{className:"mytextcolorwhite fluidz-48 mb-5 font-2-4",style:{fontWeight:500},children:$.jsx(hre,{data:uM,delay:1500})})];return $.jsx("section",{id:"home",className:"section",children:$.jsx("div",{className:"intro_sec d-flex align-items-center",children:$.jsx("div",{className:"intro mx-auto",children:$.jsx(cC,{component:null,children:r&&s.map((o,a)=>$.jsx(uC,{mountOnEnter:!1,classNames:n,timeout:1e3,children:$.jsx("div",{style:{transitionDelay:`${a+1}00ms`},children:o})},`intro-transition-${a}`))})})})})},mre="_mainComponent_1kp2s_1",gre={mainComponent:mre},Are={},vre="_wrapper_1nt2h_1",yre="_subText_1nt2h_5",xre="_headText_1nt2h_12",w2={wrapper:vre,subText:yre,headText:xre},AI=({headText:n,subText:e})=>$.jsxs("div",{className:w2.wrapper,children:[$.jsx("p",{className:w2.subText,children:e}),$.jsx("h2",{className:w2.headText,children:n})]}),Cre="_skills_wrapper_18la0_3",Ere="_skills_section_18la0_13",Sre="_skills_line_18la0_19",_re="_skill_bubble_container_18la0_27",bre="_skill_img_container_18la0_32",Ire="_skill_title_18la0_39",wre="_skills_container_18la0_46",Mre="_skill_category_container_18la0_57",Tre="_arrow_img_container_18la0_74",hl={skills_wrapper:Cre,skills_section:Ere,skills_line:Sre,skill_bubble_container:_re,skill_img_container:bre,skill_title:Ire,skills_container:wre,skill_category_container:Mre,arrow_img_container:Tre};var Yo={},qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.on=Bre;qm.off=Rre;function Bre(n,e,t,r){r=r||!1,n.addEventListener?n.addEventListener(e,t,r):n.attachEvent&&n.attachEvent("on"+e,function(i){t.call(n,i||window.event)})}function Rre(n,e,t,r){r=r||!1,n.removeEventListener?n.removeEventListener(e,t,r):n.detachEvent&&n.detachEvent("on"+e,t)}var c6={};Object.defineProperty(c6,"__esModule",{value:!0});c6.default=function(n){if(!(n instanceof HTMLElement))return document.documentElement;for(var e=n.style.position==="absolute",t=/(scroll|auto)/,r=n;r;){if(!r.parentNode)return n.ownerDocument||document.documentElement;var i=window.getComputedStyle(r),s=i.position,o=i.overflow,a=i["overflow-x"],l=i["overflow-y"];if(s==="static"&&e){r=r.parentNode;continue}if(t.test(o)&&t.test(a)&&t.test(l))return r;r=r.parentNode}return n.ownerDocument||n.documentElement||document.documentElement};var u6={};Object.defineProperty(u6,"__esModule",{value:!0});u6.default=Pre;function Pre(n,e,t){var r=void 0,i=void 0,s=void 0,o=void 0,a=void 0,l=function c(){var u=+new Date-o;u<e&&u>=0?r=setTimeout(c,e-u):(r=null,t||(a=n.apply(s,i),r||(s=null,i=null)))};return function(){s=this,i=arguments,o=+new Date;var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=null,i=null),a}}var f6={};Object.defineProperty(f6,"__esModule",{value:!0});f6.default=Dre;function Dre(n,e,t){e||(e=250);var r,i;return function(){var s=t||this,o=+new Date,a=arguments;r&&o<r+e?(clearTimeout(i),i=setTimeout(function(){r=o,n.apply(s,a)},e)):(r=o,n.apply(s,a))}}Object.defineProperty(Yo,"__esModule",{value:!0});Yo.forceVisible=Yo.forceCheck=Yo.lazyload=void 0;var vI=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),h6=F,d3=ld(h6),Lre=fM,nn=ld(Lre),xc=qm,Fre=c6,f5=ld(Fre),kre=u6,Nre=ld(kre),Ore=f6,Ure=ld(Ore);function ld(n){return n&&n.__esModule?n:{default:n}}function yI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xI(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function CI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ms={top:0,right:0,bottom:0,left:0,width:0,height:0},xf="data-lazyload-listened",zi=[],h5=[],EI=!1;try{var Gre=Object.defineProperty({},"passive",{get:function(){EI=!0}});window.addEventListener("test",null,Gre)}catch{}var Uo=EI?{capture:!1,passive:!0}:!1,Qre=function(e,t){var r=e.ref,i=void 0,s=void 0,o=void 0,a=void 0;try{var l=t.getBoundingClientRect();i=l.top,s=l.left,o=l.height,a=l.width}catch{i=ms.top,s=ms.left,o=ms.height,a=ms.width}var c=window.innerHeight||document.documentElement.clientHeight,u=window.innerWidth||document.documentElement.clientWidth,d=Math.max(i,0),p=Math.max(s,0),m=Math.min(c,i+o)-d,g=Math.min(u,s+a)-p,A=void 0,v=void 0,C=void 0,x=void 0;try{var E=r.getBoundingClientRect();A=E.top,v=E.left,C=E.height,x=E.width}catch{A=ms.top,v=ms.left,C=ms.height,x=ms.width}var _=A-d,I=v-p,M=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return _-M[0]<=m&&_+C+M[1]>=0&&I-M[0]<=g&&I+x+M[1]>=0},Hre=function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var r=void 0,i=void 0;try{var s=t.getBoundingClientRect();r=s.top,i=s.height}catch{r=ms.top,i=ms.height}var o=window.innerHeight||document.documentElement.clientHeight,a=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return r-a[0]<=o&&r+i+a[1]>=0},SI=function(e){var t=e.ref;if(t instanceof HTMLElement){var r=(0,f5.default)(t),i=e.props.overflow&&r!==t.ownerDocument&&r!==document&&r!==document.documentElement,s=i?Qre(e,r):Hre(e);s?e.visible||(e.props.once&&h5.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},_I=function(){h5.forEach(function(e){var t=zi.indexOf(e);t!==-1&&zi.splice(t,1)}),h5=[]},k0=function(){for(var e=0;e<zi.length;++e){var t=zi[e];SI(t)}_I()},zre=function(){for(var e=0;e<zi.length;++e){var t=zi[e];t.visible=!0,t.forceUpdate()}_I()},d0=void 0,Kr=null,Vre=function(e){return typeof e=="string"},Ym=function(n){CI(e,n);function e(t){yI(this,e);var r=xI(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.visible=!1,r.setRef=r.setRef.bind(r),r}return vI(e,[{key:"componentDidMount",value:function(){var r=window,i=this.props.scrollContainer;i&&Vre(i)&&(r=r.document.querySelector(i));var s=this.props.debounce!==void 0&&d0==="throttle"||d0==="debounce"&&this.props.debounce===void 0;if(s&&((0,xc.off)(r,"scroll",Kr,Uo),(0,xc.off)(window,"resize",Kr,Uo),Kr=null),Kr||(this.props.debounce!==void 0?(Kr=(0,Nre.default)(k0,typeof this.props.debounce=="number"?this.props.debounce:300),d0="debounce"):this.props.throttle!==void 0?(Kr=(0,Ure.default)(k0,typeof this.props.throttle=="number"?this.props.throttle:300),d0="throttle"):Kr=k0),this.props.overflow){var o=(0,f5.default)(this.ref);if(o&&typeof o.getAttribute=="function"){var a=1+ +o.getAttribute(xf);a===1&&o.addEventListener("scroll",Kr,Uo),o.setAttribute(xf,a)}}else if(zi.length===0||s){var l=this.props,c=l.scroll,u=l.resize;c&&(0,xc.on)(r,"scroll",Kr,Uo),u&&(0,xc.on)(window,"resize",Kr,Uo)}zi.push(this),SI(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var r=(0,f5.default)(this.ref);if(r&&typeof r.getAttribute=="function"){var i=+r.getAttribute(xf)-1;i===0?(r.removeEventListener("scroll",Kr,Uo),r.removeAttribute(xf)):r.setAttribute(xf,i)}}var s=zi.indexOf(this);s!==-1&&zi.splice(s,1),zi.length===0&&typeof window<"u"&&((0,xc.off)(window,"resize",Kr,Uo),(0,xc.off)(window,"scroll",Kr,Uo))}},{key:"setRef",value:function(r){r&&(this.ref=r)}},{key:"render",value:function(){var r=this.props,i=r.height,s=r.children,o=r.placeholder,a=r.className,l=r.classNamePrefix,c=r.style;return d3.default.createElement("div",{className:l+"-wrapper "+a,ref:this.setRef,style:c},this.visible?s:o||d3.default.createElement("div",{style:{height:i},className:l+"-placeholder"}))}}]),e}(h6.Component);Ym.propTypes={className:nn.default.string,classNamePrefix:nn.default.string,once:nn.default.bool,height:nn.default.oneOfType([nn.default.number,nn.default.string]),offset:nn.default.oneOfType([nn.default.number,nn.default.arrayOf(nn.default.number)]),overflow:nn.default.bool,resize:nn.default.bool,scroll:nn.default.bool,children:nn.default.node,throttle:nn.default.oneOfType([nn.default.number,nn.default.bool]),debounce:nn.default.oneOfType([nn.default.number,nn.default.bool]),placeholder:nn.default.node,scrollContainer:nn.default.oneOfType([nn.default.string,nn.default.object]),unmountIfInvisible:nn.default.bool,style:nn.default.object};Ym.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var Wre=function(e){return e.displayName||e.name||"Component"},Jre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(r){return function(i){CI(s,i);function s(){yI(this,s);var o=xI(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return o.displayName="LazyLoad"+Wre(r),o}return vI(s,[{key:"render",value:function(){return d3.default.createElement(Ym,e,d3.default.createElement(r,this.props))}}]),s}(h6.Component)}};Yo.lazyload=Jre;var jre=Yo.default=Ym;Yo.forceCheck=k0;Yo.forceVisible=zre;const Kre=()=>$.jsx("div",{className:hl.skills_wrapper,children:hM.map((n,e)=>$.jsx(qre,{name:n.name,items:n.items},e))}),qre=({name:n,items:e})=>$.jsxs("div",{className:hl.skill_category_container,"data-aos":"fade-up",children:[$.jsxs("div",{className:hl.skill_title,children:[$.jsx("div",{className:hl.arrow_img_container,children:$.jsx("img",{src:"/skills/arrow.svg",alt:""})}),$.jsx("h3",{children:n})]}),$.jsx("div",{className:hl.skills_container,children:e.map((t,r)=>$.jsx(Yre,{name:t},r))})]}),Yre=F.memo(({name:n})=>$.jsxs("div",{className:hl.skill_bubble_container,children:[$.jsx(jre,{once:!0,height:41.46,className:hl.skill_img_container,children:$.jsx("img",{src:"/skills/"+n+".svg",alt:n,loading:"lazy"})}),$.jsx("h3",{children:n})]})),Xre=()=>$.jsxs("section",{id:"about",className:Are.about,children:[$.jsx(AI,{subText:"Introduction",headText:"About Me"}),$.jsx(Kre,{})]}),$re="_projectGrid_uobiq_1",Zre="_projectCard_uobiq_30",eie="_backgroundImage_uobiq_45",M2={projectGrid:$re,projectCard:Zre,backgroundImage:eie},tie="_external_182l5_109",Ja={"project-content":"_project-content_182l5_3","project-overline":"_project-overline_182l5_18","project-title":"_project-title_182l5_26","project-description":"_project-description_182l5_37","project-tech-list":"_project-tech-list_182l5_67","project-links":"_project-links_182l5_85",external:tie},nie=({data:n})=>$.jsxs("div",{className:Ja["project-content"],children:[$.jsx("p",{className:Ja["project-overline"],children:"Featured Project"}),$.jsx("h3",{className:Ja["project-title"],children:$.jsx("a",{href:n.external||n.github,"aria-label":`${n.title} Title Link`,target:"_blank",rel:"noreferrer",children:n.title})}),$.jsx("div",{className:Ja["project-description"],children:$.jsx("p",{children:n.desciption})}),n.tech.length&&$.jsx("ul",{className:Ja["project-tech-list"],children:n.tech.map((e,t)=>$.jsx("li",{children:e},t))}),$.jsxs("div",{className:Ja["project-links"],children:[n.github&&$.jsx("a",{href:n.github,"aria-label":`${n.title} GitHub Link`,target:"_blank",rel:"noreferrer",children:$.jsx(K2,{name:"GitHub"})}),n.external&&$.jsx("a",{href:n.external,"aria-label":`${n.title} External Link`,className:Ja.external,target:"_blank",rel:"noreferrer",children:$.jsx(K2,{name:"External"})})]})]}),rie="_img_gwce6_11",b7={"project-image":"_project-image_gwce6_1",img:rie},iie=({className:n,imagesrc:e,imagealt:t})=>$.jsx("div",{className:[b7["project-image"],n].join(" "),children:$.jsx("img",{src:e,alt:t,className:b7.img})}),sie=()=>$.jsxs("section",{id:"projects",children:[$.jsx(AI,{subText:"Some Things I’ve Built",headText:"Projects"}),$.jsx("ul",{className:M2.projectGrid,children:ty&&ty.map((n,e)=>$.jsxs("li",{className:M2.projectCard,children:[$.jsx(nie,{data:n}),$.jsx(iie,{className:M2.backgroundImage,imagesrc:n.image,imagealt:n.title})]},e))})]}),oie="_container_1h7d3_1",aie="_dsizeE_1h7d3_7",lie="_dsizeF_1h7d3_12",cie="_contact_1h7d3_59",uie="_heading_1_1h7d3_63",fie="_heading_2_1h7d3_70",ja={container:oie,dsizeE:aie,dsizeF:lie,contact:cie,heading_1:uie,heading_2:fie};var bI={exports:{}},Ll={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ll.ConcurrentRoot=1;Ll.ContinuousEventPriority=4;Ll.DefaultEventPriority=16;Ll.DiscreteEventPriority=1;Ll.IdleEventPriority=536870912;Ll.LegacyRoot=0;bI.exports=Ll;var Pc=bI.exports;function hie(n){let e;const t=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!d(p,g)){const A=p;c(p=g,A)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const die=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),I7=die?F.useEffect:F.useLayoutEffect;function II(n){const e=typeof n=="function"?hie(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=F.useReducer(v=>v+1,0),o=e.getState(),a=F.useRef(o),l=F.useRef(r),c=F.useRef(i),u=F.useRef(!1),d=F.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(d.current,p)),I7(()=>{m&&(d.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=F.useRef(o);I7(()=>{const v=()=>{try{const x=e.getState(),E=l.current(x);c.current(d.current,E)||(a.current=x,d.current=E,s())}catch{u.current=!0,s()}},C=e.subscribe(v);return e.getState()!==g.current&&v(),C},[]);const A=m?p:d.current;return F.useDebugValue(A),A};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var wI={exports:{}},MI={exports:{}},TI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,j){var K=G.length;G.push(j);e:for(;0<K;){var ee=K-1>>>1,X=G[ee];if(0<i(X,j))G[ee]=j,G[K]=X,K=ee;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var j=G[0],K=G.pop();if(K!==j){G[0]=K;e:for(var ee=0,X=G.length,ae=X>>>1;ee<ae;){var Ae=2*(ee+1)-1,_e=G[Ae],re=Ae+1,Ne=G[re];if(0>i(_e,K))re<X&&0>i(Ne,_e)?(G[ee]=Ne,G[re]=K,ee=re):(G[ee]=_e,G[Ae]=K,ee=Ae);else if(re<X&&0>i(Ne,K))G[ee]=Ne,G[re]=K,ee=re;else break e}}return j}function i(G,j){var K=G.sortIndex-j.sortIndex;return K!==0?K:G.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,g=!1,A=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=G)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function _(G){if(A=!1,E(G),!g)if(t(l)!==null)g=!0,V(I);else{var j=t(c);j!==null&&Y(_,j.startTime-G)}}function I(G,j){g=!1,A&&(A=!1,C(w),w=-1),m=!0;var K=p;try{for(E(j),d=t(l);d!==null&&(!(d.expirationTime>j)||G&&!P());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var X=ee(d.expirationTime<=j);j=n.unstable_now(),typeof X=="function"?d.callback=X:d===t(l)&&r(l),E(j)}else r(l);d=t(l)}if(d!==null)var ae=!0;else{var Ae=t(c);Ae!==null&&Y(_,Ae.startTime-j),ae=!1}return ae}finally{d=null,p=K,m=!1}}var M=!1,T=null,w=-1,R=5,D=-1;function P(){return!(n.unstable_now()-D<R)}function z(){if(T!==null){var G=n.unstable_now();D=G;var j=!0;try{j=T(!0,G)}finally{j?q():(M=!1,T=null)}}else M=!1}var q;if(typeof x=="function")q=function(){x(z)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Q=k.port2;k.port1.onmessage=z,q=function(){Q.postMessage(null)}}else q=function(){v(z,0)};function V(G){T=G,M||(M=!0,q())}function Y(G,j){w=v(function(){G(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,V(I))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var K=p;p=j;try{return G()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,j){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=p;p=G;try{return j()}finally{p=K}},n.unstable_scheduleCallback=function(G,j,K){var ee=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,G={id:u++,callback:j,priorityLevel:G,startTime:K,expirationTime:X,sortIndex:-1},K>ee?(G.sortIndex=K,e(c,G),t(l)===null&&G===t(c)&&(A?(C(w),w=-1):A=!0,Y(_,K-ee))):(G.sortIndex=X,e(l,G),g||m||(g=!0,V(I))),G},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(G){var j=p;return function(){var K=p;p=j;try{return G.apply(this,arguments)}finally{p=K}}}})(TI);MI.exports=TI;var d5=MI.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pie=function(e){var t={},r=F,i=d5,s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),I=Symbol.iterator;function M(f){return f===null||typeof f!="object"?null:(f=I&&f[I]||f["@@iterator"],typeof f=="function"?f:null)}function T(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case C:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case A:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case x:return h=f.displayName||null,h!==null?h:T(f.type)||"Memo";case E:h=f._payload,f=f._init;try{return T(f(h))}catch{}}return null}function w(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function R(f){var h=f,y=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(y=h.return),f=h.return;while(f)}return h.tag===3?y:null}function D(f){if(R(f)!==f)throw Error(o(188))}function P(f){var h=f.alternate;if(!h){if(h=R(f),h===null)throw Error(o(188));return h!==f?null:f}for(var y=f,S=h;;){var b=y.return;if(b===null)break;var B=b.alternate;if(B===null){if(S=b.return,S!==null){y=S;continue}break}if(b.child===B.child){for(B=b.child;B;){if(B===y)return D(b),f;if(B===S)return D(b),h;B=B.sibling}throw Error(o(188))}if(y.return!==S.return)y=b,S=B;else{for(var J=!1,te=b.child;te;){if(te===y){J=!0,y=b,S=B;break}if(te===S){J=!0,S=b,y=B;break}te=te.sibling}if(!J){for(te=B.child;te;){if(te===y){J=!0,y=B,S=b;break}if(te===S){J=!0,S=B,y=b;break}te=te.sibling}if(!J)throw Error(o(189))}}if(y.alternate!==S)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?f:h}function z(f){return f=P(f),f!==null?q(f):null}function q(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=q(f);if(h!==null)return h;f=f.sibling}return null}function k(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=k(f);if(h!==null)return h}f=f.sibling}return null}var Q=Array.isArray,V=e.getPublicInstance,Y=e.getRootHostContext,G=e.getChildHostContext,j=e.prepareForCommit,K=e.resetAfterCommit,ee=e.createInstance,X=e.appendInitialChild,ae=e.finalizeInitialChildren,Ae=e.prepareUpdate,_e=e.shouldSetTextContent,re=e.createTextInstance,Ne=e.scheduleTimeout,Pe=e.cancelTimeout,Le=e.noTimeout,ve=e.isPrimaryRenderer,xe=e.supportsMutation,oe=e.supportsPersistence,ne=e.supportsHydration,Ce=e.getInstanceFromNode,Me=e.preparePortalMount,Fe=e.getCurrentEventPriority,qe=e.detachDeletedInstance,je=e.supportsMicrotasks,ze=e.scheduleMicrotask,ct=e.supportsTestSelectors,rt=e.findFiberRoot,W=e.getBoundingRect,N=e.getTextContent,se=e.isHiddenSubtree,we=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Be=e.setupIntersectionObserver,Ue=e.appendChild,ue=e.appendChildToContainer,We=e.commitTextUpdate,Oe=e.commitMount,U=e.commitUpdate,O=e.insertBefore,fe=e.insertInContainerBefore,Se=e.removeChild,Ke=e.removeChildFromContainer,He=e.resetTextContent,et=e.hideInstance,De=e.hideTextInstance,ot=e.unhideInstance,ht=e.unhideTextInstance,dt=e.clearContainer,sr=e.cloneInstance,Qr=e.createContainerChildSet,Du=e.appendChildToContainerChildSet,Zm=e.finalizeContainerChildren,_a=e.replaceContainerChildren,dd=e.cloneHiddenInstance,Fl=e.cloneHiddenTextInstance,pd=e.canHydrateInstance,eg=e.canHydrateTextInstance,tg=e.canHydrateSuspenseInstance,md=e.isSuspenseInstancePending,H=e.isSuspenseInstanceFallback,ce=e.registerSuspenseInstanceRetry,me=e.getNextHydratableSibling,de=e.getFirstHydratableChild,be=e.getFirstHydratableChildWithinContainer,pt=e.getFirstHydratableChildWithinSuspenseInstance,yt=e.hydrateInstance,It=e.hydrateTextInstance,bt=e.hydrateSuspenseInstance,Wt=e.getNextHydratableInstanceAfterSuspenseInstance,Rt=e.commitHydratedContainer,Lt=e.commitHydratedSuspenseInstance,hn=e.clearSuspenseBoundary,Os=e.clearSuspenseBoundaryFromContainer,mo=e.shouldDeleteUnhydratedTailInstances,go=e.didNotMatchHydratedContainerTextInstance,ai=e.didNotMatchHydratedTextInstance,Ft;function li(f){if(Ft===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);Ft=h&&h[1]||""}return`
`+Ft+f}var dn=!1;function Tr(f,h){if(!f||dn)return"";dn=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ke){var S=ke}Reflect.construct(f,[],h)}else{try{h.call()}catch(ke){S=ke}f.call(h.prototype)}else{try{throw Error()}catch(ke){S=ke}f()}}catch(ke){if(ke&&S&&typeof ke.stack=="string"){for(var b=ke.stack.split(`
`),B=S.stack.split(`
`),J=b.length-1,te=B.length-1;1<=J&&0<=te&&b[J]!==B[te];)te--;for(;1<=J&&0<=te;J--,te--)if(b[J]!==B[te]){if(J!==1||te!==1)do if(J--,te--,0>te||b[J]!==B[te]){var ye=`
`+b[J].replace(" at new "," at ");return f.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",f.displayName)),ye}while(1<=J&&0<=te);break}}}finally{dn=!1,Error.prepareStackTrace=y}return(f=f?f.displayName||f.name:"")?li(f):""}var ss=Object.prototype.hasOwnProperty,Us=[],os=-1;function pn(f){return{current:f}}function Jt(f){0>os||(f.current=Us[os],Us[os]=null,os--)}function jt(f,h){os++,Us[os]=f.current,f.current=h}var Gn={},hr=pn(Gn),Br=pn(!1),ba=Gn;function kl(f,h){var y=f.type.contextTypes;if(!y)return Gn;var S=f.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===h)return S.__reactInternalMemoizedMaskedChildContext;var b={},B;for(B in y)b[B]=h[B];return S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=b),b}function Rr(f){return f=f.childContextTypes,f!=null}function gd(){Jt(Br),Jt(hr)}function x6(f,h,y){if(hr.current!==Gn)throw Error(o(168));jt(hr,h),jt(Br,y)}function C6(f,h,y){var S=f.stateNode;if(h=h.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var b in S)if(!(b in h))throw Error(o(108,w(f)||"Unknown",b));return s({},y,S)}function Ad(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Gn,ba=hr.current,jt(hr,f),jt(Br,Br.current),!0}function E6(f,h,y){var S=f.stateNode;if(!S)throw Error(o(169));y?(f=C6(f,h,ba),S.__reactInternalMemoizedMergedChildContext=f,Jt(Br),Jt(hr),jt(hr,f)):Jt(Br),jt(Br,y)}var Li=Math.clz32?Math.clz32:Aw,mw=Math.log,gw=Math.LN2;function Aw(f){return f>>>=0,f===0?32:31-(mw(f)/gw|0)|0}var vd=64,yd=4194304;function Lu(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function xd(f,h){var y=f.pendingLanes;if(y===0)return 0;var S=0,b=f.suspendedLanes,B=f.pingedLanes,J=y&268435455;if(J!==0){var te=J&~b;te!==0?S=Lu(te):(B&=J,B!==0&&(S=Lu(B)))}else J=y&~b,J!==0?S=Lu(J):B!==0&&(S=Lu(B));if(S===0)return 0;if(h!==0&&h!==S&&!(h&b)&&(b=S&-S,B=h&-h,b>=B||b===16&&(B&4194240)!==0))return h;if(S&4&&(S|=y&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=S;0<h;)y=31-Li(h),b=1<<y,S|=f[y],h&=~b;return S}function vw(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yw(f,h){for(var y=f.suspendedLanes,S=f.pingedLanes,b=f.expirationTimes,B=f.pendingLanes;0<B;){var J=31-Li(B),te=1<<J,ye=b[J];ye===-1?(!(te&y)||te&S)&&(b[J]=vw(te,h)):ye<=h&&(f.expiredLanes|=te),B&=~te}}function ng(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function rg(f){for(var h=[],y=0;31>y;y++)h.push(f);return h}function Fu(f,h,y){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-Li(h),f[h]=y}function xw(f,h){var y=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var S=f.eventTimes;for(f=f.expirationTimes;0<y;){var b=31-Li(y),B=1<<b;h[b]=0,S[b]=-1,f[b]=-1,y&=~B}}function ig(f,h){var y=f.entangledLanes|=h;for(f=f.entanglements;y;){var S=31-Li(y),b=1<<S;b&h|f[S]&h&&(f[S]|=h),y&=~b}}var Gt=0;function S6(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var sg=i.unstable_scheduleCallback,_6=i.unstable_cancelCallback,Cw=i.unstable_shouldYield,Ew=i.unstable_requestPaint,Yn=i.unstable_now,og=i.unstable_ImmediatePriority,Sw=i.unstable_UserBlockingPriority,ag=i.unstable_NormalPriority,_w=i.unstable_IdlePriority,Cd=null,as=null;function bw(f){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Cd,f,void 0,(f.current.flags&128)===128)}catch{}}function Iw(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var ls=typeof Object.is=="function"?Object.is:Iw,Gs=null,Ed=!1,lg=!1;function b6(f){Gs===null?Gs=[f]:Gs.push(f)}function ww(f){Ed=!0,b6(f)}function cs(){if(!lg&&Gs!==null){lg=!0;var f=0,h=Gt;try{var y=Gs;for(Gt=1;f<y.length;f++){var S=y[f];do S=S(!0);while(S!==null)}Gs=null,Ed=!1}catch(b){throw Gs!==null&&(Gs=Gs.slice(f+1)),sg(og,cs),b}finally{Gt=h,lg=!1}}return null}var Mw=a.ReactCurrentBatchConfig;function Sd(f,h){if(ls(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var y=Object.keys(f),S=Object.keys(h);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var b=y[S];if(!ss.call(h,b)||!ls(f[b],h[b]))return!1}return!0}function Tw(f){switch(f.tag){case 5:return li(f.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 2:case 15:return f=Tr(f.type,!1),f;case 11:return f=Tr(f.type.render,!1),f;case 1:return f=Tr(f.type,!0),f;default:return""}}function Fi(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var y in f)h[y]===void 0&&(h[y]=f[y]);return h}return h}var _d=pn(null),bd=null,Nl=null,cg=null;function ug(){cg=Nl=bd=null}function I6(f,h,y){ve?(jt(_d,h._currentValue),h._currentValue=y):(jt(_d,h._currentValue2),h._currentValue2=y)}function fg(f){var h=_d.current;Jt(_d),ve?f._currentValue=h:f._currentValue2=h}function hg(f,h,y){for(;f!==null;){var S=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),f===y)break;f=f.return}}function Ol(f,h){bd=f,cg=Nl=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(Vr=!0),f.firstContext=null)}function ci(f){var h=ve?f._currentValue:f._currentValue2;if(cg!==f)if(f={context:f,memoizedValue:h,next:null},Nl===null){if(bd===null)throw Error(o(308));Nl=f,bd.dependencies={lanes:0,firstContext:f}}else Nl=Nl.next=f;return h}var us=null,Ao=!1;function dg(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w6(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Qs(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function vo(f,h){var y=f.updateQueue;y!==null&&(y=y.shared,Nn!==null&&f.mode&1&&!(Mt&2)?(f=y.interleaved,f===null?(h.next=h,us===null?us=[y]:us.push(y)):(h.next=f.next,f.next=h),y.interleaved=h):(f=y.pending,f===null?h.next=h:(h.next=f.next,f.next=h),y.pending=h))}function Id(f,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var S=h.lanes;S&=f.pendingLanes,y|=S,h.lanes=y,ig(f,y)}}function M6(f,h){var y=f.updateQueue,S=f.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var b=null,B=null;if(y=y.firstBaseUpdate,y!==null){do{var J={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};B===null?b=B=J:B=B.next=J,y=y.next}while(y!==null);B===null?b=B=h:B=B.next=h}else b=B=h;y={baseState:S.baseState,firstBaseUpdate:b,lastBaseUpdate:B,shared:S.shared,effects:S.effects},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=h:f.next=h,y.lastBaseUpdate=h}function wd(f,h,y,S){var b=f.updateQueue;Ao=!1;var B=b.firstBaseUpdate,J=b.lastBaseUpdate,te=b.shared.pending;if(te!==null){b.shared.pending=null;var ye=te,ke=ye.next;ye.next=null,J===null?B=ke:J.next=ke,J=ye;var Ye=f.alternate;Ye!==null&&(Ye=Ye.updateQueue,te=Ye.lastBaseUpdate,te!==J&&(te===null?Ye.firstBaseUpdate=ke:te.next=ke,Ye.lastBaseUpdate=ye))}if(B!==null){var xt=b.baseState;J=0,Ye=ke=ye=null,te=B;do{var at=te.lane,en=te.eventTime;if((S&at)===at){Ye!==null&&(Ye=Ye.next={eventTime:en,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var it=f,gr=te;switch(at=h,en=y,gr.tag){case 1:if(it=gr.payload,typeof it=="function"){xt=it.call(en,xt,at);break e}xt=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=gr.payload,at=typeof it=="function"?it.call(en,xt,at):it,at==null)break e;xt=s({},xt,at);break e;case 2:Ao=!0}}te.callback!==null&&te.lane!==0&&(f.flags|=64,at=b.effects,at===null?b.effects=[te]:at.push(te))}else en={eventTime:en,lane:at,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ye===null?(ke=Ye=en,ye=xt):Ye=Ye.next=en,J|=at;if(te=te.next,te===null){if(te=b.shared.pending,te===null)break;at=te,te=at.next,at.next=null,b.lastBaseUpdate=at,b.shared.pending=null}}while(1);if(Ye===null&&(ye=xt),b.baseState=ye,b.firstBaseUpdate=ke,b.lastBaseUpdate=Ye,h=b.shared.interleaved,h!==null){b=h;do J|=b.lane,b=b.next;while(b!==h)}else B===null&&(b.shared.lanes=0);jl|=J,f.lanes=J,f.memoizedState=xt}}function T6(f,h,y){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var S=f[h],b=S.callback;if(b!==null){if(S.callback=null,S=y,typeof b!="function")throw Error(o(191,b));b.call(S)}}}var B6=new r.Component().refs;function pg(f,h,y,S){h=f.memoizedState,y=y(S,h),y=y==null?h:s({},h,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var Md={isMounted:function(f){return(f=f._reactInternals)?R(f)===f:!1},enqueueSetState:function(f,h,y){f=f._reactInternals;var S=Cr(),b=Co(f),B=Qs(S,b);B.payload=h,y!=null&&(B.callback=y),vo(f,B),h=pi(f,b,S),h!==null&&Id(h,f,b)},enqueueReplaceState:function(f,h,y){f=f._reactInternals;var S=Cr(),b=Co(f),B=Qs(S,b);B.tag=1,B.payload=h,y!=null&&(B.callback=y),vo(f,B),h=pi(f,b,S),h!==null&&Id(h,f,b)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var y=Cr(),S=Co(f),b=Qs(y,S);b.tag=2,h!=null&&(b.callback=h),vo(f,b),h=pi(f,S,y),h!==null&&Id(h,f,S)}};function R6(f,h,y,S,b,B,J){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(S,B,J):h.prototype&&h.prototype.isPureReactComponent?!Sd(y,S)||!Sd(b,B):!0}function P6(f,h,y){var S=!1,b=Gn,B=h.contextType;return typeof B=="object"&&B!==null?B=ci(B):(b=Rr(h)?ba:hr.current,S=h.contextTypes,B=(S=S!=null)?kl(f,b):Gn),h=new h(y,B),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Md,f.stateNode=h,h._reactInternals=f,S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=b,f.__reactInternalMemoizedMaskedChildContext=B),h}function D6(f,h,y,S){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,S),h.state!==f&&Md.enqueueReplaceState(h,h.state,null)}function mg(f,h,y,S){var b=f.stateNode;b.props=y,b.state=f.memoizedState,b.refs=B6,dg(f);var B=h.contextType;typeof B=="object"&&B!==null?b.context=ci(B):(B=Rr(h)?ba:hr.current,b.context=kl(f,B)),b.state=f.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(pg(f,h,B,y),b.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(h=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),h!==b.state&&Md.enqueueReplaceState(b,b.state,null),wd(f,y,b,S),b.state=f.memoizedState),typeof b.componentDidMount=="function"&&(f.flags|=4194308)}var Ul=[],Gl=0,Td=null,Bd=0,ui=[],fi=0,Ia=null,Hs=1,zs="";function wa(f,h){Ul[Gl++]=Bd,Ul[Gl++]=Td,Td=f,Bd=h}function L6(f,h,y){ui[fi++]=Hs,ui[fi++]=zs,ui[fi++]=Ia,Ia=f;var S=Hs;f=zs;var b=32-Li(S)-1;S&=~(1<<b),y+=1;var B=32-Li(h)+b;if(30<B){var J=b-b%5;B=(S&(1<<J)-1).toString(32),S>>=J,b-=J,Hs=1<<32-Li(h)+b|y<<b|S,zs=B+f}else Hs=1<<B|y<<b|S,zs=f}function gg(f){f.return!==null&&(wa(f,1),L6(f,1,0))}function Ag(f){for(;f===Td;)Td=Ul[--Gl],Ul[Gl]=null,Bd=Ul[--Gl],Ul[Gl]=null;for(;f===Ia;)Ia=ui[--fi],ui[fi]=null,zs=ui[--fi],ui[fi]=null,Hs=ui[--fi],ui[fi]=null}var Hr=null,zr=null,mn=!1,ku=!1,ki=null;function F6(f,h){var y=mi(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=f,h=f.deletions,h===null?(f.deletions=[y],f.flags|=16):h.push(y)}function k6(f,h){switch(f.tag){case 5:return h=pd(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,Hr=f,zr=de(h),!0):!1;case 6:return h=eg(h,f.pendingProps),h!==null?(f.stateNode=h,Hr=f,zr=null,!0):!1;case 13:if(h=tg(h),h!==null){var y=Ia!==null?{id:Hs,overflow:zs}:null;return f.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=mi(18,null,null,0),y.stateNode=h,y.return=f,f.child=y,Hr=f,zr=null,!0}return!1;default:return!1}}function vg(f){return(f.mode&1)!==0&&(f.flags&128)===0}function yg(f){if(mn){var h=zr;if(h){var y=h;if(!k6(f,h)){if(vg(f))throw Error(o(418));h=me(y);var S=Hr;h&&k6(f,h)?F6(S,y):(f.flags=f.flags&-4097|2,mn=!1,Hr=f)}}else{if(vg(f))throw Error(o(418));f.flags=f.flags&-4097|2,mn=!1,Hr=f}}}function N6(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Hr=f}function Nu(f){if(!ne||f!==Hr)return!1;if(!mn)return N6(f),mn=!0,!1;if(f.tag!==3&&(f.tag!==5||mo(f.type)&&!_e(f.type,f.memoizedProps))){var h=zr;if(h){if(vg(f)){for(f=zr;f;)f=me(f);throw Error(o(418))}for(;h;)F6(f,h),h=me(h)}}if(N6(f),f.tag===13){if(!ne)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));zr=Wt(f)}else zr=Hr?me(f.stateNode):null;return!0}function Ql(){ne&&(zr=Hr=null,ku=mn=!1)}function xg(f){ki===null?ki=[f]:ki.push(f)}function Ou(f,h,y){if(f=y.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var S=y.stateNode}if(!S)throw Error(o(147,f));var b=S,B=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===B?h.ref:(h=function(J){var te=b.refs;te===B6&&(te=b.refs={}),J===null?delete te[B]:te[B]=J},h._stringRef=B,h)}if(typeof f!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,f))}return f}function Rd(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function O6(f){var h=f._init;return h(f._payload)}function U6(f){function h(le,ie){if(f){var pe=le.deletions;pe===null?(le.deletions=[ie],le.flags|=16):pe.push(ie)}}function y(le,ie){if(!f)return null;for(;ie!==null;)h(le,ie),ie=ie.sibling;return null}function S(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function b(le,ie){return le=So(le,ie),le.index=0,le.sibling=null,le}function B(le,ie,pe){return le.index=pe,f?(pe=le.alternate,pe!==null?(pe=pe.index,pe<ie?(le.flags|=2,ie):pe):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function J(le){return f&&le.alternate===null&&(le.flags|=2),le}function te(le,ie,pe,Je){return ie===null||ie.tag!==6?(ie=rA(pe,le.mode,Je),ie.return=le,ie):(ie=b(ie,pe),ie.return=le,ie)}function ye(le,ie,pe,Je){var nt=pe.type;return nt===u?Ye(le,ie,pe.props.children,Je,pe.key):ie!==null&&(ie.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===E&&O6(nt)===ie.type)?(Je=b(ie,pe.props),Je.ref=Ou(le,ie,pe),Je.return=le,Je):(Je=lp(pe.type,pe.key,pe.props,null,le.mode,Je),Je.ref=Ou(le,ie,pe),Je.return=le,Je)}function ke(le,ie,pe,Je){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==pe.containerInfo||ie.stateNode.implementation!==pe.implementation?(ie=iA(pe,le.mode,Je),ie.return=le,ie):(ie=b(ie,pe.children||[]),ie.return=le,ie)}function Ye(le,ie,pe,Je,nt){return ie===null||ie.tag!==7?(ie=La(pe,le.mode,Je,nt),ie.return=le,ie):(ie=b(ie,pe),ie.return=le,ie)}function xt(le,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=rA(""+ie,le.mode,pe),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return pe=lp(ie.type,ie.key,ie.props,null,le.mode,pe),pe.ref=Ou(le,null,ie),pe.return=le,pe;case c:return ie=iA(ie,le.mode,pe),ie.return=le,ie;case E:var Je=ie._init;return xt(le,Je(ie._payload),pe)}if(Q(ie)||M(ie))return ie=La(ie,le.mode,pe,null),ie.return=le,ie;Rd(le,ie)}return null}function at(le,ie,pe,Je){var nt=ie!==null?ie.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return nt!==null?null:te(le,ie,""+pe,Je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return pe.key===nt?ye(le,ie,pe,Je):null;case c:return pe.key===nt?ke(le,ie,pe,Je):null;case E:return nt=pe._init,at(le,ie,nt(pe._payload),Je)}if(Q(pe)||M(pe))return nt!==null?null:Ye(le,ie,pe,Je,null);Rd(le,pe)}return null}function en(le,ie,pe,Je,nt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return le=le.get(pe)||null,te(ie,le,""+Je,nt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:return le=le.get(Je.key===null?pe:Je.key)||null,ye(ie,le,Je,nt);case c:return le=le.get(Je.key===null?pe:Je.key)||null,ke(ie,le,Je,nt);case E:var wt=Je._init;return en(le,ie,pe,wt(Je._payload),nt)}if(Q(Je)||M(Je))return le=le.get(pe)||null,Ye(ie,le,Je,nt,null);Rd(ie,Je)}return null}function it(le,ie,pe,Je){for(var nt=null,wt=null,Ct=ie,Qt=ie=0,$n=null;Ct!==null&&Qt<pe.length;Qt++){Ct.index>Qt?($n=Ct,Ct=null):$n=Ct.sibling;var Ht=at(le,Ct,pe[Qt],Je);if(Ht===null){Ct===null&&(Ct=$n);break}f&&Ct&&Ht.alternate===null&&h(le,Ct),ie=B(Ht,ie,Qt),wt===null?nt=Ht:wt.sibling=Ht,wt=Ht,Ct=$n}if(Qt===pe.length)return y(le,Ct),mn&&wa(le,Qt),nt;if(Ct===null){for(;Qt<pe.length;Qt++)Ct=xt(le,pe[Qt],Je),Ct!==null&&(ie=B(Ct,ie,Qt),wt===null?nt=Ct:wt.sibling=Ct,wt=Ct);return mn&&wa(le,Qt),nt}for(Ct=S(le,Ct);Qt<pe.length;Qt++)$n=en(Ct,le,Qt,pe[Qt],Je),$n!==null&&(f&&$n.alternate!==null&&Ct.delete($n.key===null?Qt:$n.key),ie=B($n,ie,Qt),wt===null?nt=$n:wt.sibling=$n,wt=$n);return f&&Ct.forEach(function(_o){return h(le,_o)}),mn&&wa(le,Qt),nt}function gr(le,ie,pe,Je){var nt=M(pe);if(typeof nt!="function")throw Error(o(150));if(pe=nt.call(pe),pe==null)throw Error(o(151));for(var wt=nt=null,Ct=ie,Qt=ie=0,$n=null,Ht=pe.next();Ct!==null&&!Ht.done;Qt++,Ht=pe.next()){Ct.index>Qt?($n=Ct,Ct=null):$n=Ct.sibling;var _o=at(le,Ct,Ht.value,Je);if(_o===null){Ct===null&&(Ct=$n);break}f&&Ct&&_o.alternate===null&&h(le,Ct),ie=B(_o,ie,Qt),wt===null?nt=_o:wt.sibling=_o,wt=_o,Ct=$n}if(Ht.done)return y(le,Ct),mn&&wa(le,Qt),nt;if(Ct===null){for(;!Ht.done;Qt++,Ht=pe.next())Ht=xt(le,Ht.value,Je),Ht!==null&&(ie=B(Ht,ie,Qt),wt===null?nt=Ht:wt.sibling=Ht,wt=Ht);return mn&&wa(le,Qt),nt}for(Ct=S(le,Ct);!Ht.done;Qt++,Ht=pe.next())Ht=en(Ct,le,Qt,Ht.value,Je),Ht!==null&&(f&&Ht.alternate!==null&&Ct.delete(Ht.key===null?Qt:Ht.key),ie=B(Ht,ie,Qt),wt===null?nt=Ht:wt.sibling=Ht,wt=Ht);return f&&Ct.forEach(function(sM){return h(le,sM)}),mn&&wa(le,Qt),nt}function gi(le,ie,pe,Je){if(typeof pe=="object"&&pe!==null&&pe.type===u&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:e:{for(var nt=pe.key,wt=ie;wt!==null;){if(wt.key===nt){if(nt=pe.type,nt===u){if(wt.tag===7){y(le,wt.sibling),ie=b(wt,pe.props.children),ie.return=le,le=ie;break e}}else if(wt.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===E&&O6(nt)===wt.type){y(le,wt.sibling),ie=b(wt,pe.props),ie.ref=Ou(le,wt,pe),ie.return=le,le=ie;break e}y(le,wt);break}else h(le,wt);wt=wt.sibling}pe.type===u?(ie=La(pe.props.children,le.mode,Je,pe.key),ie.return=le,le=ie):(Je=lp(pe.type,pe.key,pe.props,null,le.mode,Je),Je.ref=Ou(le,ie,pe),Je.return=le,le=Je)}return J(le);case c:e:{for(wt=pe.key;ie!==null;){if(ie.key===wt)if(ie.tag===4&&ie.stateNode.containerInfo===pe.containerInfo&&ie.stateNode.implementation===pe.implementation){y(le,ie.sibling),ie=b(ie,pe.children||[]),ie.return=le,le=ie;break e}else{y(le,ie);break}else h(le,ie);ie=ie.sibling}ie=iA(pe,le.mode,Je),ie.return=le,le=ie}return J(le);case E:return wt=pe._init,gi(le,ie,wt(pe._payload),Je)}if(Q(pe))return it(le,ie,pe,Je);if(M(pe))return gr(le,ie,pe,Je);Rd(le,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ie!==null&&ie.tag===6?(y(le,ie.sibling),ie=b(ie,pe),ie.return=le,le=ie):(y(le,ie),ie=rA(pe,le.mode,Je),ie.return=le,le=ie),J(le)):y(le,ie)}return gi}var Hl=U6(!0),G6=U6(!1),Uu={},hi=pn(Uu),Gu=pn(Uu),zl=pn(Uu);function fs(f){if(f===Uu)throw Error(o(174));return f}function Cg(f,h){jt(zl,h),jt(Gu,f),jt(hi,Uu),f=Y(h),Jt(hi),jt(hi,f)}function Vl(){Jt(hi),Jt(Gu),Jt(zl)}function Q6(f){var h=fs(zl.current),y=fs(hi.current);h=G(y,f.type,h),y!==h&&(jt(Gu,f),jt(hi,h))}function Eg(f){Gu.current===f&&(Jt(hi),Jt(Gu))}var vn=pn(0);function Pd(f){for(var h=f;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||md(y)||H(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Sg=[];function _g(){for(var f=0;f<Sg.length;f++){var h=Sg[f];ve?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Sg.length=0}var Dd=a.ReactCurrentDispatcher,di=a.ReactCurrentBatchConfig,Wl=0,Sn=null,dr=null,Xn=null,Ld=!1,Qu=!1,Hu=0,Bw=0;function pr(){throw Error(o(321))}function bg(f,h){if(h===null)return!1;for(var y=0;y<h.length&&y<f.length;y++)if(!ls(f[y],h[y]))return!1;return!0}function Ig(f,h,y,S,b,B){if(Wl=B,Sn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Dd.current=f===null||f.memoizedState===null?Lw:Fw,f=y(S,b),Qu){B=0;do{if(Qu=!1,Hu=0,25<=B)throw Error(o(301));B+=1,Xn=dr=null,h.updateQueue=null,Dd.current=kw,f=y(S,b)}while(Qu)}if(Dd.current=Ud,h=dr!==null&&dr.next!==null,Wl=0,Xn=dr=Sn=null,Ld=!1,h)throw Error(o(300));return f}function wg(){var f=Hu!==0;return Hu=0,f}function Vs(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?Sn.memoizedState=Xn=f:Xn=Xn.next=f,Xn}function hs(){if(dr===null){var f=Sn.alternate;f=f!==null?f.memoizedState:null}else f=dr.next;var h=Xn===null?Sn.memoizedState:Xn.next;if(h!==null)Xn=h,dr=f;else{if(f===null)throw Error(o(310));dr=f,f={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Xn===null?Sn.memoizedState=Xn=f:Xn=Xn.next=f}return Xn}function Ma(f,h){return typeof h=="function"?h(f):h}function Fd(f){var h=hs(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=f;var S=dr,b=S.baseQueue,B=y.pending;if(B!==null){if(b!==null){var J=b.next;b.next=B.next,B.next=J}S.baseQueue=b=B,y.pending=null}if(b!==null){B=b.next,S=S.baseState;var te=J=null,ye=null,ke=B;do{var Ye=ke.lane;if((Wl&Ye)===Ye)ye!==null&&(ye=ye.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),S=ke.hasEagerState?ke.eagerState:f(S,ke.action);else{var xt={lane:Ye,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};ye===null?(te=ye=xt,J=S):ye=ye.next=xt,Sn.lanes|=Ye,jl|=Ye}ke=ke.next}while(ke!==null&&ke!==B);ye===null?J=S:ye.next=te,ls(S,h.memoizedState)||(Vr=!0),h.memoizedState=S,h.baseState=J,h.baseQueue=ye,y.lastRenderedState=S}if(f=y.interleaved,f!==null){b=f;do B=b.lane,Sn.lanes|=B,jl|=B,b=b.next;while(b!==f)}else b===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function kd(f){var h=hs(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=f;var S=y.dispatch,b=y.pending,B=h.memoizedState;if(b!==null){y.pending=null;var J=b=b.next;do B=f(B,J.action),J=J.next;while(J!==b);ls(B,h.memoizedState)||(Vr=!0),h.memoizedState=B,h.baseQueue===null&&(h.baseState=B),y.lastRenderedState=B}return[B,S]}function H6(){}function z6(f,h){var y=Sn,S=hs(),b=h(),B=!ls(S.memoizedState,b);if(B&&(S.memoizedState=b,Vr=!0),S=S.queue,Vu(J6.bind(null,y,S,f),[f]),S.getSnapshot!==h||B||Xn!==null&&Xn.memoizedState.tag&1){if(y.flags|=2048,zu(9,W6.bind(null,y,S,b,h),void 0,null),Nn===null)throw Error(o(349));Wl&30||V6(y,h,b)}return b}function V6(f,h,y){f.flags|=16384,f={getSnapshot:h,value:y},h=Sn.updateQueue,h===null?(h={lastEffect:null,stores:null},Sn.updateQueue=h,h.stores=[f]):(y=h.stores,y===null?h.stores=[f]:y.push(f))}function W6(f,h,y,S){h.value=y,h.getSnapshot=S,j6(h)&&pi(f,1,-1)}function J6(f,h,y){return y(function(){j6(h)&&pi(f,1,-1)})}function j6(f){var h=f.getSnapshot;f=f.value;try{var y=h();return!ls(f,y)}catch{return!0}}function Mg(f){var h=Vs();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:f},h.queue=f,f=f.dispatch=Dw.bind(null,Sn,f),[h.memoizedState,f]}function zu(f,h,y,S){return f={tag:f,create:h,destroy:y,deps:S,next:null},h=Sn.updateQueue,h===null?(h={lastEffect:null,stores:null},Sn.updateQueue=h,h.lastEffect=f.next=f):(y=h.lastEffect,y===null?h.lastEffect=f.next=f:(S=y.next,y.next=f,f.next=S,h.lastEffect=f)),f}function K6(){return hs().memoizedState}function Nd(f,h,y,S){var b=Vs();Sn.flags|=f,b.memoizedState=zu(1|h,y,void 0,S===void 0?null:S)}function Od(f,h,y,S){var b=hs();S=S===void 0?null:S;var B=void 0;if(dr!==null){var J=dr.memoizedState;if(B=J.destroy,S!==null&&bg(S,J.deps)){b.memoizedState=zu(h,y,B,S);return}}Sn.flags|=f,b.memoizedState=zu(1|h,y,B,S)}function Tg(f,h){return Nd(8390656,8,f,h)}function Vu(f,h){return Od(2048,8,f,h)}function q6(f,h){return Od(4,2,f,h)}function Y6(f,h){return Od(4,4,f,h)}function X6(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function $6(f,h,y){return y=y!=null?y.concat([f]):null,Od(4,4,X6.bind(null,h,f),y)}function Bg(){}function Z6(f,h){var y=hs();h=h===void 0?null:h;var S=y.memoizedState;return S!==null&&h!==null&&bg(h,S[1])?S[0]:(y.memoizedState=[f,h],f)}function e8(f,h){var y=hs();h=h===void 0?null:h;var S=y.memoizedState;return S!==null&&h!==null&&bg(h,S[1])?S[0]:(f=f(),y.memoizedState=[f,h],f)}function Rw(f,h){var y=Gt;Gt=y!==0&&4>y?y:4,f(!0);var S=di.transition;di.transition={};try{f(!1),h()}finally{Gt=y,di.transition=S}}function t8(){return hs().memoizedState}function Pw(f,h,y){var S=Co(f);y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},n8(f)?r8(h,y):(i8(f,h,y),y=Cr(),f=pi(f,S,y),f!==null&&s8(f,h,S))}function Dw(f,h,y){var S=Co(f),b={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(n8(f))r8(h,b);else{i8(f,h,b);var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=h.lastRenderedReducer,B!==null))try{var J=h.lastRenderedState,te=B(J,y);if(b.hasEagerState=!0,b.eagerState=te,ls(te,J))return}catch{}finally{}y=Cr(),f=pi(f,S,y),f!==null&&s8(f,h,S)}}function n8(f){var h=f.alternate;return f===Sn||h!==null&&h===Sn}function r8(f,h){Qu=Ld=!0;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}function i8(f,h,y){Nn!==null&&f.mode&1&&!(Mt&2)?(f=h.interleaved,f===null?(y.next=y,us===null?us=[h]:us.push(h)):(y.next=f.next,f.next=y),h.interleaved=y):(f=h.pending,f===null?y.next=y:(y.next=f.next,f.next=y),h.pending=y)}function s8(f,h,y){if(y&4194240){var S=h.lanes;S&=f.pendingLanes,y|=S,h.lanes=y,ig(f,y)}}var Ud={readContext:ci,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Lw={readContext:ci,useCallback:function(f,h){return Vs().memoizedState=[f,h===void 0?null:h],f},useContext:ci,useEffect:Tg,useImperativeHandle:function(f,h,y){return y=y!=null?y.concat([f]):null,Nd(4194308,4,X6.bind(null,h,f),y)},useLayoutEffect:function(f,h){return Nd(4194308,4,f,h)},useInsertionEffect:function(f,h){return Nd(4,2,f,h)},useMemo:function(f,h){var y=Vs();return h=h===void 0?null:h,f=f(),y.memoizedState=[f,h],f},useReducer:function(f,h,y){var S=Vs();return h=y!==void 0?y(h):h,S.memoizedState=S.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},S.queue=f,f=f.dispatch=Pw.bind(null,Sn,f),[S.memoizedState,f]},useRef:function(f){var h=Vs();return f={current:f},h.memoizedState=f},useState:Mg,useDebugValue:Bg,useDeferredValue:function(f){var h=Mg(f),y=h[0],S=h[1];return Tg(function(){var b=di.transition;di.transition={};try{S(f)}finally{di.transition=b}},[f]),y},useTransition:function(){var f=Mg(!1),h=f[0];return f=Rw.bind(null,f[1]),Vs().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,y){var S=Sn,b=Vs();if(mn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=h(),Nn===null)throw Error(o(349));Wl&30||V6(S,h,y)}b.memoizedState=y;var B={value:y,getSnapshot:h};return b.queue=B,Tg(J6.bind(null,S,B,f),[f]),S.flags|=2048,zu(9,W6.bind(null,S,B,y,h),void 0,null),y},useId:function(){var f=Vs(),h=Nn.identifierPrefix;if(mn){var y=zs,S=Hs;y=(S&~(1<<32-Li(S)-1)).toString(32)+y,h=":"+h+"R"+y,y=Hu++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=Bw++,h=":"+h+"r"+y.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},Fw={readContext:ci,useCallback:Z6,useContext:ci,useEffect:Vu,useImperativeHandle:$6,useInsertionEffect:q6,useLayoutEffect:Y6,useMemo:e8,useReducer:Fd,useRef:K6,useState:function(){return Fd(Ma)},useDebugValue:Bg,useDeferredValue:function(f){var h=Fd(Ma),y=h[0],S=h[1];return Vu(function(){var b=di.transition;di.transition={};try{S(f)}finally{di.transition=b}},[f]),y},useTransition:function(){var f=Fd(Ma)[0],h=hs().memoizedState;return[f,h]},useMutableSource:H6,useSyncExternalStore:z6,useId:t8,unstable_isNewReconciler:!1},kw={readContext:ci,useCallback:Z6,useContext:ci,useEffect:Vu,useImperativeHandle:$6,useInsertionEffect:q6,useLayoutEffect:Y6,useMemo:e8,useReducer:kd,useRef:K6,useState:function(){return kd(Ma)},useDebugValue:Bg,useDeferredValue:function(f){var h=kd(Ma),y=h[0],S=h[1];return Vu(function(){var b=di.transition;di.transition={};try{S(f)}finally{di.transition=b}},[f]),y},useTransition:function(){var f=kd(Ma)[0],h=hs().memoizedState;return[f,h]},useMutableSource:H6,useSyncExternalStore:z6,useId:t8,unstable_isNewReconciler:!1};function Rg(f,h){try{var y="",S=h;do y+=Tw(S),S=S.return;while(S);var b=y}catch(B){b=`
Error generating stack: `+B.message+`
`+B.stack}return{value:f,source:h,stack:b}}function Pg(f,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var Nw=typeof WeakMap=="function"?WeakMap:Map;function o8(f,h,y){y=Qs(-1,y),y.tag=3,y.payload={element:null};var S=h.value;return y.callback=function(){tp||(tp=!0,Yg=S),Pg(f,h)},y}function a8(f,h,y){y=Qs(-1,y),y.tag=3;var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var b=h.value;y.payload=function(){return S(b)},y.callback=function(){Pg(f,h)}}var B=f.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(y.callback=function(){Pg(f,h),typeof S!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var J=h.stack;this.componentDidCatch(h.value,{componentStack:J!==null?J:""})}),y}function l8(f,h,y){var S=f.pingCache;if(S===null){S=f.pingCache=new Nw;var b=new Set;S.set(h,b)}else b=S.get(h),b===void 0&&(b=new Set,S.set(h,b));b.has(y)||(b.add(y),f=Xw.bind(null,f,h,y),h.then(f,f))}function c8(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function u8(f,h,y,S,b){return f.mode&1?(f.flags|=65536,f.lanes=b,f):(f===h?f.flags|=65536:(f.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Qs(-1,1),h.tag=2,vo(y,h))),y.lanes|=1),f)}function ds(f){f.flags|=4}function f8(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Wu,Ju,Gd,Qd;if(xe)Wu=function(f,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)X(f,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Ju=function(){},Gd=function(f,h,y,S,b){if(f=f.memoizedProps,f!==S){var B=h.stateNode,J=fs(hi.current);y=Ae(B,y,f,S,b,J),(h.updateQueue=y)&&ds(h)}},Qd=function(f,h,y,S){y!==S&&ds(h)};else if(oe){Wu=function(f,h,y,S){for(var b=h.child;b!==null;){if(b.tag===5){var B=b.stateNode;y&&S&&(B=dd(B,b.type,b.memoizedProps,b)),X(f,B)}else if(b.tag===6)B=b.stateNode,y&&S&&(B=Fl(B,b.memoizedProps,b)),X(f,B);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)B=b.child,B!==null&&(B.return=b),Wu(f,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var h8=function(f,h,y,S){for(var b=h.child;b!==null;){if(b.tag===5){var B=b.stateNode;y&&S&&(B=dd(B,b.type,b.memoizedProps,b)),Du(f,B)}else if(b.tag===6)B=b.stateNode,y&&S&&(B=Fl(B,b.memoizedProps,b)),Du(f,B);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)B=b.child,B!==null&&(B.return=b),h8(f,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};Ju=function(f,h){var y=h.stateNode;if(!f8(f,h)){f=y.containerInfo;var S=Qr(f);h8(S,h,!1,!1),y.pendingChildren=S,ds(h),Zm(f,S)}},Gd=function(f,h,y,S,b){var B=f.stateNode,J=f.memoizedProps;if((f=f8(f,h))&&J===S)h.stateNode=B;else{var te=h.stateNode,ye=fs(hi.current),ke=null;J!==S&&(ke=Ae(te,y,J,S,b,ye)),f&&ke===null?h.stateNode=B:(B=sr(B,ke,y,J,S,h,f,te),ae(B,y,S,b,ye)&&ds(h),h.stateNode=B,f?ds(h):Wu(B,h,!1,!1))}},Qd=function(f,h,y,S){y!==S?(f=fs(zl.current),y=fs(hi.current),h.stateNode=re(S,f,y,h),ds(h)):h.stateNode=f.stateNode}}else Ju=function(){},Gd=function(){},Qd=function(){};function ju(f,h){if(!mn)switch(f.tailMode){case"hidden":h=f.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:S.sibling=null}}function mr(f){var h=f.alternate!==null&&f.alternate.child===f.child,y=0,S=0;if(h)for(var b=f.child;b!==null;)y|=b.lanes|b.childLanes,S|=b.subtreeFlags&14680064,S|=b.flags&14680064,b.return=f,b=b.sibling;else for(b=f.child;b!==null;)y|=b.lanes|b.childLanes,S|=b.subtreeFlags,S|=b.flags,b.return=f,b=b.sibling;return f.subtreeFlags|=S,f.childLanes=y,h}function Ow(f,h,y){var S=h.pendingProps;switch(Ag(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(h),null;case 1:return Rr(h.type)&&gd(),mr(h),null;case 3:return S=h.stateNode,Vl(),Jt(Br),Jt(hr),_g(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(Nu(h)?ds(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ki!==null&&(Zg(ki),ki=null))),Ju(f,h),mr(h),null;case 5:Eg(h),y=fs(zl.current);var b=h.type;if(f!==null&&h.stateNode!=null)Gd(f,h,b,S,y),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!S){if(h.stateNode===null)throw Error(o(166));return mr(h),null}if(f=fs(hi.current),Nu(h)){if(!ne)throw Error(o(175));f=yt(h.stateNode,h.type,h.memoizedProps,y,f,h,!ku),h.updateQueue=f,f!==null&&ds(h)}else{var B=ee(b,S,y,f,h);Wu(B,h,!1,!1),h.stateNode=B,ae(B,b,S,y,f)&&ds(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return mr(h),null;case 6:if(f&&h.stateNode!=null)Qd(f,h,f.memoizedProps,S);else{if(typeof S!="string"&&h.stateNode===null)throw Error(o(166));if(f=fs(zl.current),y=fs(hi.current),Nu(h)){if(!ne)throw Error(o(176));if(f=h.stateNode,S=h.memoizedProps,(y=It(f,S,h,!ku))&&(b=Hr,b!==null))switch(B=(b.mode&1)!==0,b.tag){case 3:go(b.stateNode.containerInfo,f,S,B);break;case 5:ai(b.type,b.memoizedProps,b.stateNode,f,S,B)}y&&ds(h)}else h.stateNode=re(S,f,y,h)}return mr(h),null;case 13:if(Jt(vn),S=h.memoizedState,mn&&zr!==null&&h.mode&1&&!(h.flags&128)){for(f=zr;f;)f=me(f);return Ql(),h.flags|=98560,h}if(S!==null&&S.dehydrated!==null){if(S=Nu(h),f===null){if(!S)throw Error(o(318));if(!ne)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));bt(f,h)}else Ql(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return mr(h),null}return ki!==null&&(Zg(ki),ki=null),h.flags&128?(h.lanes=y,h):(S=S!==null,y=!1,f===null?Nu(h):y=f.memoizedState!==null,S&&!y&&(h.child.flags|=8192,h.mode&1&&(f===null||vn.current&1?Qn===0&&(Qn=3):tA())),h.updateQueue!==null&&(h.flags|=4),mr(h),null);case 4:return Vl(),Ju(f,h),f===null&&Me(h.stateNode.containerInfo),mr(h),null;case 10:return fg(h.type._context),mr(h),null;case 17:return Rr(h.type)&&gd(),mr(h),null;case 19:if(Jt(vn),b=h.memoizedState,b===null)return mr(h),null;if(S=(h.flags&128)!==0,B=b.rendering,B===null)if(S)ju(b,!1);else{if(Qn!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(B=Pd(f),B!==null){for(h.flags|=128,ju(b,!1),f=B.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=y,S=h.child;S!==null;)y=S,b=f,y.flags&=14680066,B=y.alternate,B===null?(y.childLanes=0,y.lanes=b,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=B.childLanes,y.lanes=B.lanes,y.child=B.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=B.memoizedProps,y.memoizedState=B.memoizedState,y.updateQueue=B.updateQueue,y.type=B.type,b=B.dependencies,y.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),S=S.sibling;return jt(vn,vn.current&1|2),h.child}f=f.sibling}b.tail!==null&&Yn()>qg&&(h.flags|=128,S=!0,ju(b,!1),h.lanes=4194304)}else{if(!S)if(f=Pd(B),f!==null){if(h.flags|=128,S=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),ju(b,!0),b.tail===null&&b.tailMode==="hidden"&&!B.alternate&&!mn)return mr(h),null}else 2*Yn()-b.renderingStartTime>qg&&y!==1073741824&&(h.flags|=128,S=!0,ju(b,!1),h.lanes=4194304);b.isBackwards?(B.sibling=h.child,h.child=B):(f=b.last,f!==null?f.sibling=B:h.child=B,b.last=B)}return b.tail!==null?(h=b.tail,b.rendering=h,b.tail=h.sibling,b.renderingStartTime=Yn(),h.sibling=null,f=vn.current,jt(vn,S?f&1|2:f&1),h):(mr(h),null);case 22:case 23:return eA(),S=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==S&&(h.flags|=8192),S&&h.mode&1?Wr&1073741824&&(mr(h),xe&&h.subtreeFlags&6&&(h.flags|=8192)):mr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var Uw=a.ReactCurrentOwner,Vr=!1;function xr(f,h,y,S){h.child=f===null?G6(h,null,y,S):Hl(h,f.child,y,S)}function d8(f,h,y,S,b){y=y.render;var B=h.ref;return Ol(h,b),S=Ig(f,h,y,S,B,b),y=wg(),f!==null&&!Vr?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~b,Ws(f,h,b)):(mn&&y&&gg(h),h.flags|=1,xr(f,h,S,b),h.child)}function p8(f,h,y,S,b){if(f===null){var B=y.type;return typeof B=="function"&&!nA(B)&&B.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=B,m8(f,h,B,S,b)):(f=lp(y.type,null,S,h,h.mode,b),f.ref=h.ref,f.return=h,h.child=f)}if(B=f.child,!(f.lanes&b)){var J=B.memoizedProps;if(y=y.compare,y=y!==null?y:Sd,y(J,S)&&f.ref===h.ref)return Ws(f,h,b)}return h.flags|=1,f=So(B,S),f.ref=h.ref,f.return=h,h.child=f}function m8(f,h,y,S,b){if(f!==null&&Sd(f.memoizedProps,S)&&f.ref===h.ref)if(Vr=!1,(f.lanes&b)!==0)f.flags&131072&&(Vr=!0);else return h.lanes=f.lanes,Ws(f,h,b);return Dg(f,h,y,S,b)}function g8(f,h,y){var S=h.pendingProps,b=S.children,B=f!==null?f.memoizedState:null;if(S.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},jt(Jl,Wr),Wr|=y;else if(y&1073741824)h.memoizedState={baseLanes:0,cachePool:null},S=B!==null?B.baseLanes:y,jt(Jl,Wr),Wr|=S;else return f=B!==null?B.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,jt(Jl,Wr),Wr|=f,null;else B!==null?(S=B.baseLanes|y,h.memoizedState=null):S=y,jt(Jl,Wr),Wr|=S;return xr(f,h,b,y),h.child}function A8(f,h){var y=h.ref;(f===null&&y!==null||f!==null&&f.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function Dg(f,h,y,S,b){var B=Rr(y)?ba:hr.current;return B=kl(h,B),Ol(h,b),y=Ig(f,h,y,S,B,b),S=wg(),f!==null&&!Vr?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~b,Ws(f,h,b)):(mn&&S&&gg(h),h.flags|=1,xr(f,h,y,b),h.child)}function v8(f,h,y,S,b){if(Rr(y)){var B=!0;Ad(h)}else B=!1;if(Ol(h,b),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),P6(h,y,S),mg(h,y,S,b),S=!0;else if(f===null){var J=h.stateNode,te=h.memoizedProps;J.props=te;var ye=J.context,ke=y.contextType;typeof ke=="object"&&ke!==null?ke=ci(ke):(ke=Rr(y)?ba:hr.current,ke=kl(h,ke));var Ye=y.getDerivedStateFromProps,xt=typeof Ye=="function"||typeof J.getSnapshotBeforeUpdate=="function";xt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(te!==S||ye!==ke)&&D6(h,J,S,ke),Ao=!1;var at=h.memoizedState;J.state=at,wd(h,S,J,b),ye=h.memoizedState,te!==S||at!==ye||Br.current||Ao?(typeof Ye=="function"&&(pg(h,y,Ye,S),ye=h.memoizedState),(te=Ao||R6(h,y,te,S,at,ye,ke))?(xt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(h.flags|=4194308)):(typeof J.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=ye),J.props=S,J.state=ye,J.context=ke,S=te):(typeof J.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{J=h.stateNode,w6(f,h),te=h.memoizedProps,ke=h.type===h.elementType?te:Fi(h.type,te),J.props=ke,xt=h.pendingProps,at=J.context,ye=y.contextType,typeof ye=="object"&&ye!==null?ye=ci(ye):(ye=Rr(y)?ba:hr.current,ye=kl(h,ye));var en=y.getDerivedStateFromProps;(Ye=typeof en=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(te!==xt||at!==ye)&&D6(h,J,S,ye),Ao=!1,at=h.memoizedState,J.state=at,wd(h,S,J,b);var it=h.memoizedState;te!==xt||at!==it||Br.current||Ao?(typeof en=="function"&&(pg(h,y,en,S),it=h.memoizedState),(ke=Ao||R6(h,y,ke,S,at,it,ye)||!1)?(Ye||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(S,it,ye),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(S,it,ye)),typeof J.componentDidUpdate=="function"&&(h.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof J.componentDidUpdate!="function"||te===f.memoizedProps&&at===f.memoizedState||(h.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||te===f.memoizedProps&&at===f.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=it),J.props=S,J.state=it,J.context=ye,S=ke):(typeof J.componentDidUpdate!="function"||te===f.memoizedProps&&at===f.memoizedState||(h.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||te===f.memoizedProps&&at===f.memoizedState||(h.flags|=1024),S=!1)}return Lg(f,h,y,S,B,b)}function Lg(f,h,y,S,b,B){A8(f,h);var J=(h.flags&128)!==0;if(!S&&!J)return b&&E6(h,y,!1),Ws(f,h,B);S=h.stateNode,Uw.current=h;var te=J&&typeof y.getDerivedStateFromError!="function"?null:S.render();return h.flags|=1,f!==null&&J?(h.child=Hl(h,f.child,null,B),h.child=Hl(h,null,te,B)):xr(f,h,te,B),h.memoizedState=S.state,b&&E6(h,y,!0),h.child}function y8(f){var h=f.stateNode;h.pendingContext?x6(f,h.pendingContext,h.pendingContext!==h.context):h.context&&x6(f,h.context,!1),Cg(f,h.containerInfo)}function x8(f,h,y,S,b){return Ql(),xg(b),h.flags|=256,xr(f,h,y,S),h.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function zd(f){return{baseLanes:f,cachePool:null}}function C8(f,h,y){var S=h.pendingProps,b=vn.current,B=!1,J=(h.flags&128)!==0,te;if((te=J)||(te=f!==null&&f.memoizedState===null?!1:(b&2)!==0),te?(B=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(b|=1),jt(vn,b&1),f===null)return yg(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?H(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(b=S.children,f=S.fallback,B?(S=h.mode,B=h.child,b={mode:"hidden",children:b},!(S&1)&&B!==null?(B.childLanes=0,B.pendingProps=b):B=cp(b,S,0,null),f=La(f,S,y,null),B.return=h,f.return=h,B.sibling=f,h.child=B,h.child.memoizedState=zd(y),h.memoizedState=Hd,f):Fg(h,b));if(b=f.memoizedState,b!==null){if(te=b.dehydrated,te!==null){if(J)return h.flags&256?(h.flags&=-257,Vd(f,h,y,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(B=S.fallback,b=h.mode,S=cp({mode:"visible",children:S.children},b,0,null),B=La(B,b,y,null),B.flags|=2,S.return=h,B.return=h,S.sibling=B,h.child=S,h.mode&1&&Hl(h,f.child,null,y),h.child.memoizedState=zd(y),h.memoizedState=Hd,B);if(!(h.mode&1))h=Vd(f,h,y,null);else if(H(te))h=Vd(f,h,y,Error(o(419)));else if(S=(y&f.childLanes)!==0,Vr||S){if(S=Nn,S!==null){switch(y&-y){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}S=B&(S.suspendedLanes|y)?0:B,S!==0&&S!==b.retryLane&&(b.retryLane=S,pi(f,S,-1))}tA(),h=Vd(f,h,y,Error(o(421)))}else md(te)?(h.flags|=128,h.child=f.child,h=$w.bind(null,f),ce(te,h),h=null):(y=b.treeContext,ne&&(zr=pt(te),Hr=h,mn=!0,ki=null,ku=!1,y!==null&&(ui[fi++]=Hs,ui[fi++]=zs,ui[fi++]=Ia,Hs=y.id,zs=y.overflow,Ia=h)),h=Fg(h,h.pendingProps.children),h.flags|=4096);return h}return B?(S=S8(f,h,S.children,S.fallback,y),B=h.child,b=f.child.memoizedState,B.memoizedState=b===null?zd(y):{baseLanes:b.baseLanes|y,cachePool:null},B.childLanes=f.childLanes&~y,h.memoizedState=Hd,S):(y=E8(f,h,S.children,y),h.memoizedState=null,y)}return B?(S=S8(f,h,S.children,S.fallback,y),B=h.child,b=f.child.memoizedState,B.memoizedState=b===null?zd(y):{baseLanes:b.baseLanes|y,cachePool:null},B.childLanes=f.childLanes&~y,h.memoizedState=Hd,S):(y=E8(f,h,S.children,y),h.memoizedState=null,y)}function Fg(f,h){return h=cp({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function E8(f,h,y,S){var b=f.child;return f=b.sibling,y=So(b,{mode:"visible",children:y}),!(h.mode&1)&&(y.lanes=S),y.return=h,y.sibling=null,f!==null&&(S=h.deletions,S===null?(h.deletions=[f],h.flags|=16):S.push(f)),h.child=y}function S8(f,h,y,S,b){var B=h.mode;f=f.child;var J=f.sibling,te={mode:"hidden",children:y};return!(B&1)&&h.child!==f?(y=h.child,y.childLanes=0,y.pendingProps=te,h.deletions=null):(y=So(f,te),y.subtreeFlags=f.subtreeFlags&14680064),J!==null?S=So(J,S):(S=La(S,B,b,null),S.flags|=2),S.return=h,y.return=h,y.sibling=S,h.child=y,S}function Vd(f,h,y,S){return S!==null&&xg(S),Hl(h,f.child,null,y),f=Fg(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function _8(f,h,y){f.lanes|=h;var S=f.alternate;S!==null&&(S.lanes|=h),hg(f.return,h,y)}function kg(f,h,y,S,b){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:b}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=S,B.tail=y,B.tailMode=b)}function b8(f,h,y){var S=h.pendingProps,b=S.revealOrder,B=S.tail;if(xr(f,h,S.children,y),S=vn.current,S&2)S=S&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&_8(f,y,h);else if(f.tag===19)_8(f,y,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}S&=1}if(jt(vn,S),!(h.mode&1))h.memoizedState=null;else switch(b){case"forwards":for(y=h.child,b=null;y!==null;)f=y.alternate,f!==null&&Pd(f)===null&&(b=y),y=y.sibling;y=b,y===null?(b=h.child,h.child=null):(b=y.sibling,y.sibling=null),kg(h,!1,b,y,B);break;case"backwards":for(y=null,b=h.child,h.child=null;b!==null;){if(f=b.alternate,f!==null&&Pd(f)===null){h.child=b;break}f=b.sibling,b.sibling=y,y=b,b=f}kg(h,!0,y,null,B);break;case"together":kg(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ws(f,h,y){if(f!==null&&(h.dependencies=f.dependencies),jl|=h.lanes,!(y&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,y=So(f,f.pendingProps),h.child=y,y.return=h;f.sibling!==null;)f=f.sibling,y=y.sibling=So(f,f.pendingProps),y.return=h;y.sibling=null}return h.child}function Gw(f,h,y){switch(h.tag){case 3:y8(h),Ql();break;case 5:Q6(h);break;case 1:Rr(h.type)&&Ad(h);break;case 4:Cg(h,h.stateNode.containerInfo);break;case 10:I6(h,h.type._context,h.memoizedProps.value);break;case 13:var S=h.memoizedState;if(S!==null)return S.dehydrated!==null?(jt(vn,vn.current&1),h.flags|=128,null):y&h.child.childLanes?C8(f,h,y):(jt(vn,vn.current&1),f=Ws(f,h,y),f!==null?f.sibling:null);jt(vn,vn.current&1);break;case 19:if(S=(y&h.childLanes)!==0,f.flags&128){if(S)return b8(f,h,y);h.flags|=128}var b=h.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),jt(vn,vn.current),S)break;return null;case 22:case 23:return h.lanes=0,g8(f,h,y)}return Ws(f,h,y)}function Qw(f,h){switch(Ag(h),h.tag){case 1:return Rr(h.type)&&gd(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Vl(),Jt(Br),Jt(hr),_g(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return Eg(h),null;case 13:if(Jt(vn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Ql()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Jt(vn),null;case 4:return Vl(),null;case 10:return fg(h.type._context),null;case 22:case 23:return eA(),null;case 24:return null;default:return null}}var Wd=!1,Ta=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Jd(f,h){var y=f.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){Lr(f,h,S)}else y.current=null}function Ng(f,h,y){try{y()}catch(S){Lr(f,h,S)}}var I8=!1;function zw(f,h){for(j(f.containerInfo),Ve=h;Ve!==null;)if(f=Ve,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Ve=h;else for(;Ve!==null;){f=Ve;try{var y=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,b=y.memoizedState,B=f.stateNode,J=B.getSnapshotBeforeUpdate(f.elementType===f.type?S:Fi(f.type,S),b);B.__reactInternalSnapshotBeforeUpdate=J}break;case 3:xe&&dt(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){Lr(f,f.return,te)}if(h=f.sibling,h!==null){h.return=f.return,Ve=h;break}Ve=f.return}return y=I8,I8=!1,y}function Ba(f,h,y){var S=h.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var b=S=S.next;do{if((b.tag&f)===f){var B=b.destroy;b.destroy=void 0,B!==void 0&&Ng(h,y,B)}b=b.next}while(b!==S)}}function Ku(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&f)===f){var S=y.create;y.destroy=S()}y=y.next}while(y!==h)}}function Og(f){var h=f.ref;if(h!==null){var y=f.stateNode;switch(f.tag){case 5:f=V(y);break;default:f=y}typeof h=="function"?h(f):h.current=f}}function w8(f,h,y){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Cd,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var S=f=f.next;do{var b=S,B=b.destroy;b=b.tag,B!==void 0&&(b&2||b&4)&&Ng(h,y,B),S=S.next}while(S!==f)}break;case 1:if(Jd(h,y),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(J){Lr(h,y,J)}break;case 5:Jd(h,y);break;case 4:xe?D8(f,h,y):oe&&oe&&(h=h.stateNode.containerInfo,y=Qr(h),_a(h,y))}}function M8(f,h,y){for(var S=h;;)if(w8(f,S,y),S.child===null||xe&&S.tag===4){if(S===h)break;for(;S.sibling===null;){if(S.return===null||S.return===h)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function T8(f){var h=f.alternate;h!==null&&(f.alternate=null,T8(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&qe(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function B8(f){return f.tag===5||f.tag===3||f.tag===4}function R8(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||B8(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function P8(f){if(xe){e:{for(var h=f.return;h!==null;){if(B8(h))break e;h=h.return}throw Error(o(160))}var y=h;switch(y.tag){case 5:h=y.stateNode,y.flags&32&&(He(h),y.flags&=-33),y=R8(f),Gg(f,y,h);break;case 3:case 4:h=y.stateNode.containerInfo,y=R8(f),Ug(f,y,h);break;default:throw Error(o(161))}}}function Ug(f,h,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,h?fe(y,f,h):ue(y,f);else if(S!==4&&(f=f.child,f!==null))for(Ug(f,h,y),f=f.sibling;f!==null;)Ug(f,h,y),f=f.sibling}function Gg(f,h,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,h?O(y,f,h):Ue(y,f);else if(S!==4&&(f=f.child,f!==null))for(Gg(f,h,y),f=f.sibling;f!==null;)Gg(f,h,y),f=f.sibling}function D8(f,h,y){for(var S=h,b=!1,B,J;;){if(!b){b=S.return;e:for(;;){if(b===null)throw Error(o(160));switch(B=b.stateNode,b.tag){case 5:J=!1;break e;case 3:B=B.containerInfo,J=!0;break e;case 4:B=B.containerInfo,J=!0;break e}b=b.return}b=!0}if(S.tag===5||S.tag===6)M8(f,S,y),J?Ke(B,S.stateNode):Se(B,S.stateNode);else if(S.tag===18)J?Os(B,S.stateNode):hn(B,S.stateNode);else if(S.tag===4){if(S.child!==null){B=S.stateNode.containerInfo,J=!0,S.child.return=S,S=S.child;continue}}else if(w8(f,S,y),S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break;for(;S.sibling===null;){if(S.return===null||S.return===h)return;S=S.return,S.tag===4&&(b=!1)}S.sibling.return=S.return,S=S.sibling}}function Qg(f,h){if(xe){switch(h.tag){case 0:case 11:case 14:case 15:Ba(3,h,h.return),Ku(3,h),Ba(5,h,h.return);return;case 1:return;case 5:var y=h.stateNode;if(y!=null){var S=h.memoizedProps;f=f!==null?f.memoizedProps:S;var b=h.type,B=h.updateQueue;h.updateQueue=null,B!==null&&U(y,B,b,f,S,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));y=h.memoizedProps,We(h.stateNode,f!==null?f.memoizedProps:y,y);return;case 3:ne&&f!==null&&f.memoizedState.isDehydrated&&Rt(h.stateNode.containerInfo);return;case 12:return;case 13:jd(h);return;case 19:jd(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Ba(3,h,h.return),Ku(3,h),Ba(5,h,h.return);return;case 12:return;case 13:jd(h);return;case 19:jd(h);return;case 3:ne&&f!==null&&f.memoizedState.isDehydrated&&Rt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(oe){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,_a(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function jd(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var y=f.stateNode;y===null&&(y=f.stateNode=new Hw),h.forEach(function(S){var b=Zw.bind(null,f,S);y.has(S)||(y.add(S),S.then(b,b))})}}function Vw(f,h){for(Ve=h;Ve!==null;){h=Ve;var y=h.deletions;if(y!==null)for(var S=0;S<y.length;S++){var b=y[S];try{var B=f;xe?D8(B,b,h):M8(B,b,h);var J=b.alternate;J!==null&&(J.return=null),b.return=null}catch(nt){Lr(b,h,nt)}}if(y=h.child,h.subtreeFlags&12854&&y!==null)y.return=h,Ve=y;else for(;Ve!==null;){h=Ve;try{var te=h.flags;if(te&32&&xe&&He(h.stateNode),te&512){var ye=h.alternate;if(ye!==null){var ke=ye.ref;ke!==null&&(typeof ke=="function"?ke(null):ke.current=null)}}if(te&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Ye=h.alternate;(Ye===null||Ye.memoizedState===null)&&(Kg=Yn())}break;case 22:var xt=h.memoizedState!==null,at=h.alternate,en=at!==null&&at.memoizedState!==null;if(y=h,xe){e:if(S=y,b=xt,B=null,xe)for(var it=S;;){if(it.tag===5){if(B===null){B=it;var gr=it.stateNode;b?et(gr):ot(it.stateNode,it.memoizedProps)}}else if(it.tag===6){if(B===null){var gi=it.stateNode;b?De(gi):ht(gi,it.memoizedProps)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===S)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===S)break;for(;it.sibling===null;){if(it.return===null||it.return===S)break e;B===it&&(B=null),it=it.return}B===it&&(B=null),it.sibling.return=it.return,it=it.sibling}}if(xt&&!en&&y.mode&1){Ve=y;for(var le=y.child;le!==null;){for(y=Ve=le;Ve!==null;){S=Ve;var ie=S.child;switch(S.tag){case 0:case 11:case 14:case 15:Ba(4,S,S.return);break;case 1:Jd(S,S.return);var pe=S.stateNode;if(typeof pe.componentWillUnmount=="function"){var Je=S.return;try{pe.props=S.memoizedProps,pe.state=S.memoizedState,pe.componentWillUnmount()}catch(nt){Lr(S,Je,nt)}}break;case 5:Jd(S,S.return);break;case 22:if(S.memoizedState!==null){k8(y);continue}}ie!==null?(ie.return=S,Ve=ie):k8(y)}le=le.sibling}}}switch(te&4102){case 2:P8(h),h.flags&=-3;break;case 6:P8(h),h.flags&=-3,Qg(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Qg(h.alternate,h);break;case 4:Qg(h.alternate,h)}}catch(nt){Lr(h,h.return,nt)}if(y=h.sibling,y!==null){y.return=h.return,Ve=y;break}Ve=h.return}}}function Ww(f,h,y){Ve=f,L8(f)}function L8(f,h,y){for(var S=(f.mode&1)!==0;Ve!==null;){var b=Ve,B=b.child;if(b.tag===22&&S){var J=b.memoizedState!==null||Wd;if(!J){var te=b.alternate,ye=te!==null&&te.memoizedState!==null||Ta;te=Wd;var ke=Ta;if(Wd=J,(Ta=ye)&&!ke)for(Ve=b;Ve!==null;)J=Ve,ye=J.child,J.tag===22&&J.memoizedState!==null?N8(b):ye!==null?(ye.return=J,Ve=ye):N8(b);for(;B!==null;)Ve=B,L8(B),B=B.sibling;Ve=b,Wd=te,Ta=ke}F8(f)}else b.subtreeFlags&8772&&B!==null?(B.return=b,Ve=B):F8(f)}}function F8(f){for(;Ve!==null;){var h=Ve;if(h.flags&8772){var y=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Ta||Ku(5,h);break;case 1:var S=h.stateNode;if(h.flags&4&&!Ta)if(y===null)S.componentDidMount();else{var b=h.elementType===h.type?y.memoizedProps:Fi(h.type,y.memoizedProps);S.componentDidUpdate(b,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var B=h.updateQueue;B!==null&&T6(h,B,S);break;case 3:var J=h.updateQueue;if(J!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=V(h.child.stateNode);break;case 1:y=h.child.stateNode}T6(h,J,y)}break;case 5:var te=h.stateNode;y===null&&h.flags&4&&Oe(te,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(ne&&h.memoizedState===null){var ye=h.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var Ye=ke.dehydrated;Ye!==null&&Lt(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ta||h.flags&512&&Og(h)}catch(xt){Lr(h,h.return,xt)}}if(h===f){Ve=null;break}if(y=h.sibling,y!==null){y.return=h.return,Ve=y;break}Ve=h.return}}function k8(f){for(;Ve!==null;){var h=Ve;if(h===f){Ve=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Ve=y;break}Ve=h.return}}function N8(f){for(;Ve!==null;){var h=Ve;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{Ku(4,h)}catch(ye){Lr(h,y,ye)}break;case 1:var S=h.stateNode;if(typeof S.componentDidMount=="function"){var b=h.return;try{S.componentDidMount()}catch(ye){Lr(h,b,ye)}}var B=h.return;try{Og(h)}catch(ye){Lr(h,B,ye)}break;case 5:var J=h.return;try{Og(h)}catch(ye){Lr(h,J,ye)}}}catch(ye){Lr(h,h.return,ye)}if(h===f){Ve=null;break}var te=h.sibling;if(te!==null){te.return=h.return,Ve=te;break}Ve=h.return}}var Kd=0,qd=1,Yd=2,Xd=3,$d=4;if(typeof Symbol=="function"&&Symbol.for){var qu=Symbol.for;Kd=qu("selector.component"),qd=qu("selector.has_pseudo_class"),Yd=qu("selector.role"),Xd=qu("selector.test_id"),$d=qu("selector.text")}function Hg(f){var h=Ce(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=rt(f),f===null)throw Error(o(362));return f.stateNode.current}function zg(f,h){switch(h.$$typeof){case Kd:if(f.type===h.value)return!0;break;case qd:e:{h=h.value,f=[f,0];for(var y=0;y<f.length;){var S=f[y++],b=f[y++],B=h[b];if(S.tag!==5||!se(S)){for(;B!=null&&zg(S,B);)b++,B=h[b];if(b===h.length){h=!0;break e}else for(S=S.child;S!==null;)f.push(S,b),S=S.sibling}}h=!1}return h;case Yd:if(f.tag===5&&we(f.stateNode,h.value))return!0;break;case $d:if((f.tag===5||f.tag===6)&&(f=N(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Xd:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Vg(f){switch(f.$$typeof){case Kd:return"<"+(T(f.value)||"Unknown")+">";case qd:return":has("+(Vg(f)||"")+")";case Yd:return'[role="'+f.value+'"]';case $d:return'"'+f.value+'"';case Xd:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function O8(f,h){var y=[];f=[f,0];for(var S=0;S<f.length;){var b=f[S++],B=f[S++],J=h[B];if(b.tag!==5||!se(b)){for(;J!=null&&zg(b,J);)B++,J=h[B];if(B===h.length)y.push(b);else for(b=b.child;b!==null;)f.push(b,B),b=b.sibling}}return y}function Wg(f,h){if(!ct)throw Error(o(363));f=Hg(f),f=O8(f,h),h=[],f=Array.from(f);for(var y=0;y<f.length;){var S=f[y++];if(S.tag===5)se(S)||h.push(S.stateNode);else for(S=S.child;S!==null;)f.push(S),S=S.sibling}return h}var Jw=Math.ceil,Zd=a.ReactCurrentDispatcher,Jg=a.ReactCurrentOwner,Dn=a.ReactCurrentBatchConfig,Mt=0,Nn=null,On=null,or=0,Wr=0,Jl=pn(0),Qn=0,Yu=null,jl=0,ep=0,jg=0,Xu=null,Pr=null,Kg=0,qg=1/0;function Kl(){qg=Yn()+500}var tp=!1,Yg=null,yo=null,np=!1,xo=null,rp=0,$u=0,Xg=null,ip=-1,sp=0;function Cr(){return Mt&6?Yn():ip!==-1?ip:ip=Yn()}function Co(f){return f.mode&1?Mt&2&&or!==0?or&-or:Mw.transition!==null?(sp===0&&(f=vd,vd<<=1,!(vd&4194240)&&(vd=64),sp=f),sp):(f=Gt,f!==0?f:Fe()):1}function pi(f,h,y){if(50<$u)throw $u=0,Xg=null,Error(o(185));var S=op(f,h);return S===null?null:(Fu(S,h,y),(!(Mt&2)||S!==Nn)&&(S===Nn&&(!(Mt&2)&&(ep|=h),Qn===4&&Eo(S,or)),Dr(S,y),h===1&&Mt===0&&!(f.mode&1)&&(Kl(),Ed&&cs())),S)}function op(f,h){f.lanes|=h;var y=f.alternate;for(y!==null&&(y.lanes|=h),y=f,f=f.return;f!==null;)f.childLanes|=h,y=f.alternate,y!==null&&(y.childLanes|=h),y=f,f=f.return;return y.tag===3?y.stateNode:null}function Dr(f,h){var y=f.callbackNode;yw(f,h);var S=xd(f,f===Nn?or:0);if(S===0)y!==null&&_6(y),f.callbackNode=null,f.callbackPriority=0;else if(h=S&-S,f.callbackPriority!==h){if(y!=null&&_6(y),h===1)f.tag===0?ww(G8.bind(null,f)):b6(G8.bind(null,f)),je?ze(function(){Mt===0&&cs()}):sg(og,cs),y=null;else{switch(S6(S)){case 1:y=og;break;case 4:y=Sw;break;case 16:y=ag;break;case 536870912:y=_w;break;default:y=ag}y=q8(y,U8.bind(null,f))}f.callbackPriority=h,f.callbackNode=y}}function U8(f,h){if(ip=-1,sp=0,Mt&6)throw Error(o(327));var y=f.callbackNode;if(Da()&&f.callbackNode!==y)return null;var S=xd(f,f===Nn?or:0);if(S===0)return null;if(S&30||S&f.expiredLanes||h)h=ap(f,S);else{h=S;var b=Mt;Mt|=2;var B=z8();(Nn!==f||or!==h)&&(Kl(),Ra(f,h));do try{qw();break}catch(te){H8(f,te)}while(1);ug(),Zd.current=B,Mt=b,On!==null?h=0:(Nn=null,or=0,h=Qn)}if(h!==0){if(h===2&&(b=ng(f),b!==0&&(S=b,h=$g(f,b))),h===1)throw y=Yu,Ra(f,0),Eo(f,S),Dr(f,Yn()),y;if(h===6)Eo(f,S);else{if(b=f.current.alternate,!(S&30)&&!jw(b)&&(h=ap(f,S),h===2&&(B=ng(f),B!==0&&(S=B,h=$g(f,B))),h===1))throw y=Yu,Ra(f,0),Eo(f,S),Dr(f,Yn()),y;switch(f.finishedWork=b,f.finishedLanes=S,h){case 0:case 1:throw Error(o(345));case 2:Pa(f,Pr);break;case 3:if(Eo(f,S),(S&130023424)===S&&(h=Kg+500-Yn(),10<h)){if(xd(f,0)!==0)break;if(b=f.suspendedLanes,(b&S)!==S){Cr(),f.pingedLanes|=f.suspendedLanes&b;break}f.timeoutHandle=Ne(Pa.bind(null,f,Pr),h);break}Pa(f,Pr);break;case 4:if(Eo(f,S),(S&4194240)===S)break;for(h=f.eventTimes,b=-1;0<S;){var J=31-Li(S);B=1<<J,J=h[J],J>b&&(b=J),S&=~B}if(S=b,S=Yn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*Jw(S/1960))-S,10<S){f.timeoutHandle=Ne(Pa.bind(null,f,Pr),S);break}Pa(f,Pr);break;case 5:Pa(f,Pr);break;default:throw Error(o(329))}}}return Dr(f,Yn()),f.callbackNode===y?U8.bind(null,f):null}function $g(f,h){var y=Xu;return f.current.memoizedState.isDehydrated&&(Ra(f,h).flags|=256),f=ap(f,h),f!==2&&(h=Pr,Pr=y,h!==null&&Zg(h)),f}function Zg(f){Pr===null?Pr=f:Pr.push.apply(Pr,f)}function jw(f){for(var h=f;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var b=y[S],B=b.getSnapshot;b=b.value;try{if(!ls(B(),b))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Eo(f,h){for(h&=~jg,h&=~ep,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var y=31-Li(h),S=1<<y;f[y]=-1,h&=~S}}function G8(f){if(Mt&6)throw Error(o(327));Da();var h=xd(f,0);if(!(h&1))return Dr(f,Yn()),null;var y=ap(f,h);if(f.tag!==0&&y===2){var S=ng(f);S!==0&&(h=S,y=$g(f,S))}if(y===1)throw y=Yu,Ra(f,0),Eo(f,h),Dr(f,Yn()),y;if(y===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,Pa(f,Pr),Dr(f,Yn()),null}function Q8(f){xo!==null&&xo.tag===0&&!(Mt&6)&&Da();var h=Mt;Mt|=1;var y=Dn.transition,S=Gt;try{if(Dn.transition=null,Gt=1,f)return f()}finally{Gt=S,Dn.transition=y,Mt=h,!(Mt&6)&&cs()}}function eA(){Wr=Jl.current,Jt(Jl)}function Ra(f,h){f.finishedWork=null,f.finishedLanes=0;var y=f.timeoutHandle;if(y!==Le&&(f.timeoutHandle=Le,Pe(y)),On!==null)for(y=On.return;y!==null;){var S=y;switch(Ag(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&gd();break;case 3:Vl(),Jt(Br),Jt(hr),_g();break;case 5:Eg(S);break;case 4:Vl();break;case 13:Jt(vn);break;case 19:Jt(vn);break;case 10:fg(S.type._context);break;case 22:case 23:eA()}y=y.return}if(Nn=f,On=f=So(f.current,null),or=Wr=h,Qn=0,Yu=null,jg=ep=jl=0,Pr=Xu=null,us!==null){for(h=0;h<us.length;h++)if(y=us[h],S=y.interleaved,S!==null){y.interleaved=null;var b=S.next,B=y.pending;if(B!==null){var J=B.next;B.next=b,S.next=J}y.pending=S}us=null}return f}function H8(f,h){do{var y=On;try{if(ug(),Dd.current=Ud,Ld){for(var S=Sn.memoizedState;S!==null;){var b=S.queue;b!==null&&(b.pending=null),S=S.next}Ld=!1}if(Wl=0,Xn=dr=Sn=null,Qu=!1,Hu=0,Jg.current=null,y===null||y.return===null){Qn=1,Yu=h,On=null;break}e:{var B=f,J=y.return,te=y,ye=h;if(h=or,te.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var ke=ye,Ye=te,xt=Ye.tag;if(!(Ye.mode&1)&&(xt===0||xt===11||xt===15)){var at=Ye.alternate;at?(Ye.updateQueue=at.updateQueue,Ye.memoizedState=at.memoizedState,Ye.lanes=at.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var en=c8(J);if(en!==null){en.flags&=-257,u8(en,J,te,B,h),en.mode&1&&l8(B,ke,h),h=en,ye=ke;var it=h.updateQueue;if(it===null){var gr=new Set;gr.add(ye),h.updateQueue=gr}else it.add(ye);break e}else{if(!(h&1)){l8(B,ke,h),tA();break e}ye=Error(o(426))}}else if(mn&&te.mode&1){var gi=c8(J);if(gi!==null){!(gi.flags&65536)&&(gi.flags|=256),u8(gi,J,te,B,h),xg(ye);break e}}B=ye,Qn!==4&&(Qn=2),Xu===null?Xu=[B]:Xu.push(B),ye=Rg(ye,te),te=J;do{switch(te.tag){case 3:te.flags|=65536,h&=-h,te.lanes|=h;var le=o8(te,ye,h);M6(te,le);break e;case 1:B=ye;var ie=te.type,pe=te.stateNode;if(!(te.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(yo===null||!yo.has(pe)))){te.flags|=65536,h&=-h,te.lanes|=h;var Je=a8(te,B,h);M6(te,Je);break e}}te=te.return}while(te!==null)}W8(y)}catch(nt){h=nt,On===y&&y!==null&&(On=y=y.return);continue}break}while(1)}function z8(){var f=Zd.current;return Zd.current=Ud,f===null?Ud:f}function tA(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),Nn===null||!(jl&268435455)&&!(ep&268435455)||Eo(Nn,or)}function ap(f,h){var y=Mt;Mt|=2;var S=z8();Nn===f&&or===h||Ra(f,h);do try{Kw();break}catch(b){H8(f,b)}while(1);if(ug(),Mt=y,Zd.current=S,On!==null)throw Error(o(261));return Nn=null,or=0,Qn}function Kw(){for(;On!==null;)V8(On)}function qw(){for(;On!==null&&!Cw();)V8(On)}function V8(f){var h=K8(f.alternate,f,Wr);f.memoizedProps=f.pendingProps,h===null?W8(f):On=h,Jg.current=null}function W8(f){var h=f;do{var y=h.alternate;if(f=h.return,h.flags&32768){if(y=Qw(y,h),y!==null){y.flags&=32767,On=y;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Qn=6,On=null;return}}else if(y=Ow(y,h,Wr),y!==null){On=y;return}if(h=h.sibling,h!==null){On=h;return}On=h=f}while(h!==null);Qn===0&&(Qn=5)}function Pa(f,h){var y=Gt,S=Dn.transition;try{Dn.transition=null,Gt=1,Yw(f,h,y)}finally{Dn.transition=S,Gt=y}return null}function Yw(f,h,y){do Da();while(xo!==null);if(Mt&6)throw Error(o(327));var S=f.finishedWork,b=f.finishedLanes;if(S===null)return null;if(f.finishedWork=null,f.finishedLanes=0,S===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var B=S.lanes|S.childLanes;if(xw(f,B),f===Nn&&(On=Nn=null,or=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||np||(np=!0,q8(ag,function(){return Da(),null})),B=(S.flags&15990)!==0,S.subtreeFlags&15990||B){B=Dn.transition,Dn.transition=null;var J=Gt;Gt=1;var te=Mt;Mt|=4,Jg.current=null,zw(f,S),Vw(f,S),K(f.containerInfo),f.current=S,Ww(S),Ew(),Mt=te,Gt=J,Dn.transition=B}else f.current=S;if(np&&(np=!1,xo=f,rp=b),B=f.pendingLanes,B===0&&(yo=null),bw(S.stateNode),Dr(f,Yn()),h!==null)for(y=f.onRecoverableError,S=0;S<h.length;S++)y(h[S]);if(tp)throw tp=!1,f=Yg,Yg=null,f;return rp&1&&f.tag!==0&&Da(),B=f.pendingLanes,B&1?f===Xg?$u++:($u=0,Xg=f):$u=0,cs(),null}function Da(){if(xo!==null){var f=S6(rp),h=Dn.transition,y=Gt;try{if(Dn.transition=null,Gt=16>f?16:f,xo===null)var S=!1;else{if(f=xo,xo=null,rp=0,Mt&6)throw Error(o(331));var b=Mt;for(Mt|=4,Ve=f.current;Ve!==null;){var B=Ve,J=B.child;if(Ve.flags&16){var te=B.deletions;if(te!==null){for(var ye=0;ye<te.length;ye++){var ke=te[ye];for(Ve=ke;Ve!==null;){var Ye=Ve;switch(Ye.tag){case 0:case 11:case 15:Ba(8,Ye,B)}var xt=Ye.child;if(xt!==null)xt.return=Ye,Ve=xt;else for(;Ve!==null;){Ye=Ve;var at=Ye.sibling,en=Ye.return;if(T8(Ye),Ye===ke){Ve=null;break}if(at!==null){at.return=en,Ve=at;break}Ve=en}}}var it=B.alternate;if(it!==null){var gr=it.child;if(gr!==null){it.child=null;do{var gi=gr.sibling;gr.sibling=null,gr=gi}while(gr!==null)}}Ve=B}}if(B.subtreeFlags&2064&&J!==null)J.return=B,Ve=J;else e:for(;Ve!==null;){if(B=Ve,B.flags&2048)switch(B.tag){case 0:case 11:case 15:Ba(9,B,B.return)}var le=B.sibling;if(le!==null){le.return=B.return,Ve=le;break e}Ve=B.return}}var ie=f.current;for(Ve=ie;Ve!==null;){J=Ve;var pe=J.child;if(J.subtreeFlags&2064&&pe!==null)pe.return=J,Ve=pe;else e:for(J=ie;Ve!==null;){if(te=Ve,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:Ku(9,te)}}catch(nt){Lr(te,te.return,nt)}if(te===J){Ve=null;break e}var Je=te.sibling;if(Je!==null){Je.return=te.return,Ve=Je;break e}Ve=te.return}}if(Mt=b,cs(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Cd,f)}catch{}S=!0}return S}finally{Gt=y,Dn.transition=h}}return!1}function J8(f,h,y){h=Rg(y,h),h=o8(f,h,1),vo(f,h),h=Cr(),f=op(f,1),f!==null&&(Fu(f,1,h),Dr(f,h))}function Lr(f,h,y){if(f.tag===3)J8(f,f,y);else for(;h!==null;){if(h.tag===3){J8(h,f,y);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(yo===null||!yo.has(S))){f=Rg(y,f),f=a8(h,f,1),vo(h,f),f=Cr(),h=op(h,1),h!==null&&(Fu(h,1,f),Dr(h,f));break}}h=h.return}}function Xw(f,h,y){var S=f.pingCache;S!==null&&S.delete(h),h=Cr(),f.pingedLanes|=f.suspendedLanes&y,Nn===f&&(or&y)===y&&(Qn===4||Qn===3&&(or&130023424)===or&&500>Yn()-Kg?Ra(f,0):jg|=y),Dr(f,h)}function j8(f,h){h===0&&(f.mode&1?(h=yd,yd<<=1,!(yd&130023424)&&(yd=4194304)):h=1);var y=Cr();f=op(f,h),f!==null&&(Fu(f,h,y),Dr(f,y))}function $w(f){var h=f.memoizedState,y=0;h!==null&&(y=h.retryLane),j8(f,y)}function Zw(f,h){var y=0;switch(f.tag){case 13:var S=f.stateNode,b=f.memoizedState;b!==null&&(y=b.retryLane);break;case 19:S=f.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(h),j8(f,y)}var K8;K8=function(f,h,y){if(f!==null)if(f.memoizedProps!==h.pendingProps||Br.current)Vr=!0;else{if(!(f.lanes&y)&&!(h.flags&128))return Vr=!1,Gw(f,h,y);Vr=!!(f.flags&131072)}else Vr=!1,mn&&h.flags&1048576&&L6(h,Bd,h.index);switch(h.lanes=0,h.tag){case 2:var S=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var b=kl(h,hr.current);Ol(h,y),b=Ig(null,h,S,f,b,y);var B=wg();return h.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Rr(S)?(B=!0,Ad(h)):B=!1,h.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,dg(h),b.updater=Md,h.stateNode=b,b._reactInternals=h,mg(h,S,f,y),h=Lg(null,h,S,!0,B,y)):(h.tag=0,mn&&B&&gg(h),xr(null,h,b,y),h=h.child),h;case 16:S=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,b=S._init,S=b(S._payload),h.type=S,b=h.tag=tM(S),f=Fi(S,f),b){case 0:h=Dg(null,h,S,f,y);break e;case 1:h=v8(null,h,S,f,y);break e;case 11:h=d8(null,h,S,f,y);break e;case 14:h=p8(null,h,S,Fi(S.type,f),y);break e}throw Error(o(306,S,""))}return h;case 0:return S=h.type,b=h.pendingProps,b=h.elementType===S?b:Fi(S,b),Dg(f,h,S,b,y);case 1:return S=h.type,b=h.pendingProps,b=h.elementType===S?b:Fi(S,b),v8(f,h,S,b,y);case 3:e:{if(y8(h),f===null)throw Error(o(387));S=h.pendingProps,B=h.memoizedState,b=B.element,w6(f,h),wd(h,S,null,y);var J=h.memoizedState;if(S=J.element,ne&&B.isDehydrated)if(B={element:S,isDehydrated:!1,cache:J.cache,transitions:J.transitions},h.updateQueue.baseState=B,h.memoizedState=B,h.flags&256){b=Error(o(423)),h=x8(f,h,S,y,b);break e}else if(S!==b){b=Error(o(424)),h=x8(f,h,S,y,b);break e}else for(ne&&(zr=be(h.stateNode.containerInfo),Hr=h,mn=!0,ki=null,ku=!1),y=G6(h,null,S,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Ql(),S===b){h=Ws(f,h,y);break e}xr(f,h,S,y)}h=h.child}return h;case 5:return Q6(h),f===null&&yg(h),S=h.type,b=h.pendingProps,B=f!==null?f.memoizedProps:null,J=b.children,_e(S,b)?J=null:B!==null&&_e(S,B)&&(h.flags|=32),A8(f,h),xr(f,h,J,y),h.child;case 6:return f===null&&yg(h),null;case 13:return C8(f,h,y);case 4:return Cg(h,h.stateNode.containerInfo),S=h.pendingProps,f===null?h.child=Hl(h,null,S,y):xr(f,h,S,y),h.child;case 11:return S=h.type,b=h.pendingProps,b=h.elementType===S?b:Fi(S,b),d8(f,h,S,b,y);case 7:return xr(f,h,h.pendingProps,y),h.child;case 8:return xr(f,h,h.pendingProps.children,y),h.child;case 12:return xr(f,h,h.pendingProps.children,y),h.child;case 10:e:{if(S=h.type._context,b=h.pendingProps,B=h.memoizedProps,J=b.value,I6(h,S,J),B!==null)if(ls(B.value,J)){if(B.children===b.children&&!Br.current){h=Ws(f,h,y);break e}}else for(B=h.child,B!==null&&(B.return=h);B!==null;){var te=B.dependencies;if(te!==null){J=B.child;for(var ye=te.firstContext;ye!==null;){if(ye.context===S){if(B.tag===1){ye=Qs(-1,y&-y),ye.tag=2;var ke=B.updateQueue;if(ke!==null){ke=ke.shared;var Ye=ke.pending;Ye===null?ye.next=ye:(ye.next=Ye.next,Ye.next=ye),ke.pending=ye}}B.lanes|=y,ye=B.alternate,ye!==null&&(ye.lanes|=y),hg(B.return,y,h),te.lanes|=y;break}ye=ye.next}}else if(B.tag===10)J=B.type===h.type?null:B.child;else if(B.tag===18){if(J=B.return,J===null)throw Error(o(341));J.lanes|=y,te=J.alternate,te!==null&&(te.lanes|=y),hg(J,y,h),J=B.sibling}else J=B.child;if(J!==null)J.return=B;else for(J=B;J!==null;){if(J===h){J=null;break}if(B=J.sibling,B!==null){B.return=J.return,J=B;break}J=J.return}B=J}xr(f,h,b.children,y),h=h.child}return h;case 9:return b=h.type,S=h.pendingProps.children,Ol(h,y),b=ci(b),S=S(b),h.flags|=1,xr(f,h,S,y),h.child;case 14:return S=h.type,b=Fi(S,h.pendingProps),b=Fi(S.type,b),p8(f,h,S,b,y);case 15:return m8(f,h,h.type,h.pendingProps,y);case 17:return S=h.type,b=h.pendingProps,b=h.elementType===S?b:Fi(S,b),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Rr(S)?(f=!0,Ad(h)):f=!1,Ol(h,y),P6(h,S,b),mg(h,S,b,y),Lg(null,h,S,!0,f,y);case 19:return b8(f,h,y);case 22:return g8(f,h,y)}throw Error(o(156,h.tag))};function q8(f,h){return sg(f,h)}function eM(f,h,y,S){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(f,h,y,S){return new eM(f,h,y,S)}function nA(f){return f=f.prototype,!(!f||!f.isReactComponent)}function tM(f){if(typeof f=="function")return nA(f)?1:0;if(f!=null){if(f=f.$$typeof,f===A)return 11;if(f===x)return 14}return 2}function So(f,h){var y=f.alternate;return y===null?(y=mi(f.tag,h,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=h,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&14680064,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,h=f.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y}function lp(f,h,y,S,b,B){var J=2;if(S=f,typeof f=="function")nA(f)&&(J=1);else if(typeof f=="string")J=5;else e:switch(f){case u:return La(y.children,b,B,h);case d:J=8,b|=8;break;case p:return f=mi(12,y,h,b|2),f.elementType=p,f.lanes=B,f;case v:return f=mi(13,y,h,b),f.elementType=v,f.lanes=B,f;case C:return f=mi(19,y,h,b),f.elementType=C,f.lanes=B,f;case _:return cp(y,b,B,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:J=10;break e;case g:J=9;break e;case A:J=11;break e;case x:J=14;break e;case E:J=16,S=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=mi(J,y,h,b),h.elementType=f,h.type=S,h.lanes=B,h}function La(f,h,y,S){return f=mi(7,f,S,h),f.lanes=y,f}function cp(f,h,y,S){return f=mi(22,f,S,h),f.elementType=_,f.lanes=y,f.stateNode={},f}function rA(f,h,y){return f=mi(6,f,null,h),f.lanes=y,f}function iA(f,h,y){return h=mi(4,f.children!==null?f.children:[],f.key,h),h.lanes=y,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function nM(f,h,y,S,b){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rg(0),this.expirationTimes=rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.identifierPrefix=S,this.onRecoverableError=b,ne&&(this.mutableSourceEagerHydrationData=null)}function Y8(f,h,y,S,b,B,J,te,ye){return f=new nM(f,h,y,te,ye),h===1?(h=1,B===!0&&(h|=8)):h=0,B=mi(3,null,null,h),f.current=B,B.stateNode=f,B.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null},dg(B),f}function X8(f){if(!f)return Gn;f=f._reactInternals;e:{if(R(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Rr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var y=f.type;if(Rr(y))return C6(f,y,h)}return h}function $8(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=z(h),f===null?null:f.stateNode}function Z8(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<h?y:h}}function sA(f,h){Z8(f,h),(f=f.alternate)&&Z8(f,h)}function rM(f){return f=z(f),f===null?null:f.stateNode}function iM(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var h=Cr();pi(f,134217728,h),sA(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=Cr(),y=Co(f);pi(f,y,h),sA(f,y)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var y=Lu(h.pendingLanes);y!==0&&(ig(h,y|1),Dr(h,Yn()),!(Mt&6)&&(Kl(),cs()))}break;case 13:var S=Cr();Q8(function(){return pi(f,1,S)}),sA(f,1)}},t.batchedUpdates=function(f,h){var y=Mt;Mt|=1;try{return f(h)}finally{Mt=y,Mt===0&&(Kl(),Ed&&cs())}},t.createComponentSelector=function(f){return{$$typeof:Kd,value:f}},t.createContainer=function(f,h,y,S,b,B,J){return Y8(f,h,!1,null,y,S,b,B,J)},t.createHasPseudoClassSelector=function(f){return{$$typeof:qd,value:f}},t.createHydrationContainer=function(f,h,y,S,b,B,J,te,ye){return f=Y8(y,S,!0,f,b,B,J,te,ye),f.context=X8(null),y=f.current,S=Cr(),b=Co(y),B=Qs(S,b),B.callback=h??null,vo(y,B),f.current.lanes=b,Fu(f,b,S),Dr(f,S),f},t.createPortal=function(f,h,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:f,containerInfo:h,implementation:y}},t.createRoleSelector=function(f){return{$$typeof:Yd,value:f}},t.createTestNameSelector=function(f){return{$$typeof:Xd,value:f}},t.createTextSelector=function(f){return{$$typeof:$d,value:f}},t.deferredUpdates=function(f){var h=Gt,y=Dn.transition;try{return Dn.transition=null,Gt=16,f()}finally{Gt=h,Dn.transition=y}},t.discreteUpdates=function(f,h,y,S,b){var B=Gt,J=Dn.transition;try{return Dn.transition=null,Gt=1,f(h,y,S,b)}finally{Gt=B,Dn.transition=J,Mt===0&&Kl()}},t.findAllNodes=Wg,t.findBoundingRects=function(f,h){if(!ct)throw Error(o(363));h=Wg(f,h),f=[];for(var y=0;y<h.length;y++)f.push(W(h[y]));for(h=f.length-1;0<h;h--){y=f[h];for(var S=y.x,b=S+y.width,B=y.y,J=B+y.height,te=h-1;0<=te;te--)if(h!==te){var ye=f[te],ke=ye.x,Ye=ke+ye.width,xt=ye.y,at=xt+ye.height;if(S>=ke&&B>=xt&&b<=Ye&&J<=at){f.splice(h,1);break}else if(S!==ke||y.width!==ye.width||at<B||xt>J){if(!(B!==xt||y.height!==ye.height||Ye<S||ke>b)){ke>S&&(ye.width+=ke-S,ye.x=S),Ye<b&&(ye.width=b-ke),f.splice(h,1);break}}else{xt>B&&(ye.height+=xt-B,ye.y=B),at<J&&(ye.height=J-xt),f.splice(h,1);break}}}return f},t.findHostInstance=$8,t.findHostInstanceWithNoPortals=function(f){return f=P(f),f=f!==null?k(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return $8(f)},t.flushControlled=function(f){var h=Mt;Mt|=1;var y=Dn.transition,S=Gt;try{Dn.transition=null,Gt=1,f()}finally{Gt=S,Dn.transition=y,Mt=h,Mt===0&&(Kl(),cs())}},t.flushPassiveEffects=Da,t.flushSync=Q8,t.focusWithin=function(f,h){if(!ct)throw Error(o(363));for(f=Hg(f),h=O8(f,h),h=Array.from(h),f=0;f<h.length;){var y=h[f++];if(!se(y)){if(y.tag===5&&Te(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Gt},t.getFindAllNodesFailureDescription=function(f,h){if(!ct)throw Error(o(363));var y=0,S=[];f=[Hg(f),0];for(var b=0;b<f.length;){var B=f[b++],J=f[b++],te=h[J];if((B.tag!==5||!se(B))&&(zg(B,te)&&(S.push(Vg(te)),J++,J>y&&(y=J)),J<h.length))for(B=B.child;B!==null;)f.push(B,J),B=B.sibling}if(y<h.length){for(f=[];y<h.length;y++)f.push(Vg(h[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return V(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:rM,findFiberByHostInstance:f.findFiberByHostInstance||iM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Cd=h.inject(f),as=h}catch{}f=!!h.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,h,y,S){if(!ct)throw Error(o(363));f=Wg(f,h);var b=Be(f,y,S).disconnect;return{disconnect:function(){b()}}},t.registerMutableSourceForHydration=function(f,h){var y=h._getVersion;y=y(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,y]:f.mutableSourceEagerHydrationData.push(h,y)},t.runWithPriority=function(f,h){var y=Gt;try{return Gt=f,h()}finally{Gt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,h,y,S){var b=h.current,B=Cr(),J=Co(b);return y=X8(y),h.context===null?h.context=y:h.pendingContext=y,h=Qs(B,J),h.payload={element:f},S=S===void 0?null:S,S!==null&&(h.callback=S),vo(b,h),f=pi(b,J,B),f!==null&&Id(f,b,J),J},t};wI.exports=pie;var mie=wI.exports;const gie=fC(mie),Aie=n=>typeof n=="object"&&typeof n.then=="function",dl=[];function BI(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function RI(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of dl)if(BI(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=dl.indexOf(i);s!==-1&&dl.splice(s,1)},promise:(Aie(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(dl.push(i),!t)throw i.promise}const vie=(n,e,t)=>RI(n,e,!1,t),yie=(n,e,t)=>void RI(n,e,!0,t),xie=n=>{if(n===void 0||n.length===0)dl.splice(0,dl.length);else{const e=dl.find(t=>BI(n,t.keys,t.equal));e&&e.remove()}},d6={},Cie=n=>void Object.assign(d6,n);function Eie(n,e){function t(u,{args:d=[],attach:p,...m},g){let A=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=m.object;v=bc(C,{type:u,root:g,attach:p,primitive:!0})}else{const C=d6[A];if(!C)throw new Error(`R3F: ${A} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");v=bc(new C(...d),{type:u,root:g,attach:p,memoizedProps:{args:d}})}return v.__r3f.attach===void 0&&(v instanceof mt?v.__r3f.attach="geometry":v instanceof xn&&(v.__r3f.attach="material")),A!=="inject"&&R2(v,m),v}function r(u,d){let p=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?B2(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||bc(d,{}),d.__r3f.parent=u,m5(d),Ic(d)}}function i(u,d,p){let m=!1;if(d){var g,A;if((g=d.__r3f)!=null&&g.attach)B2(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const v=u.children.filter(x=>x!==d),C=v.indexOf(p);u.children=[...v.slice(0,C),d,...v.slice(C)],m=!0}m||(A=u.__r3f)==null||A.objects.push(d),d.__r3f||bc(d,{}),d.__r3f.parent=u,m5(d),Ic(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,g,A;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(_=>_!==d)),(g=d.__r3f)!=null&&g.attach)R7(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var v;u.remove(d),(v=d.__r3f)!=null&&v.root&&Bie(d.__r3f.root,d)}const x=(A=d.__r3f)==null?void 0:A.primitive,E=p===void 0?d.dispose!==null&&!x:p;if(!x){var C;s((C=d.__r3f)==null?void 0:C.objects,d,E),s(d.children,d,E)}delete d.__r3f,E&&d.dispose&&d.type!=="Scene"&&d5.unstable_scheduleCallback(d5.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Ic(u)}}function a(u,d,p,m){var g;const A=(g=u.__r3f)==null?void 0:g.parent;if(!A)return;const v=t(d,p,u.__r3f.root);if(u.children){for(const C of u.children)C.__r3f&&r(v,C);u.children=u.children.filter(C=>!C.__r3f)}u.__r3f.objects.forEach(C=>r(v,C)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(A,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(A,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[m,m.alternate].forEach(C=>{C!==null&&(C.stateNode=v,C.ref&&(typeof C.ref=="function"?C.ref(v):C.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:gie({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,p,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:v=[],children:C,...x}=m,{args:E=[],children:_,...I}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((T,w)=>T!==E[w]))return[!0];const M=OI(u,x,I,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[d,p],m,g,A,v){d?a(u,m,A,v):R2(u,p)},commitMount(u,d,p,m){var g;const A=(g=u.__r3f)!=null?g:{};u.raycast&&A.handlers&&A.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>bc(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&R7(m,u,p),u.isObject3D&&(u.visible=!1),Ic(u)},unhideInstance(u,d){var p;const{attach:m,parent:g}=(p=u.__r3f)!=null?p:{};m&&g&&B2(g,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Ic(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Pc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&un.fun(performance.now)?performance.now:un.fun(Date.now)?Date.now:()=>0,scheduleTimeout:un.fun(setTimeout)?setTimeout:void 0,cancelTimeout:un.fun(clearTimeout)?clearTimeout:void 0}),applyProps:R2}}var w7,M7;const T2=n=>"colorSpace"in n||"outputColorSpace"in n,PI=()=>{var n;return(n=d6.ColorManagement)!=null?n:null},DI=n=>n&&n.isOrthographicCamera,Sie=n=>n&&n.hasOwnProperty("current"),cd=typeof window<"u"&&((w7=window.document)!=null&&w7.createElement||((M7=window.navigator)==null?void 0:M7.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function LI(n){const e=F.useRef(n);return cd(()=>void(e.current=n),[n]),e}function _ie({set:n}){return cd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class FI extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}FI.getDerivedStateFromError=()=>({error:!0});const kI="__default",T7=new Map,bie=n=>n&&!!n.memoized&&!!n.changes;function NI(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Cf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},un={obj:n=>n===Object(n)&&!un.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(un.str(n)||un.num(n))return n===e;const s=un.obj(n);if(s&&r==="reference")return n===e;const o=un.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!un.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(un.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Iie(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function wie(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function bc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function p5(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const B7=/-\d+$/;function B2(n,e,t){if(un.str(t)){if(B7.test(t)){const s=t.replace(B7,""),{target:o,key:a}=p5(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=p5(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function R7(n,e,t){var r,i;if(un.str(t)){const{target:s,key:o}=p5(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function OI(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const A=Object.keys(l);for(let v=0;v<A.length;v++)i.hasOwnProperty(A[v])||p.unshift([A[v],kI+"remove"])}p.forEach(([A,v])=>{var C;if((C=n.__r3f)!=null&&C.primitive&&A==="object"||un.equ(v,l[A]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(A))return m.push([A,v,!0,[]]);let x=[];A.includes("-")&&(x=A.split("-")),m.push([A,v,!1,x]);for(const E in i){const _=i[E];E.startsWith(`${A}-`)&&m.push([E,_,!1,E.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function R2(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=bie(e)?e:OI(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,g,A,v]=c[p];if(T2(n)){const _="srgb",I="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?_:I):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?_:I)}let C=n,x=C[m];if(v.length&&(x=v.reduce((E,_)=>E[_],n),!(x&&x.set))){const[E,..._]=v.reverse();C=_.reverse().reduce((I,M)=>I[M],n),m=E}if(g===kI+"remove")if(C.constructor){let E=T7.get(C.constructor);E||(E=new C.constructor,T7.set(C.constructor,E)),g=E[m]}else g=0;if(A)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof gl)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&x.constructor===g.constructor)x.copy(g);else if(g!==void 0){const E=x instanceof Re;!E&&x.setScalar?x.setScalar(g):x instanceof gl&&g instanceof gl?x.mask=g.mask:x.set(g),!PI()&&!a.linear&&E&&x.convertSRGBToLinear()}}else if(C[m]=g,C[m]instanceof En&&C[m].format===Bn&&C[m].type===er){const E=C[m];T2(E)&&T2(a.gl)?E.colorSpace=a.gl.outputColorSpace:E.encoding=a.gl.outputEncoding}Ic(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&m5(n),n}function Ic(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function m5(n){n.onUpdate==null||n.onUpdate(n)}function Mie(n,e){n.manual||(DI(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function p0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Tie(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Pc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Pc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Pc.ContinuousEventPriority;default:return Pc.DefaultEventPriority}}function UI(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Bie(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{UI(t.capturedMap,e,r,i)})}function Rie(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let C=0;C<m.length;C++){const x=Cf(m[C]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(C){const x=Cf(C);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var E;x.events.compute==null||x.events.compute(l,x,(E=x.previousRoot)==null?void 0:E.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(C,!0):[]}let A=m.flatMap(g).sort((C,x)=>{const E=Cf(C.object),_=Cf(x.object);return!E||!_?C.distance-x.distance:_.events.priority-E.events.priority||C.distance-x.distance}).filter(C=>{const x=p0(C);return d.has(x)?!1:(d.add(x),!0)});u.events.filter&&(A=u.events.filter(A,u));for(const C of A){let x=C.object;for(;x;){var v;(v=x.__r3f)!=null&&v.eventCount&&p.push({...C,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let C of u.internal.capturedMap.get(l.pointerId).values())d.has(p0(C.intersection))||p.push(C.intersection);return p}function i(l,c,u,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const A=Cf(g.object)||p,{raycaster:v,pointer:C,camera:x,internal:E}=A,_=new L(C.x,C.y,0).unproject(x),I=D=>{var P,z;return(P=(z=E.capturedMap.get(D))==null?void 0:z.has(g.eventObject))!=null?P:!1},M=D=>{const P={intersection:g,target:c.target};E.capturedMap.has(D)?E.capturedMap.get(D).set(g.eventObject,P):E.capturedMap.set(D,new Map([[g.eventObject,P]])),c.target.setPointerCapture(D)},T=D=>{const P=E.capturedMap.get(D);P&&UI(E.capturedMap,g.eventObject,P,D)};let w={};for(let D in c){let P=c[D];typeof P!="function"&&(w[D]=P)}let R={...g,...w,pointer:C,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:_,ray:v.ray,camera:x,stopPropagation(){const D="pointerId"in c&&E.capturedMap.get(c.pointerId);if((!D||D.has(g.eventObject))&&(R.stopped=m.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(P=>P.eventObject===g.eventObject))){const P=l.slice(0,l.indexOf(g));s([...P,g])}},target:{hasPointerCapture:I,setPointerCapture:M,releasePointerCapture:T},currentTarget:{hasPointerCapture:I,setPointerCapture:M,releasePointerCapture:T},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(p0(u)),p!=null&&p.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,m?t:void 0),C=g?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=v.map(E=>E.eventObject)),g&&!v.length&&C<=2&&(o(u,p.interaction),d&&d(u)),m&&s(v);function x(E){const _=E.eventObject,I=_.__r3f,M=I==null?void 0:I.handlers;if(I!=null&&I.eventCount)if(m){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const T=p0(E),w=p.hovered.get(T);w?w.stopped&&E.stopPropagation():(p.hovered.set(T,E),M.onPointerOver==null||M.onPointerOver(E),M.onPointerEnter==null||M.onPointerEnter(E))}M.onPointerMove==null||M.onPointerMove(E)}else{const T=M[l];T?(!g||p.initialHits.includes(_))&&(o(u,p.interaction.filter(w=>!p.initialHits.includes(w))),T(E)):g&&p.initialHits.includes(_)&&o(u,p.interaction.filter(w=>!p.initialHits.includes(w)))}}i(v,u,C,x)}}return{handlePointer:a}}const GI=n=>!!(n!=null&&n.render),QI=F.createContext(null),Pie=(n,e)=>{const t=II((a,l)=>{const c=new L,u=new L,d=new L;function p(C=l().camera,x=u,E=l().size){const{width:_,height:I,top:M,left:T}=E,w=_/I;x instanceof L?d.copy(x):d.set(...x);const R=C.getWorldPosition(c).distanceTo(d);if(DI(C))return{width:_/C.zoom,height:I/C.zoom,top:M,left:T,factor:1,distance:R,aspect:w};{const D=C.fov*Math.PI/180,P=2*Math.tan(D/2)*R,z=P*(_/I);return{width:z,height:P,top:M,left:T,factor:_/z,distance:R,aspect:w}}}let m;const g=C=>a(x=>({performance:{...x.performance,current:C}})),A=new he;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(C=1)=>n(l(),C),advance:(C,x)=>e(C,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Sm,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=l();m&&clearTimeout(m),C.performance.current!==C.performance.min&&g(C.performance.min),m=setTimeout(()=>g(l().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:C=>a(x=>({...x,events:{...x.events,...C}})),setSize:(C,x,E,_,I)=>{const M=l().camera,T={width:C,height:x,top:_||0,left:I||0,updateStyle:E};a(w=>({size:T,viewport:{...w.viewport,...p(M,u,T)}}))},setDpr:C=>a(x=>{const E=NI(C);return{viewport:{...x.viewport,dpr:E,initialDpr:x.viewport.initialDpr||E}}}),setFrameloop:(C="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,C!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,x,E)=>{const _=l().internal;return _.priority=_.priority+(x>0?1:0),_.subscribers.push({ref:C,priority:x,store:E}),_.subscribers=_.subscribers.sort((I,M)=>I.priority-M.priority),()=>{const I=l().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(x>0?1:0),I.subscribers=I.subscribers.filter(M=>M.ref!==C))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l!==i||c.dpr!==s){var p;i=l,s=c.dpr,Mie(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let m0,Die=new Set,Lie=new Set,Fie=new Set;function P2(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Ef(n,e){switch(n){case"before":return P2(Die,e);case"after":return P2(Lie,e);case"tail":return P2(Fie,e)}}let D2,L2;function F2(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),D2=e.internal.subscribers,m0=0;m0<D2.length;m0++)L2=D2[m0],L2.ref.current(L2.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function kie(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Ef("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=F2(l,i))}if(Ef("after",l),t===0)return Ef("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&Ef("before",l),u)F2(l,u,d);else for(const p of n.values())F2(l,p.store.getState());c&&Ef("after",l)}return{loop:s,invalidate:o,advance:a}}function HI(){const n=F.useContext(QI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function xi(n=t=>t,e){return HI()(n,e)}function zI(n,e=0){const t=HI(),r=t.getState().internal.subscribe,i=LI(n);return cd(()=>r(i,e,t),[e,r,t]),null}const P7=new WeakMap;function VI(n,e){return function(t,...r){let i=P7.get(t);return i||(i=new t,P7.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Iie(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function ud(n,e,t,r){const i=Array.isArray(e)?e:[e],s=vie(VI(t,r),[n,...i],{equal:un.equ});return Array.isArray(e)?s:s[0]}ud.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return yie(VI(t),[n,...r])};ud.clear=function(n,e){const t=Array.isArray(e)?e:[e];return xie([n,...t])};const vu=new Map,{invalidate:D7,advance:L7}=kie(vu),{reconciler:p3,applyProps:Cc}=Eie(vu,Tie),Ec={objects:"shallow",strict:!1},Nie=(n,e)=>{const t=typeof n=="function"?n(e):n;return GI(t)?t:new hm({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Oie(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Uie(n){const e=vu.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Pie(D7,L7),o=t||p3.createContainer(s,Pc.ConcurrentRoot,null,!1,null,"",i,null);e||vu.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:m,events:g,onCreated:A,shadows:v=!1,linear:C=!1,flat:x=!1,legacy:E=!1,orthographic:_=!1,frameloop:I="always",dpr:M=[1,2],performance:T,raycaster:w,camera:R,onPointerMissed:D}=u,P=s.getState(),z=P.gl;P.gl||P.set({gl:z=Nie(d,n)});let q=P.raycaster;q||P.set({raycaster:q=new e_});const{params:k,...Q}=w||{};if(un.equ(Q,q,Ec)||Cc(q,{...Q}),un.equ(k,q.params,Ec)||Cc(q,{params:{...q.params,...k}}),!P.camera||P.camera===c&&!un.equ(c,R,Ec)){c=R;const X=R instanceof Gh,ae=X?R:_?new _i(0,0,0,0,.1,1e3):new $t(75,0,.1,1e3);X||(ae.position.z=5,R&&Cc(ae,R),!P.camera&&!(R!=null&&R.rotation)&&ae.lookAt(0,0,0)),P.set({camera:ae})}if(!P.scene){let X;m instanceof Ah?X=m:(X=new Ah,m&&Cc(X,m)),P.set({scene:bc(X)})}if(!P.xr){var V;const X=(_e,re)=>{const Ne=s.getState();Ne.frameloop!=="never"&&L7(_e,!0,Ne,re)},ae=()=>{const _e=s.getState();_e.gl.xr.enabled=_e.gl.xr.isPresenting,_e.gl.xr.setAnimationLoop(_e.gl.xr.isPresenting?X:null),_e.gl.xr.isPresenting||D7(_e)},Ae={connect(){const _e=s.getState().gl;_e.xr.addEventListener("sessionstart",ae),_e.xr.addEventListener("sessionend",ae)},disconnect(){const _e=s.getState().gl;_e.xr.removeEventListener("sessionstart",ae),_e.xr.removeEventListener("sessionend",ae)}};typeof((V=z.xr)==null?void 0:V.addEventListener)=="function"&&Ae.connect(),P.set({xr:Ae})}if(z.shadowMap){const X=z.shadowMap.enabled,ae=z.shadowMap.type;if(z.shadowMap.enabled=!!v,un.boo(v))z.shadowMap.type=Uf;else if(un.str(v)){var Y;const Ae={basic:bE,percentage:em,soft:Uf,variance:ol};z.shadowMap.type=(Y=Ae[v])!=null?Y:Uf}else un.obj(v)&&Object.assign(z.shadowMap,v);(X!==z.shadowMap.enabled||ae!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const G=PI();G&&("enabled"in G?G.enabled=!E:"legacyMode"in G&&(G.legacyMode=E)),Cc(z,{outputEncoding:C?3e3:3001,toneMapping:x?$r:j5}),P.legacy!==E&&P.set(()=>({legacy:E})),P.linear!==C&&P.set(()=>({linear:C})),P.flat!==x&&P.set(()=>({flat:x})),d&&!un.fun(d)&&!GI(d)&&!un.equ(d,z,Ec)&&Cc(z,d),g&&!P.events.handlers&&P.set({events:g(s)});const ee=Oie(n,p);return un.equ(ee,P.size,Ec)||P.setSize(ee.width,ee.height,ee.updateStyle,ee.top,ee.left),M&&P.viewport.dpr!==NI(M)&&P.setDpr(M),P.frameloop!==I&&P.setFrameloop(I),P.onPointerMissed||P.set({onPointerMissed:D}),T&&!un.equ(T,P.performance,Ec)&&P.set(X=>({performance:{...X.performance,...T}})),a=A,l=!0,this},render(u){return l||this.configure(),p3.updateContainer(F.createElement(Gie,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){WI(n)}}}function Gie({store:n,children:e,onCreated:t,rootElement:r}){return cd(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),F.createElement(QI.Provider,{value:n},e)}function WI(n,e){const t=vu.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),p3.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),wie(i),vu.delete(n),e&&e(n)}catch{}},500)})}}p3.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});function g5(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}g5.debounce=g5;var Qie=g5;const F7=fC(Qie);function Hie(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=F.useRef(!1);F.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,g]=F.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:E,top:_,width:I,height:M,bottom:T,right:w,x:R,y:D}=l.current.element.getBoundingClientRect(),P={left:E,top:_,width:I,height:M,bottom:T,right:w,x:R,y:D};l.current.element instanceof HTMLElement&&i&&(P.height=l.current.element.offsetHeight,P.width=l.current.element.offsetWidth),Object.freeze(P),d.current&&!Jie(l.current.lastBounds,P)&&a(l.current.lastBounds=P)};return[x,u?F7(x,u):x,c?F7(x,c):x]},[a,i,c,u]);function A(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const C=x=>{!x||x===l.current.element||(A(),l.current.element=x,l.current.scrollContainers=JI(x),v())};return Vie(g,!!t),zie(m),F.useEffect(()=>{A(),v()},[t,g,m]),F.useEffect(()=>A,[]),[C,o,p]}function zie(n){F.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Vie(n,e){F.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function JI(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...JI(n.parentElement)]}const Wie=["x","y","top","bottom","left","right","width","height"],Jie=(n,e)=>Wie.every(t=>n[t]===e[t]);var jie=Object.defineProperty,Kie=Object.defineProperties,qie=Object.getOwnPropertyDescriptors,k7=Object.getOwnPropertySymbols,Yie=Object.prototype.hasOwnProperty,Xie=Object.prototype.propertyIsEnumerable,N7=(n,e,t)=>e in n?jie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O7=(n,e)=>{for(var t in e||(e={}))Yie.call(e,t)&&N7(n,t,e[t]);if(k7)for(var t of k7(e))Xie.call(e,t)&&N7(n,t,e[t]);return n},$ie=(n,e)=>Kie(n,qie(e));function jI(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=jI(r,e,t);if(i)return i;r=e?null:r.sibling}}function KI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const p6=KI(F.createContext(null));class qI extends F.Component{render(){return F.createElement(p6.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:U7,ReactCurrentDispatcher:G7}=F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Zie(){const n=F.useContext(p6);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const r of[U7==null?void 0:U7.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=jI(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function ese(){var n,e;const t=Zie(),[r]=F.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==p6&&!r.has(s)&&r.set(s,(e=G7==null?void 0:G7.current)==null?void 0:e.readContext(KI(s))),i=i.return}return r}function tse(){const n=ese();return F.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>F.createElement(e,null,F.createElement(t.Provider,$ie(O7({},r),{value:n.get(t)}))),e=>F.createElement(qI,O7({},e))),[n])}const k2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function nse(n){const{handlePointer:e}=Rie(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(k2).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=k2[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=k2[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const rse=F.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=nse,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:A,performance:v,raycaster:C,camera:x,scene:E,onPointerMissed:_,onCreated:I,...M},T){F.useMemo(()=>Cie(tz),[]);const w=tse(),[R,D]=Hie({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=F.useRef(null),z=F.useRef(null);F.useImperativeHandle(T,()=>P.current);const q=LI(_),[k,Q]=F.useState(!1),[V,Y]=F.useState(!1);if(k)throw k;if(V)throw V;const G=F.useRef(null);cd(()=>{const K=P.current;D.width>0&&D.height>0&&K&&(G.current||(G.current=Uie(K)),G.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:A,performance:v,raycaster:C,camera:x,scene:E,size:D,onPointerMissed:(...ee)=>q.current==null?void 0:q.current(...ee),onCreated:ee=>{ee.events.connect==null||ee.events.connect(a?Sie(a)?a.current:a:z.current),l&&ee.setEvents({compute:(X,ae)=>{const Ae=X[l+"X"],_e=X[l+"Y"];ae.pointer.set(Ae/ae.size.width*2-1,-(_e/ae.size.height)*2+1),ae.raycaster.setFromCamera(ae.pointer,ae.camera)}}),I==null||I(ee)}}),G.current.render(F.createElement(w,null,F.createElement(FI,{set:Y},F.createElement(F.Suspense,{fallback:F.createElement(_ie,{set:Q})},e)))))}),F.useEffect(()=>{const K=P.current;if(K)return()=>WI(K)},[]);const j=a?"none":"auto";return F.createElement("div",Z({ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},M),F.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},F.createElement("canvas",{ref:P,style:{display:"block"}},t)))}),ise=F.forwardRef(function(e,t){return F.createElement(qI,null,F.createElement(rse,Z({},e,{ref:t})))}),fd=new L,m6=new L,sse=new L;function ose(n,e,t){const r=fd.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function ase(n,e){const t=fd.setFromMatrixPosition(n.matrixWorld),r=m6.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(sse);return i.angleTo(s)>Math.PI/2}function lse(n,e,t,r){const i=fd.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function cse(n,e){if(e instanceof _i)return e.zoom;if(e instanceof $t){const t=fd.setFromMatrixPosition(n.matrixWorld),r=m6.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function use(n,e,t){if(e instanceof $t||e instanceof _i){const r=fd.setFromMatrixPosition(n.matrixWorld),i=m6.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const A5=n=>Math.abs(n)<1e-10?0:n;function YI(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=A5(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const fse=(n=>e=>YI(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),hse=(n=>(e,t)=>YI(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function dse(n){return n&&typeof n=="object"&&"current"in n}const pse=F.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:g,material:A,geometry:v,zIndexRange:C=[16777271,0],calculatePosition:x=ose,as:E="div",wrapperClass:_,pointerEvents:I="auto",...M},T)=>{const{gl:w,camera:R,scene:D,size:P,raycaster:z,events:q,viewport:k}=xi(),[Q]=F.useState(()=>document.createElement(E)),V=F.useRef(),Y=F.useRef(null),G=F.useRef(0),j=F.useRef([0,0]),K=F.useRef(null),ee=F.useRef(null),X=(a==null?void 0:a.current)||q.connected||w.domElement.parentNode,ae=F.useRef(null),Ae=F.useRef(!1),_e=F.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&dse(d[0]),[d]);F.useLayoutEffect(()=>{const ve=w.domElement;d&&d==="blending"?(ve.style.zIndex=`${Math.floor(C[0]/2)}`,ve.style.position="absolute",ve.style.pointerEvents="none"):(ve.style.zIndex=null,ve.style.position=null,ve.style.pointerEvents=null)},[d]),F.useLayoutEffect(()=>{if(Y.current){const ve=V.current=dM(Q);if(D.updateMatrixWorld(),u)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const xe=x(Y.current,R,P);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${xe[0]}px,${xe[1]}px,0);transform-origin:0 0;`}return X&&(i?X.prepend(Q):X.appendChild(Q)),()=>{X&&X.removeChild(Q),ve.unmount()}}},[X,u]),F.useLayoutEffect(()=>{_&&(Q.className=_)},[_]);const re=F.useMemo(()=>u?{position:"absolute",top:0,left:0,width:P.width,height:P.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-P.height/2,left:-P.width/2,width:P.width,height:P.height},...t},[t,s,o,P,u]),Ne=F.useMemo(()=>({position:"absolute",pointerEvents:I}),[I]);F.useLayoutEffect(()=>{if(Ae.current=!1,u){var ve;(ve=V.current)==null||ve.render(F.createElement("div",{ref:K,style:re},F.createElement("div",{ref:ee,style:Ne},F.createElement("div",{ref:T,className:r,style:t,children:n}))))}else{var xe;(xe=V.current)==null||xe.render(F.createElement("div",{ref:T,style:re,className:r,children:n}))}});const Pe=F.useRef(!0);zI(ve=>{if(Y.current){R.updateMatrixWorld(),Y.current.updateWorldMatrix(!0,!1);const xe=u?j.current:x(Y.current,R,P);if(u||Math.abs(G.current-R.zoom)>e||Math.abs(j.current[0]-xe[0])>e||Math.abs(j.current[1]-xe[1])>e){const oe=ase(Y.current,R);let ne=!1;_e&&(Array.isArray(d)?ne=d.map(qe=>qe.current):d!=="blending"&&(ne=[D]));const Ce=Pe.current;if(ne){const qe=lse(Y.current,R,z,ne);Pe.current=qe&&!oe}else Pe.current=!oe;Ce!==Pe.current&&(p?p(!Pe.current):Q.style.display=Pe.current?"block":"none");const Me=Math.floor(C[0]/2),Fe=d?_e?[C[0],Me]:[Me-1,0]:C;if(Q.style.zIndex=`${use(Y.current,R,Fe)}`,u){const[qe,je]=[P.width/2,P.height/2],ze=R.projectionMatrix.elements[5]*je,{isOrthographicCamera:ct,top:rt,left:W,bottom:N,right:se}=R,we=fse(R.matrixWorldInverse),Te=ct?`scale(${ze})translate(${A5(-(se+W)/2)}px,${A5((rt+N)/2)}px)`:`translateZ(${ze}px)`;let Be=Y.current.matrixWorld;c&&(Be=R.matrixWorldInverse.clone().transpose().copyPosition(Be).scale(Y.current.scale),Be.elements[3]=Be.elements[7]=Be.elements[11]=0,Be.elements[15]=1),Q.style.width=P.width+"px",Q.style.height=P.height+"px",Q.style.perspective=ct?"":`${ze}px`,K.current&&ee.current&&(K.current.style.transform=`${Te}${we}translate(${qe}px,${je}px)`,ee.current.style.transform=hse(Be,1/((l||10)/400)))}else{const qe=l===void 0?1:cse(Y.current,R)*l;Q.style.transform=`translate3d(${xe[0]}px,${xe[1]}px,0) scale(${qe})`}j.current=xe,G.current=R.zoom}}if(!_e&&ae.current&&!Ae.current)if(u){if(K.current){const xe=K.current.children[0];if(xe!=null&&xe.clientWidth&&xe!=null&&xe.clientHeight){const{isOrthographicCamera:oe}=R;if(oe||v)M.scale&&(Array.isArray(M.scale)?M.scale instanceof L?ae.current.scale.copy(M.scale.clone().divideScalar(1)):ae.current.scale.set(1/M.scale[0],1/M.scale[1],1/M.scale[2]):ae.current.scale.setScalar(1/M.scale));else{const ne=(l||10)/400,Ce=xe.clientWidth*ne,Me=xe.clientHeight*ne;ae.current.scale.set(Ce,Me,1)}Ae.current=!0}}}else{const xe=Q.children[0];if(xe!=null&&xe.clientWidth&&xe!=null&&xe.clientHeight){const oe=1/k.factor,ne=xe.clientWidth*oe,Ce=xe.clientHeight*oe;ae.current.scale.set(ne,Ce,1),Ae.current=!0}ae.current.lookAt(ve.camera.position)}});const Le=F.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return F.createElement("group",Z({},M,{ref:Y}),d&&!_e&&F.createElement("mesh",{castShadow:m,receiveShadow:g,ref:ae},v||F.createElement("planeGeometry",null),A||F.createElement("shaderMaterial",{side:ro,vertexShader:Le.vertexShader,fragmentShader:Le.fragmentShader})))});let Sf=0;const mse=II(n=>(Rc.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Sf)/(r-Sf)*100})},Rc.onLoad=()=>{n({active:!1})},Rc.onError=e=>n(t=>({errors:[...t.errors,e]})),Rc.onProgress=(e,t,r)=>{t===r&&(Sf=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Sf)/(r-Sf)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));let g0=null,XI="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function $I(n,e,t){return r=>{t&&t(r),n&&(g0||(g0=new mI),g0.setDecoderPath(typeof n=="string"?n:XI),r.setDRACOLoader(g0)),e&&r.setMeshoptDecoder(typeof I2=="function"?I2():I2)}}function Xm(n,e=!0,t=!0,r){return ud(Mm,n,$I(e,t,r))}Xm.preload=(n,e=!0,t=!0,r)=>ud.preload(Mm,n,$I(e,t,r));Xm.clear=n=>ud.clear(Mm,n);Xm.setDecoderPath=n=>{XI=n};const gse=F.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=xi(M=>M.invalidate),p=xi(M=>M.camera),m=xi(M=>M.gl),g=xi(M=>M.events),A=xi(M=>M.setEvents),v=xi(M=>M.set),C=xi(M=>M.get),x=xi(M=>M.performance),E=e||p,_=r||g.connected||m.domElement,I=F.useMemo(()=>new Aj(E),[E]);return zI(()=>{I.enabled&&I.update()},-1),F.useEffect(()=>(s&&I.connect(s===!0?_:s),I.connect(_),()=>void I.dispose()),[s,_,t,I,d]),F.useEffect(()=>{const M=R=>{d(),t&&x.regress(),o&&o(R)},T=R=>{a&&a(R)},w=R=>{l&&l(R)};return I.addEventListener("change",M),I.addEventListener("start",T),I.addEventListener("end",w),()=>{I.removeEventListener("start",T),I.removeEventListener("end",w),I.removeEventListener("change",M)}},[o,a,l,I,d,A]),F.useEffect(()=>{if(n){const M=C().controls;return v({controls:I}),()=>v({controls:M})}},[n,I]),F.createElement("primitive",Z({ref:u,object:I,enableDamping:i},c))});function Ase({all:n,scene:e,camera:t}){const r=xi(({gl:o})=>o),i=xi(({camera:o})=>o),s=xi(({scene:o})=>o);return F.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),r.compile(e||s,t||i);const a=new nv(128);new tv(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const vse=()=>{const{progress:n}=mse();return $.jsxs(pse,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[$.jsx("span",{className:"canvas-loader"}),$.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},yse=()=>{const n=Xm("/planet/scene.gltf");return $.jsx("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},xse=({className:n})=>$.jsx(ise,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},className:n,children:$.jsxs(F.Suspense,{fallback:$.jsx(vse,{}),children:[$.jsx(gse,{autoRotate:!0,enableZoom:!1,enablePan:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),$.jsx(yse,{}),$.jsx(Ase,{all:!0})]})}),Cse="_form_1vei0_1",Ese="_clippedButton_1vei0_23",Sse="_disabled_1vei0_29",_se="_errormsg_1vei0_33",bse="_validError_1vei0_42",Ise="_loading_1vei0_48",wse="_spinner_1vei0_1",Mse="_waitingMsg_1vei0_62",Tse="_svgInline_1vei0_76",Bse="_svgMui_1vei0_85",ao={form:Cse,clippedButton:Ese,disabled:Sse,errormsg:_se,validError:bse,loading:Ise,spinner:wse,waitingMsg:Mse,svgInline:Tse,svgMui:Bse},Rse="_btn_idvf5_5",Pse="_skyblue_idvf5_48",Dse="_blue_idvf5_56",Lse="_grey_idvf5_64",Fse="_green_idvf5_72",kse="_yellow_idvf5_80",Q7={btn:Rse,skyblue:Pse,blue:Dse,grey:Lse,green:Fse,yellow:kse},Nse=({onClick:n,to:e,color:t,className:r,children:i})=>{const s=n||(()=>{});return $.jsx(pM,{onClick:s,to:e,className:[Q7.btn,Q7[t],r].join(" "),children:$.jsx("span",{children:i})})},Ose=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Use(n={}){const{disableGlobal:e=!1,productionPrefix:t="jss",seed:r=""}=n,i=r===""?"":`${r}-`;let s=0;const o=()=>(s+=1,s);return(a,l)=>{const c=l.options.name;if(c&&c.indexOf("Mui")===0&&!l.options.link&&!e){if(Ose.indexOf(a.key)!==-1)return`Mui-${a.key}`;const u=`${i}${c}-${a.key}`;return!l.options.theme[wB]||r!==""?u:`${u}-${o()}`}return`${i}${t}${o()}`}}var H7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hd=(typeof window>"u"?"undefined":H7(window))==="object"&&(typeof document>"u"?"undefined":H7(document))==="object"&&document.nodeType===9;function Bh(n){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(n)}function Gse(n,e){if(Bh(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Bh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qse(n){var e=Gse(n,"string");return Bh(e)==="symbol"?e:String(e)}function z7(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Qse(r.key),r)}}function ZI(n,e,t){return e&&z7(n.prototype,e),t&&z7(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var Hse={}.constructor;function v5(n){if(n==null||typeof n!="object")return n;if(Array.isArray(n))return n.map(v5);if(n.constructor!==Hse)return n;var e={};for(var t in n)e[t]=v5(n[t]);return e}function g6(n,e,t){n===void 0&&(n="unnamed");var r=t.jss,i=v5(e),s=r.plugins.onCreateRule(n,i,t);return s||(n[0],null)}var V7=function(e,t){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=t),r+=e[i];return r},vl=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)t&&(t+=", "),t+=V7(e[r]," ");else t=V7(e,", ");return e[e.length-1]==="!important"&&(t+=" !important"),t};function Pu(n){return n&&n.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function _f(n,e){for(var t="",r=0;r<e;r++)t+="  ";return t+n}function Rh(n,e,t){t===void 0&&(t={});var r="";if(!e)return r;var i=t,s=i.indent,o=s===void 0?0:s,a=e.fallbacks;t.format===!1&&(o=-1/0);var l=Pu(t),c=l.linebreak,u=l.space;if(n&&o++,a)if(Array.isArray(a))for(var d=0;d<a.length;d++){var p=a[d];for(var m in p){var g=p[m];g!=null&&(r&&(r+=c),r+=_f(m+":"+u+vl(g)+";",o))}}else for(var A in a){var v=a[A];v!=null&&(r&&(r+=c),r+=_f(A+":"+u+vl(v)+";",o))}for(var C in e){var x=e[C];x!=null&&C!=="fallbacks"&&(r&&(r+=c),r+=_f(C+":"+u+vl(x)+";",o))}return!r&&!t.allowEmpty||!n?r:(o--,r&&(r=""+c+r+c),_f(""+n+u+"{"+r,o)+_f("}",o))}var zse=/([[\].#*$><+~=|^:(),"'`\s])/g,W7=typeof CSS<"u"&&CSS.escape,A6=function(n){return W7?W7(n):n.replace(zse,"\\$1")},ew=function(){function n(t,r,i){this.type="style",this.isProcessed=!1;var s=i.sheet,o=i.Renderer;this.key=t,this.options=i,this.style=r,s?this.renderer=s.renderer:o&&(this.renderer=new o)}var e=n.prototype;return e.prop=function(r,i,s){if(i===void 0)return this.style[r];var o=s?s.force:!1;if(!o&&this.style[r]===i)return this;var a=i;(!s||s.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,c=r in this.style;if(l&&!c&&!o)return this;var u=l&&c;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},n}(),y5=function(n){hC(e,n);function e(r,i,s){var o;o=n.call(this,r,i,s)||this;var a=s.selector,l=s.scoped,c=s.sheet,u=s.generateId;return a?o.selectorText=a:l!==!1&&(o.id=u(ny(ny(o)),c),o.selectorText="."+A6(o.id)),o}var t=e.prototype;return t.applyTo=function(i){var s=this.renderer;if(s){var o=this.toJSON();for(var a in o)s.setProperty(i,a,o[a])}return this},t.toJSON=function(){var i={};for(var s in this.style){var o=this.style[s];typeof o!="object"?i[s]=o:Array.isArray(o)&&(i[s]=vl(o))}return i},t.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?Z({},i,{allowEmpty:!0}):i;return Rh(this.selectorText,this.style,a)},ZI(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var s=this.renderer,o=this.renderable;if(!(!o||!s)){var a=s.setSelector(o,i);a||s.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(ew),Vse={onCreateRule:function(e,t,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new y5(e,t,r)}},N2={indent:1,children:!0},Wse=/@([\w-]+)/,Jse=function(){function n(t,r,i){this.type="conditional",this.isProcessed=!1,this.key=t;var s=t.match(Wse);this.at=s?s[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new $m(Z({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=N2);var i=Pu(r),s=i.linebreak;if(r.indent==null&&(r.indent=N2.indent),r.children==null&&(r.children=N2.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+s+o+s+"}":""},n}(),jse=/@container|@media|@supports\s+/,Kse={onCreateRule:function(e,t,r){return jse.test(e)?new Jse(e,t,r):null}},O2={indent:1,children:!0},qse=/@keyframes\s+([\w-]+)/,x5=function(){function n(t,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var s=t.match(qse);s&&s[1]?this.name=s[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var o=i.scoped,a=i.sheet,l=i.generateId;this.id=o===!1?this.name:A6(l(this,a)),this.rules=new $m(Z({},i,{parent:this}));for(var c in r)this.rules.add(c,r[c],Z({},i,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(r){r===void 0&&(r=O2);var i=Pu(r),s=i.linebreak;if(r.indent==null&&(r.indent=O2.indent),r.children==null&&(r.children=O2.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+s+o+s),this.at+" "+this.id+" {"+o+"}"},n}(),Yse=/@keyframes\s+/,Xse=/\$([\w-]+)/g,C5=function(e,t){return typeof e=="string"?e.replace(Xse,function(r,i){return i in t?t[i]:r}):e},J7=function(e,t,r){var i=e[t],s=C5(i,r);s!==i&&(e[t]=s)},$se={onCreateRule:function(e,t,r){return typeof e=="string"&&Yse.test(e)?new x5(e,t,r):null},onProcessStyle:function(e,t,r){return t.type!=="style"||!r||("animation-name"in e&&J7(e,"animation-name",r.keyframes),"animation"in e&&J7(e,"animation",r.keyframes)),e},onChangeValue:function(e,t,r){var i=r.options.sheet;if(!i)return e;switch(t){case"animation":return C5(e,i.keyframes);case"animation-name":return C5(e,i.keyframes);default:return e}}},Zse=function(n){hC(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?Z({},i,{allowEmpty:!0}):i;return Rh(this.key,this.style,a)},e}(ew),eoe={onCreateRule:function(e,t,r){return r.parent&&r.parent.type==="keyframes"?new Zse(e,t,r):null}},toe=function(){function n(t,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){var i=Pu(r),s=i.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=Rh(this.at,this.style[a]),this.style[a+1]&&(o+=s);return o}return Rh(this.at,this.style,r)},n}(),noe=/@font-face/,roe={onCreateRule:function(e,t,r){return noe.test(e)?new toe(e,t,r):null}},ioe=function(){function n(t,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){return Rh(this.key,this.style,r)},n}(),soe={onCreateRule:function(e,t,r){return e==="@viewport"||e==="@-ms-viewport"?new ioe(e,t,r):null}},ooe=function(){function n(t,r,i){this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=i}var e=n.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",s=0;s<this.value.length;s++)i+=this.key+" "+this.value[s]+";",this.value[s+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},n}(),aoe={"@charset":!0,"@import":!0,"@namespace":!0},loe={onCreateRule:function(e,t,r){return e in aoe?new ooe(e,t,r):null}},j7=[Vse,Kse,$se,eoe,roe,soe,loe],coe={process:!0},K7={force:!0,process:!0},$m=function(){function n(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=n.prototype;return e.add=function(r,i,s){var o=this.options,a=o.parent,l=o.sheet,c=o.jss,u=o.Renderer,d=o.generateId,p=o.scoped,m=Z({classes:this.classes,parent:a,sheet:l,jss:c,Renderer:u,generateId:d,scoped:p,name:r,keyframes:this.keyframes,selector:void 0},s),g=r;r in this.raw&&(g=r+"-d"+this.counter++),this.raw[g]=i,g in this.classes&&(m.selector="."+A6(this.classes[g]));var A=g6(g,i,m);if(!A)return null;this.register(A);var v=m.index===void 0?this.index.length:m.index;return this.index.splice(v,0,A),A},e.replace=function(r,i,s){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var l=s;return a!==-1&&(l=Z({},s,{index:a})),this.add(r,i,l)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof y5?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof x5&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof y5?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof x5&&delete this.keyframes[r.name]},e.update=function(){var r,i,s;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],s=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,s);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],i,s)},e.updateOne=function(r,i,s){s===void 0&&(s=coe);var o=this.options,a=o.jss.plugins,l=o.sheet;if(r.rules instanceof n){r.rules.update(i,s);return}var c=r.style;if(a.onUpdate(i,r,l,s),s.process&&c&&c!==r.style){a.onProcessStyle(r.style,r,l);for(var u in r.style){var d=r.style[u],p=c[u];d!==p&&r.prop(u,d,K7)}for(var m in c){var g=r.style[m],A=c[m];g==null&&g!==A&&r.prop(m,null,K7)}}},e.toString=function(r){for(var i="",s=this.options.sheet,o=s?s.options.link:!1,a=Pu(r),l=a.linebreak,c=0;c<this.index.length;c++){var u=this.index[c],d=u.toString(r);!d&&!o||(i&&(i+=l),i+=d)}return i},n}(),tw=function(){function n(t,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Z({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new $m(this.options);for(var i in t)this.rules.add(i,t[i]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,s){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,i,s);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,i,s){var o=this.rules.get(r);if(!o)return this.addRule(r,i,s);var a=this.rules.replace(r,i,s);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var s=[];for(var o in r){var a=this.addRule(o,r[o],i);a&&s.push(a)}return s},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,s){return this.rules.updateOne(r,i,s),this},e.toString=function(r){return this.rules.toString(r)},n}(),uoe=function(){function n(){this.plugins={internal:[],external:[]},this.registry={}}var e=n.prototype;return e.onCreateRule=function(r,i,s){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,i,s);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,s=0;s<this.registry.onProcessRule.length;s++)this.registry.onProcessRule[s](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,s){for(var o=0;o<this.registry.onProcessStyle.length;o++)i.style=this.registry.onProcessStyle[o](i.style,i,s)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,s,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,s,o)},e.onChangeValue=function(r,i,s){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,i,s);return o},e.use=function(r,i){i===void 0&&(i={queue:"external"});var s=this.plugins[i.queue];s.indexOf(r)===-1&&(s.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var l in a)l in o&&o[l].push(a[l]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),foe=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(r){var i=this.registry,s=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||s>=this.index){i.push(r);return}for(var o=0;o<i.length;o++)if(i[o].options.index>s){i.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,s=i.attached,o=_t(i,["attached"]),a=Pu(o),l=a.linebreak,c="",u=0;u<this.registry.length;u++){var d=this.registry[u];s!=null&&d.attached!==s||(c&&(c+=l),c+=d.toString(o))}return c},ZI(n,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),qf=new foe,E5=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),S5="2f1acc6c3a606b082e5eef5e54414ffb";E5[S5]==null&&(E5[S5]=0);var q7=E5[S5]++,Y7=function(e){e===void 0&&(e={});var t=0,r=function(s,o){t+=1;var a="",l="";return o&&(o.options.classNamePrefix&&(l=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(l||"c")+q7+a+t:l+s.key+"-"+q7+(a?"-"+a:"")+"-"+t};return r},nw=function(e){var t;return function(){return t||(t=e()),t}},hoe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch{return""}},doe=function(e,t,r){try{var i=r;if(Array.isArray(r)&&(i=vl(r)),e.attributeStyleMap)e.attributeStyleMap.set(t,i);else{var s=i?i.indexOf("!important"):-1,o=s>-1?i.substr(0,s-1):i;e.style.setProperty(t,o,s>-1?"important":"")}}catch{return!1}return!0},poe=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch{}},moe=function(e,t){return e.selectorText=t,e.selectorText===t},rw=nw(function(){return document.querySelector("head")});function goe(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function Aoe(n,e){for(var t=n.length-1;t>=0;t--){var r=n[t];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function voe(n){for(var e=rw(),t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(r.nodeType===8&&r.nodeValue.trim()===n)return r}return null}function yoe(n){var e=qf.registry;if(e.length>0){var t=goe(e,n);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=Aoe(e,n),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var r=n.insertionPoint;if(r&&typeof r=="string"){var i=voe(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function xoe(n,e){var t=e.insertionPoint,r=yoe(e);if(r!==!1&&r.parent){r.parent.insertBefore(n,r.node);return}if(t&&typeof t.nodeType=="number"){var i=t,s=i.parentNode;s&&s.insertBefore(n,i.nextSibling);return}rw().appendChild(n)}var Coe=nw(function(){var n=document.querySelector('meta[property="csp-nonce"]');return n?n.getAttribute("content"):null}),X7=function(e,t,r){try{"insertRule"in e?e.insertRule(t,r):"appendRule"in e&&e.appendRule(t)}catch{return!1}return e.cssRules[r]},$7=function(e,t){var r=e.cssRules.length;return t===void 0||t>r?r:t},Eoe=function(){var e=document.createElement("style");return e.textContent=`
`,e},Soe=function(){function n(t){this.getPropertyValue=hoe,this.setProperty=doe,this.removeProperty=poe,this.setSelector=moe,this.hasInsertedRules=!1,this.cssRules=[],t&&qf.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},i=r.media,s=r.meta,o=r.element;this.element=o||Eoe(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),s&&this.element.setAttribute("data-meta",s);var a=Coe();a&&this.element.setAttribute("nonce",a)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){xoe(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var s=0;s<r.index.length;s++)this.insertRule(r.index[s],s,i)},e.insertRule=function(r,i,s){if(s===void 0&&(s=this.element.sheet),r.rules){var o=r,a=s;if(r.type==="conditional"||r.type==="keyframes"){var l=$7(s,i);if(a=X7(s,o.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(o.rules,a),a}var c=r.toString();if(!c)return!1;var u=$7(s,i),d=X7(s,c,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,i,s){r.renderable=s,r.options.parent instanceof tw&&this.cssRules.splice(i,0,s)},e.deleteRule=function(r){var i=this.element.sheet,s=this.indexOf(r);return s===-1?!1:(i.deleteRule(s),this.cssRules.splice(s,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var s=this.indexOf(r);return s===-1?!1:(this.element.sheet.deleteRule(s),this.cssRules.splice(s,1),this.insertRule(i,s))},e.getRules=function(){return this.element.sheet.cssRules},n}(),_oe=0,boe=function(){function n(t){this.id=_oe++,this.version="10.10.0",this.plugins=new uoe,this.options={id:{minify:!1},createGenerateId:Y7,Renderer:hd?Soe:null,plugins:[]},this.generateId=Y7({minify:!1});for(var r=0;r<j7.length;r++)this.plugins.use(j7[r],{queue:"internal"});this.setup(t)}var e=n.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Z({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var s=i,o=s.index;typeof o!="number"&&(o=qf.index===0?0:qf.index+1);var a=new tw(r,Z({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),qf.remove(r),this},e.createRule=function(r,i,s){if(i===void 0&&(i={}),s===void 0&&(s={}),typeof r=="object")return this.createRule(void 0,r,i);var o=Z({},s,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=g6(r,i,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.forEach(function(a){r.plugins.use(a)}),this},n}(),iw=function(e){return new boe(e)},v6=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function sw(n){var e=null;for(var t in n){var r=n[t],i=typeof r;if(i==="function")e||(e={}),e[t]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var s=sw(r);s&&(e||(e={}),e[t]=s)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */iw();var ow=Date.now(),U2="fnValues"+ow,G2="fnStyle"+ ++ow,Ioe=function(){return{onCreateRule:function(t,r,i){if(typeof r!="function")return null;var s=g6(t,{},i);return s[G2]=r,s},onProcessStyle:function(t,r){if(U2 in r||G2 in r)return t;var i={};for(var s in t){var o=t[s];typeof o=="function"&&(delete t[s],i[s]=o)}return r[U2]=i,t},onUpdate:function(t,r,i,s){var o=r,a=o[G2];a&&(o.style=a(t)||{});var l=o[U2];if(l)for(var c in l)o.prop(c,l[c](t),s)}}};const woe=Ioe;var Xo="@global",_5="@global ",Moe=function(){function n(t,r,i){this.type="global",this.at=Xo,this.isProcessed=!1,this.key=t,this.options=i,this.rules=new $m(Z({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},n}(),Toe=function(){function n(t,r,i){this.type="global",this.at=Xo,this.isProcessed=!1,this.key=t,this.options=i;var s=t.substr(_5.length);this.rule=i.jss.createRule(s,r,Z({},i,{parent:this}))}var e=n.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},n}(),Boe=/\s*,\s*/g;function aw(n,e){for(var t=n.split(Boe),r="",i=0;i<t.length;i++)r+=e+" "+t[i].trim(),t[i+1]&&(r+=", ");return r}function Roe(n,e){var t=n.options,r=n.style,i=r?r[Xo]:null;if(i){for(var s in i)e.addRule(s,i[s],Z({},t,{selector:aw(s,n.selector)}));delete r[Xo]}}function Poe(n,e){var t=n.options,r=n.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Xo.length)!==Xo)){var s=aw(i.substr(Xo.length),n.selector);e.addRule(s,r[i],Z({},t,{selector:s})),delete r[i]}}function Doe(){function n(t,r,i){if(!t)return null;if(t===Xo)return new Moe(t,r,i);if(t[0]==="@"&&t.substr(0,_5.length)===_5)return new Toe(t,r,i);var s=i.parent;return s&&(s.type==="global"||s.options.parent&&s.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=t),null}function e(t,r){t.type!=="style"||!r||(Roe(t,r),Poe(t,r))}return{onCreateRule:n,onProcessRule:e}}var Z7=/\s*,\s*/g,Loe=/&/g,Foe=/\$([\w-]+)/g;function koe(){function n(i,s){return function(o,a){var l=i.getRule(a)||s&&s.getRule(a);return l?l.selector:a}}function e(i,s){for(var o=s.split(Z7),a=i.split(Z7),l="",c=0;c<o.length;c++)for(var u=o[c],d=0;d<a.length;d++){var p=a[d];l&&(l+=", "),l+=p.indexOf("&")!==-1?p.replace(Loe,u):u+" "+p}return l}function t(i,s,o){if(o)return Z({},o,{index:o.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=Z({},i.options,{nestingLevel:a,index:s.indexOf(i)+1});return delete l.name,l}function r(i,s,o){if(s.type!=="style")return i;var a=s,l=a.options.parent,c,u;for(var d in i){var p=d.indexOf("&")!==-1,m=d[0]==="@";if(!(!p&&!m)){if(c=t(a,l,c),p){var g=e(d,a.selector);u||(u=n(l,o)),g=g.replace(Foe,u);var A=a.key+"-"+d;"replaceRule"in l?l.replaceRule(A,i[d],Z({},c,{selector:g})):l.addRule(A,i[d],Z({},c,{selector:g}))}else m&&l.addRule(d,{},c).addRule(a.key,i[d],{selector:a.selector});delete i[d]}}return i}return{onProcessStyle:r}}var Noe=/[A-Z]/g,Ooe=/^ms-/,Q2={};function Uoe(n){return"-"+n.toLowerCase()}function lw(n){if(Q2.hasOwnProperty(n))return Q2[n];var e=n.replace(Noe,Uoe);return Q2[n]=Ooe.test(e)?"-"+e:e}function m3(n){var e={};for(var t in n){var r=t.indexOf("--")===0?t:lw(t);e[r]=n[t]}return n.fallbacks&&(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(m3):e.fallbacks=m3(n.fallbacks)),e}function Goe(){function n(t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=m3(t[r]);return t}return m3(t)}function e(t,r,i){if(r.indexOf("--")===0)return t;var s=lw(r);return r===s?t:(i.prop(s,t),null)}return{onProcessStyle:n,onChangeValue:e}}var Ee=v6&&CSS?CSS.px:"px",A0=v6&&CSS?CSS.ms:"ms",Sc=v6&&CSS?CSS.percent:"%",Qoe={"animation-delay":A0,"animation-duration":A0,"background-position":Ee,"background-position-x":Ee,"background-position-y":Ee,"background-size":Ee,border:Ee,"border-bottom":Ee,"border-bottom-left-radius":Ee,"border-bottom-right-radius":Ee,"border-bottom-width":Ee,"border-left":Ee,"border-left-width":Ee,"border-radius":Ee,"border-right":Ee,"border-right-width":Ee,"border-top":Ee,"border-top-left-radius":Ee,"border-top-right-radius":Ee,"border-top-width":Ee,"border-width":Ee,"border-block":Ee,"border-block-end":Ee,"border-block-end-width":Ee,"border-block-start":Ee,"border-block-start-width":Ee,"border-block-width":Ee,"border-inline":Ee,"border-inline-end":Ee,"border-inline-end-width":Ee,"border-inline-start":Ee,"border-inline-start-width":Ee,"border-inline-width":Ee,"border-start-start-radius":Ee,"border-start-end-radius":Ee,"border-end-start-radius":Ee,"border-end-end-radius":Ee,margin:Ee,"margin-bottom":Ee,"margin-left":Ee,"margin-right":Ee,"margin-top":Ee,"margin-block":Ee,"margin-block-end":Ee,"margin-block-start":Ee,"margin-inline":Ee,"margin-inline-end":Ee,"margin-inline-start":Ee,padding:Ee,"padding-bottom":Ee,"padding-left":Ee,"padding-right":Ee,"padding-top":Ee,"padding-block":Ee,"padding-block-end":Ee,"padding-block-start":Ee,"padding-inline":Ee,"padding-inline-end":Ee,"padding-inline-start":Ee,"mask-position-x":Ee,"mask-position-y":Ee,"mask-size":Ee,height:Ee,width:Ee,"min-height":Ee,"max-height":Ee,"min-width":Ee,"max-width":Ee,bottom:Ee,left:Ee,top:Ee,right:Ee,inset:Ee,"inset-block":Ee,"inset-block-end":Ee,"inset-block-start":Ee,"inset-inline":Ee,"inset-inline-end":Ee,"inset-inline-start":Ee,"box-shadow":Ee,"text-shadow":Ee,"column-gap":Ee,"column-rule":Ee,"column-rule-width":Ee,"column-width":Ee,"font-size":Ee,"font-size-delta":Ee,"letter-spacing":Ee,"text-decoration-thickness":Ee,"text-indent":Ee,"text-stroke":Ee,"text-stroke-width":Ee,"word-spacing":Ee,motion:Ee,"motion-offset":Ee,outline:Ee,"outline-offset":Ee,"outline-width":Ee,perspective:Ee,"perspective-origin-x":Sc,"perspective-origin-y":Sc,"transform-origin":Sc,"transform-origin-x":Sc,"transform-origin-y":Sc,"transform-origin-z":Sc,"transition-delay":A0,"transition-duration":A0,"vertical-align":Ee,"flex-basis":Ee,"shape-margin":Ee,size:Ee,gap:Ee,grid:Ee,"grid-gap":Ee,"row-gap":Ee,"grid-row-gap":Ee,"grid-column-gap":Ee,"grid-template-rows":Ee,"grid-template-columns":Ee,"grid-auto-rows":Ee,"grid-auto-columns":Ee,"box-shadow-x":Ee,"box-shadow-y":Ee,"box-shadow-blur":Ee,"box-shadow-spread":Ee,"font-line-height":Ee,"text-shadow-x":Ee,"text-shadow-y":Ee,"text-shadow-blur":Ee};function cw(n){var e=/(-[a-z])/g,t=function(o){return o[1].toUpperCase()},r={};for(var i in n)r[i]=n[i],r[i.replace(e,t)]=n[i];return r}var Hoe=cw(Qoe);function Yf(n,e,t){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Yf(n,e[r],t);else if(typeof e=="object")if(n==="fallbacks")for(var i in e)e[i]=Yf(i,e[i],t);else for(var s in e)e[s]=Yf(n+"-"+s,e[s],t);else if(typeof e=="number"&&isNaN(e)===!1){var o=t[n]||Hoe[n];return o&&!(e===0&&o===Ee)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function zoe(n){n===void 0&&(n={});var e=cw(n);function t(i,s){if(s.type!=="style")return i;for(var o in i)i[o]=Yf(o,i[o],e);return i}function r(i,s){return Yf(s,i,e)}return{onProcessStyle:t,onChangeValue:r}}function b5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Voe(n){if(Array.isArray(n))return b5(n)}function Woe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Joe(n,e){if(n){if(typeof n=="string")return b5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b5(n,e)}}function joe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(n){return Voe(n)||Woe(n)||Joe(n)||joe()}var Rf="",I5="",uw="",fw="",qoe=hd&&"ontouchstart"in document.documentElement;if(hd){var H2={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Yoe=document.createElement("p"),z2=Yoe.style,Xoe="Transform";for(var V2 in H2)if(V2+Xoe in z2){Rf=V2,I5=H2[V2];break}Rf==="Webkit"&&"msHyphens"in z2&&(Rf="ms",I5=H2.ms,fw="edge"),Rf==="Webkit"&&"-apple-trailing-word"in z2&&(uw="apple")}var St={js:Rf,css:I5,vendor:uw,browser:fw,isTouch:qoe};function $oe(n){return n[1]==="-"||St.js==="ms"?n:"@"+St.css+"keyframes"+n.substr(10)}var Zoe={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:St.js==="ms"?"-webkit-"+e:St.css+e}},eae={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:St.js==="Webkit"?St.css+"print-"+e:e}},tae=/[-\s]+(.)?/g;function nae(n,e){return e?e.toUpperCase():""}function y6(n){return n.replace(tae,nae)}function ma(n){return y6("-"+n)}var rae={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if(St.js==="Webkit"){var r="mask-image";if(y6(r)in t)return e;if(St.js+ma(r)in t)return St.css+e}return e}},iae={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:St.vendor==="apple"&&!St.isTouch?St.css+e:e}},sae={noPrefill:["transform"],supportedProperty:function(e,t,r){return e!=="transform"?!1:r.transform?e:St.css+e}},oae={noPrefill:["transition"],supportedProperty:function(e,t,r){return e!=="transition"?!1:r.transition?e:St.css+e}},aae={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:St.js==="Webkit"||St.js==="ms"&&St.browser!=="edge"?St.css+e:e}},lae={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:St.js==="Moz"||St.js==="ms"||St.vendor==="apple"?St.css+e:e}},cae={supportedProperty:function(e,t){if(!/^break-/.test(e))return!1;if(St.js==="Webkit"){var r="WebkitColumn"+ma(e);return r in t?St.css+"column-"+e:!1}if(St.js==="Moz"){var i="page"+ma(e);return i in t?"page-"+e:!1}return!1}},uae={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(St.js==="Moz")return e;var r=e.replace("-inline","");return St.js+ma(r)in t?St.css+r:!1}},fae={supportedProperty:function(e,t){return y6(e)in t?e:!1}},hae={supportedProperty:function(e,t){var r=ma(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:St.js+r in t?St.css+e:St.js!=="Webkit"&&"Webkit"+r in t?"-webkit-"+e:!1}},dae={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:St.js==="ms"?""+St.css+e:e}},pae={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:St.js==="ms"?St.css+"scroll-chaining":e}},mae={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},gae={supportedProperty:function(e,t){var r=mae[e];return r&&St.js+ma(r)in t?St.css+r:!1}},hw={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Aae=Object.keys(hw),vae=function(e){return St.css+e},yae={supportedProperty:function(e,t,r){var i=r.multiple;if(Aae.indexOf(e)>-1){var s=hw[e];if(!Array.isArray(s))return St.js+ma(s)in t?St.css+s:!1;if(!i)return!1;for(var o=0;o<s.length;o++)if(!(St.js+ma(s[0])in t))return!1;return s.map(vae)}return!1}},dw=[Zoe,eae,rae,iae,sae,oae,aae,lae,cae,uae,fae,hae,dae,pae,gae,yae],eC=dw.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),xae=dw.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,Koe(e.noPrefill)),n},[]),Pf,il={};if(hd){Pf=document.createElement("p");var W2=window.getComputedStyle(document.documentElement,"");for(var J2 in W2)isNaN(J2)||(il[W2[J2]]=W2[J2]);xae.forEach(function(n){return delete il[n]})}function w5(n,e){if(e===void 0&&(e={}),!Pf)return n;if(il[n]!=null)return il[n];(n==="transition"||n==="transform")&&(e[n]=n in Pf.style);for(var t=0;t<eC.length&&(il[n]=eC[t](n,Pf.style,e),!il[n]);t++);try{Pf.style[n]=""}catch{return!1}return il[n]}var _c={},Cae={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Eae=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Qo;function Sae(n,e,t){if(e==="var")return"var";if(e==="all")return"all";if(t==="all")return", all";var r=e?w5(e):", "+w5(t);return r||e||t}hd&&(Qo=document.createElement("p"));function tC(n,e){var t=e;if(!Qo||n==="content")return e;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var r=n+t;if(_c[r]!=null)return _c[r];try{Qo.style[n]=t}catch{return _c[r]=!1,!1}if(Cae[n])t=t.replace(Eae,Sae);else if(Qo.style[n]===""&&(t=St.css+t,t==="-ms-flex"&&(Qo.style[n]="-ms-flexbox"),Qo.style[n]=t,Qo.style[n]===""))return _c[r]=!1,!1;return Qo.style[n]="",_c[r]=t,_c[r]}function _ae(){function n(i){if(i.type==="keyframes"){var s=i;s.at=$oe(s.at)}}function e(i){for(var s in i){var o=i[s];if(s==="fallbacks"&&Array.isArray(o)){i[s]=o.map(e);continue}var a=!1,l=w5(s);l&&l!==s&&(a=!0);var c=!1,u=tC(l,vl(o));u&&u!==o&&(c=!0),(a||c)&&(a&&delete i[s],i[l||s]=u||o)}return i}function t(i,s){return s.type!=="style"?i:e(i)}function r(i,s){return tC(s,vl(i))||i}return{onProcessRule:n,onProcessStyle:t,onChangeValue:r}}function bae(){var n=function(t,r){return t.length===r.length?t>r?1:-1:t.length-r.length};return{onProcessStyle:function(t,r){if(r.type!=="style")return t;for(var i={},s=Object.keys(t).sort(n),o=0;o<s.length;o++)i[s[o]]=t[s[o]];return i}}}function Iae(){return{plugins:[woe(),Doe(),koe(),Goe(),zoe(),typeof window>"u"?null:_ae(),bae()]}}function pw(n={}){const{baseClasses:e,newClasses:t,Component:r}=n;if(!t)return e;const i=Z({},e);return Object.keys(t).forEach(s=>{t[s]&&(i[s]=`${e[s]} ${t[s]}`)}),i}const wae={set:(n,e,t,r)=>{let i=n.get(e);i||(i=new Map,n.set(e,i)),i.set(t,r)},get:(n,e,t)=>{const r=n.get(e);return r?r.get(t):void 0},delete:(n,e,t)=>{n.get(e).delete(t)}},Dc=wae;function Mae(){var n;const e=bB();return(n=e==null?void 0:e.$$material)!=null?n:e}const Tae=iw(Iae()),Bae=Use(),Rae=new Map,Pae={disableGeneration:!1,generateClassName:Bae,jss:Tae,sheetsCache:null,sheetsManager:Rae,sheetsRegistry:null},Dae=F.createContext(Pae);let nC=-1e9;function Lae(){return nC+=1,nC}const Fae=["variant"];function rC(n){return n.length===0}function kae(n){const{variant:e}=n,t=_t(n,Fae);let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=rC(r)?n[i]:fn(n[i]):r+=`${rC(r)?i:fn(i)}${fn(n[i].toString())}`}),r}const Nae={},Oae=Nae;function Uae(n){const e=typeof n=="function";return{create:(t,r)=>{let i;try{i=e?n(t):n}catch(l){throw l}if(!r||!t.components||!t.components[r]||!t.components[r].styleOverrides&&!t.components[r].variants)return i;const s=t.components[r].styleOverrides||{},o=t.components[r].variants||[],a=Z({},i);return Object.keys(s).forEach(l=>{a[l]=kr(a[l]||{},s[l])}),o.forEach(l=>{const c=kae(l.props);a[c]=kr(a[c]||{},l.style)}),a},options:{}}}const Gae=["name","classNamePrefix","Component","defaultTheme"];function Qae({state:n,stylesOptions:e},t,r){if(e.disableGeneration)return t||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,i=!0),t!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=t,i=!0),i&&(n.cacheClasses.value=pw({baseClasses:n.cacheClasses.lastJSS,newClasses:t,Component:r})),n.cacheClasses.value}function Hae({state:n,theme:e,stylesOptions:t,stylesCreator:r,name:i},s){if(t.disableGeneration)return;let o=Dc.get(t.sheetsManager,r,e);o||(o={refs:0,staticSheet:null,dynamicStyles:null},Dc.set(t.sheetsManager,r,e,o));const a=Z({},r.options,t,{theme:e,flip:typeof t.flip=="boolean"?t.flip:e.direction==="rtl"});a.generateId=a.serverGenerateClassName||a.generateClassName;const l=t.sheetsRegistry;if(o.refs===0){let c;t.sheetsCache&&(c=Dc.get(t.sheetsCache,r,e));const u=r.create(e,i);c||(c=t.jss.createStyleSheet(u,Z({link:!1},a)),c.attach(),t.sheetsCache&&Dc.set(t.sheetsCache,r,e,c)),l&&l.add(c),o.staticSheet=c,o.dynamicStyles=sw(u)}if(o.dynamicStyles){const c=t.jss.createStyleSheet(o.dynamicStyles,Z({link:!0},a));c.update(s),c.attach(),n.dynamicSheet=c,n.classes=pw({baseClasses:o.staticSheet.classes,newClasses:c.classes}),l&&l.add(c)}else n.classes=o.staticSheet.classes;o.refs+=1}function zae({state:n},e){n.dynamicSheet&&n.dynamicSheet.update(e)}function Vae({state:n,theme:e,stylesOptions:t,stylesCreator:r}){if(t.disableGeneration)return;const i=Dc.get(t.sheetsManager,r,e);i.refs-=1;const s=t.sheetsRegistry;i.refs===0&&(Dc.delete(t.sheetsManager,r,e),t.jss.removeStyleSheet(i.staticSheet),s&&s.remove(i.staticSheet)),n.dynamicSheet&&(t.jss.removeStyleSheet(n.dynamicSheet),s&&s.remove(n.dynamicSheet))}function Wae(n,e){const t=F.useRef([]);let r;const i=F.useMemo(()=>({}),e);t.current!==i&&(t.current=i,r=n()),F.useEffect(()=>()=>{r&&r()},[i])}function Jae(n,e={}){const{name:t,classNamePrefix:r,Component:i,defaultTheme:s=Oae}=e,o=_t(e,Gae),a=Uae(n),l=t||r||"makeStyles";return a.options={index:Lae(),name:t,meta:l,classNamePrefix:l},(u={})=>{const d=Mae()||s,p=Z({},F.useContext(Dae),o),m=F.useRef(),g=F.useRef();return Wae(()=>{const v={name:t,state:{},stylesCreator:a,stylesOptions:p,theme:d};return Hae(v,u),g.current=!1,m.current=v,()=>{Vae(v)}},[d,a]),F.useEffect(()=>{g.current&&zae(m.current,u),g.current=!0}),Qae(m.current,u.classes,i)}}const jae=/^[a-zA-Z0-9._%+-]+@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}$/,Kae=n=>jae.test(n),qae=({className:n})=>{const e=$ae(),[t,r]=F.useState({email:"",message:"",loading:!1}),i=async s=>{if(s.preventDefault(),!t.loading){if(!t.email||!t.message){alert("Please fill all the fields");return}if(!Kae(t.email)){alert("Please enter a valid email");return}r(o=>({...o,loading:!0}));try{const a=await(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,message:t.message})})).json();alert(Yae(JSON.stringify(a))),r({email:"",message:"",loading:!1})}catch(o){alert(Xae(JSON.stringify(o))),r(a=>({...a,loading:!1}))}}};return $.jsxs("div",{className:[n,ao.form,e.form].join(" "),children:[$.jsxs(Dy,{sx:{"& > :not(style)":{m:1},display:"flex",alignItems:"flex-end"},children:[$.jsx(nle,{}),$.jsx(zy,{id:"input-email",label:"Your Email",variant:"outlined",color:"warning",fullWidth:!0,value:t.email,onChange:s=>r(o=>({...o,email:s.target.value}))})]}),$.jsxs(Dy,{sx:{"& > :not(style)":{m:1},display:"flex",alignItems:"flex-end"},children:[$.jsx(rle,{}),$.jsx(zy,{id:"input-msg",label:"Message",variant:"outlined",color:"warning",fullWidth:!0,multiline:!0,rows:6,value:t.message,onChange:s=>r(o=>({...o,message:s.target.value}))})]}),$.jsx(Zae,{submitForm:i,loading:t.loading}),t.loading?$.jsxs("div",{className:ao.waitingMsg,children:["It may take up to ",$.jsx("span",{children:"5 seconds"})," to send !"]}):""]})},Yae=n=>`The message has been successfully sent
${n}`,Xae=n=>`The message could not be sent
If you would like to contact me, please send an email to 125aryaaman@gmail.com
${n}`,$ae=Jae(n=>({form:{"& .MuiInputBase-input":{color:"white"},"& .MuiFormLabel-root":{color:"white"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgb(255 255 255 / 0.5)"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"#ed6c02"}},"& .MuiSvgIcon-root":{color:"rgb(255 255 255 / 0.7)",mr:1,my:.5}}})),Zae=({loading:n,submitForm:e})=>$.jsx(Nse,{onClick:e,color:"skyblue",className:[ao.clippedButton,n?ao.disabled:""].join(" "),children:n?$.jsx(tle,{}):$.jsx(ele,{})}),ele=()=>$.jsxs($.Fragment,{children:[$.jsx("svg",{className:ao.svgInline,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"paper-plane",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$.jsx("path",{fill:"currentColor",d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"})}),"Send Message"]}),tle=()=>$.jsxs($.Fragment,{children:[$.jsx("svg",{className:[ao.loading,ao.svgInline].join(" "),"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:$.jsx("path",{fill:"currentColor",d:"M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"})}),"Sending Email"]}),nle=()=>$.jsx("svg",{className:ao.svgMui,focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"EmailOutlinedIcon",children:$.jsx("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"})}),rle=()=>$.jsx("svg",{className:ao.svgMui,focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"MessageOutlinedIcon",children:$.jsx("path",{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h12v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"})}),ile="_contactImage_slxvq_1",sle={contactImage:ile},ole=()=>$.jsx("img",{src:ry.imagesrc,alt:ry.imagealt,className:sle.contactImage}),ale=({children:n})=>$.jsxs("section",{id:"contact",className:ja.contact,children:[$.jsxs("div",{className:ja.heading_1,children:[$.jsx("p",{className:ja.heading_2,children:"Get In Touch"}),$.jsx("h2",{className:ja.headText,children:"Say Hello"})]}),$.jsxs("div",{className:ja.container,children:[$.jsx(qae,{className:ja.dsizeF}),$.jsx(xse,{className:ja.dsizeE})]}),$.jsx(ole,{}),n]}),lle="_scrollIndicator_93fix_1",cle="_introScrollIndicator_93fix_1",ule={scrollIndicator:lle,introScrollIndicator:cle},fle=({mountDelay:n,href:e})=>{const[t,r]=F.useState("true"),[i,s]=F.useState(!1);return F.useEffect(()=>{const o=setTimeout(()=>r("false"),n-1),a=setTimeout(()=>s(!0),n),l=()=>{const c=document.documentElement.scrollTop;c>=20?r("true"):c<20&&r("false")};return window.addEventListener("scroll",l),()=>{clearTimeout(o),clearTimeout(a),window.removeEventListener("scroll",l)}},[]),$.jsx("a",{className:ule.scrollIndicator,"data-hidden":i?t:"true",href:e,"aria-label":"Scroll to next section",children:"Scroll Indicator"})},Ale=()=>{const{refreshActiveNavLink:n}=F.useContext(mM);return F.useEffect(()=>{n()},[n]),$.jsxs(F.Fragment,{children:[$.jsx(Hne,{}),$.jsx($ne,{}),$.jsxs("main",{id:"portfolio-main",className:gre.mainComponent,children:[$.jsx(pre,{}),$.jsx(fle,{mountDelay:2e3,href:"#about"}),$.jsx(Xre,{}),$.jsx(sie,{}),$.jsx(ale,{})]}),$.jsx(tre,{})]})};export{Ale as default};
